webpackJsonp([0],Array(52).concat([function(e,t,n){function r(e){n(228)}var a=n(9)(n(230),n(373),r,null,null);e.exports=a.exports},,,,,function(e,t,n){"use strict";var r=n(58),a=n(59),i=n(69),o=i.FP_SAFE,l=i.BADNUM,s=e.exports={};s.nestedProperty=n(117),s.keyedContainer=n(238),s.relativeAttr=n(239),s.isPlainObject=n(101),s.isArray=n(140),s.mod=n(141),s.toLogRange=n(142),s.relinkPrivateKeys=n(240),s.ensureArray=n(241);var c=n(242);s.valObjectMeta=c.valObjectMeta,s.coerce=c.coerce,s.coerce2=c.coerce2,s.coerceFont=c.coerceFont,s.coerceHoverinfo=c.coerceHoverinfo,s.validate=c.validate;var u=n(243);s.dateTime2ms=u.dateTime2ms,s.isDateTime=u.isDateTime,s.ms2DateTime=u.ms2DateTime,s.ms2DateTimeLocal=u.ms2DateTimeLocal,s.cleanDate=u.cleanDate,s.isJSDate=u.isJSDate,s.formatDate=u.formatDate,s.incrementMonth=u.incrementMonth,s.dateTick0=u.dateTick0,s.dfltRange=u.dfltRange,s.findExactDates=u.findExactDates,s.MIN_MS=u.MIN_MS,s.MAX_MS=u.MAX_MS;var f=n(179);s.findBin=f.findBin,s.sorterAsc=f.sorterAsc,s.sorterDes=f.sorterDes,s.distinctVals=f.distinctVals,s.roundUp=f.roundUp;var d=n(244);s.aggNums=d.aggNums,s.len=d.len,s.mean=d.mean,s.variance=d.variance,s.stdev=d.stdev,s.interp=d.interp;var h=n(180);s.init2dArray=h.init2dArray,s.transposeRagged=h.transposeRagged,s.dot=h.dot,s.translationMatrix=h.translationMatrix,s.rotationMatrix=h.rotationMatrix,s.rotationXYMatrix=h.rotationXYMatrix,s.apply2DTransform=h.apply2DTransform,s.apply2DTransform2=h.apply2DTransform2;var p=n(245);s.segmentsIntersect=p.segmentsIntersect,s.segmentDistance=p.segmentDistance,s.getTextLocation=p.getTextLocation,s.clearLocationCache=p.clearLocationCache,s.getVisibleSegment=p.getVisibleSegment;var g=n(67);s.extendFlat=g.extendFlat,s.extendDeep=g.extendDeep,s.extendDeepAll=g.extendDeepAll,s.extendDeepNoArrays=g.extendDeepNoArrays;var v=n(100);s.log=v.log,s.warn=v.warn,s.error=v.error;var y=n(178);s.counterRegex=y.counter;var m=n(143);s.throttle=m.throttle,s.throttleDone=m.done,s.clearThrottle=m.clear,s.getGraphDiv=n(181),s.notifier=n(246),s.filterUnique=n(247),s.filterVisible=n(248),s.pushUnique=n(173),s.cleanNumber=n(249),s.ensureNumber=function(e){return a(e)?(e=Number(e),e<-o||e>o?l:a(e)?Number(e):l):l},s.noop=n(138),s.identity=n(250),s.swapAttrs=function(e,t,n,r){n||(n="x"),r||(r="y");for(var a=0;a<t.length;a++){var i=t[a],o=s.nestedProperty(e,i.replace("?",n)),l=s.nestedProperty(e,i.replace("?",r)),c=o.get();o.set(l.get()),l.set(c)}},s.pauseEvent=function(e){return e.stopPropagation&&e.stopPropagation(),e.preventDefault&&e.preventDefault(),e.cancelBubble=!0,!1},s.raiseToTop=function(e){e.parentNode.appendChild(e)},s.cancelTransition=function(e){return e.transition().duration(0)},s.constrain=function(e,t,n){return t>n?Math.max(n,Math.min(t,e)):Math.max(t,Math.min(n,e))},s.bBoxIntersect=function(e,t,n){return n=n||0,e.left<=t.right+n&&t.left<=e.right+n&&e.top<=t.bottom+n&&t.top<=e.bottom+n},s.simpleMap=function(e,t,n,r){for(var a=e.length,i=new Array(a),o=0;o<a;o++)i[o]=t(e[o],n,r);return i},s.randstr=function e(t,n,r){if(r||(r=16),void 0===n&&(n=24),n<=0)return"0";var a,i,o,l=Math.log(Math.pow(2,n))/Math.log(r),s="";for(a=2;l===1/0;a*=2)l=Math.log(Math.pow(2,n/a))/Math.log(r)*a;var c=l-Math.floor(l);for(a=0;a<Math.floor(l);a++)o=Math.floor(Math.random()*r).toString(r),s=o+s;c&&(i=Math.pow(r,c),o=Math.floor(Math.random()*i).toString(r),s=o+s);var u=parseInt(s,r);return t&&t.indexOf(s)>-1||u!==1/0&&u>=Math.pow(2,n)?e(t,n,r):s},s.OptionControl=function(e,t){e||(e={}),t||(t="opt");var n={};return n.optionList=[],n._newoption=function(r){r[t]=e,n[r.name]=r,n.optionList.push(r)},n["_"+t]=e,n},s.smooth=function(e,t){if((t=Math.round(t)||0)<2)return e;var n,r,a,i,o=e.length,l=2*o,s=2*t-1,c=new Array(s),u=new Array(o);for(n=0;n<s;n++)c[n]=(1-Math.cos(Math.PI*(n+1)/t))/(2*t);for(n=0;n<o;n++){for(i=0,r=0;r<s;r++)a=n+r+1-t,a<-o?a-=l*Math.round(a/l):a>=l&&(a-=l*Math.floor(a/l)),a<0?a=-1-a:a>=o&&(a=l-1-a),i+=e[a]*c[r];u[n]=i}return u},s.syncOrAsync=function(e,t,n){function r(){return s.syncOrAsync(e,t,n)}for(var a,i;e.length;)if(i=e.splice(0,1)[0],(a=i(t))&&a.then)return a.then(r).then(void 0,s.promiseError);return n&&n(t)},s.stripTrailingSlash=function(e){return"/"===e.substr(-1)?e.substr(0,e.length-1):e},s.noneOrAll=function(e,t,n){if(e){var r,a,i=!1,o=!0;for(r=0;r<n.length;r++)a=e[n[r]],void 0!==a&&null!==a?i=!0:o=!1;if(i&&!o)for(r=0;r<n.length;r++)e[n[r]]=t[n[r]]}},s.mergeArray=function(e,t,n){if(Array.isArray(e))for(var r=Math.min(e.length,t.length),a=0;a<r;a++)t[a][n]=e[a]},s.fillArray=function(e,t,n,r){if(r=r||s.identity,Array.isArray(e))for(var a=0;a<t.length;a++)t[a][n]=r(e[a])},s.castOption=function(e,t,n,r){r=r||s.identity;var a=s.nestedProperty(e,n).get();return Array.isArray(a)?r(Array.isArray(t)&&Array.isArray(a[t[0]])?a[t[0]][t[1]]:a[t]):a},s.extractOption=function(e,t,n,r){if(n in e)return e[n];var a=s.nestedProperty(t,r).get();return Array.isArray(a)?void 0:a},s.getTargetArray=function(e,t){var n=t.target;if("string"==typeof n&&n){var r=s.nestedProperty(e,n).get();return!!Array.isArray(r)&&r}return!!Array.isArray(n)&&n},s.minExtend=function(e,t){var n={};"object"!=typeof t&&(t={});var r,a,i,o=Object.keys(e);for(r=0;r<o.length;r++)a=o[r],i=e[a],"_"!==a.charAt(0)&&"function"!=typeof i&&("module"===a?n[a]=i:Array.isArray(i)?n[a]=i.slice(0,3):n[a]=i&&"object"==typeof i?s.minExtend(e[a],t[a]):i);for(o=Object.keys(t),r=0;r<o.length;r++)a=o[r],"object"==typeof(i=t[a])&&a in n&&"object"==typeof n[a]||(n[a]=i);return n},s.titleCase=function(e){return e.charAt(0).toUpperCase()+e.substr(1)},s.containsAny=function(e,t){for(var n=0;n<t.length;n++)if(-1!==e.indexOf(t[n]))return!0;return!1},s.isPlotDiv=function(e){var t=r.select(e);return t.node()instanceof HTMLElement&&t.size()&&t.classed("js-plotly-plot")},s.removeElement=function(e){var t=e&&e.parentNode;t&&t.removeChild(e)},s.addStyleRule=function(e,t){if(!s.styleSheet){var n=document.createElement("style");n.appendChild(document.createTextNode("")),document.head.appendChild(n),s.styleSheet=n.sheet}var r=s.styleSheet;r.insertRule?r.insertRule(e+"{"+t+"}",0):r.addRule?r.addRule(e,t,0):s.warn("addStyleRule failed")},s.isIE=function(){return void 0!==window.navigator.msSaveBlob},s.isD3Selection=function(e){return e&&"function"==typeof e.classed},s.objectFromPath=function(e,t){for(var n,r=e.split("."),a=n={},i=0;i<r.length;i++){var o=r[i],l=null,s=r[i].match(/(.*)\[([0-9]+)\]/);s?(o=s[1],l=s[2],n=n[o]=[],i===r.length-1?n[l]=t:n[l]={},n=n[l]):(i===r.length-1?n[o]=t:n[o]={},n=n[o])}return a};var x=/^([^\[\.]+)\.(.+)?/,b=/^([^\.]+)\[([0-9]+)\](\.)?(.+)?/;s.expandObjectPaths=function(e){var t,n,r,a,i,o,l;if("object"==typeof e&&!Array.isArray(e))for(n in e)e.hasOwnProperty(n)&&((t=n.match(x))?(a=e[n],r=t[1],delete e[n],e[r]=s.extendDeepNoArrays(e[r]||{},s.objectFromPath(n,s.expandObjectPaths(a))[r])):(t=n.match(b))?(a=e[n],r=t[1],i=parseInt(t[2]),delete e[n],e[r]=e[r]||[],"."===t[3]?(l=t[4],o=e[r][i]=e[r][i]||{},s.extendDeepNoArrays(o,s.objectFromPath(l,s.expandObjectPaths(a)))):e[r][i]=s.expandObjectPaths(a)):e[n]=s.expandObjectPaths(e[n]));return e},s.numSeparate=function(e,t,n){if(n||(n=!1),"string"!=typeof t||0===t.length)throw new Error("Separator string required for formatting!");"number"==typeof e&&(e=String(e));var r=/(\d+)(\d{3})/,a=t.charAt(0),i=t.charAt(1),o=e.split("."),l=o[0],s=o.length>1?a+o[1]:"";if(i&&(o.length>1||l.length>4||n))for(;r.test(l);)l=l.replace(r,"$1"+i+"$2");return l+s};var _=/%{([^\s%{}]*)}/g,w=/^\w*$/;s.templateString=function(e,t){var n={};return e.replace(_,function(e,r){return w.test(r)?t[r]||"":(n[r]=n[r]||s.nestedProperty(t,r).get,n[r]()||"")})}},function(e,t,n){var r,a;!function(){function i(e){return e&&(e.ownerDocument||e.document||e).documentElement}function o(e){return e&&(e.ownerDocument&&e.ownerDocument.defaultView||e.document&&e||e.defaultView)}function l(e,t){return e<t?-1:e>t?1:e>=t?0:NaN}function s(e){return null===e?NaN:+e}function c(e){return!isNaN(e)}function u(e){return{left:function(t,n,r,a){for(arguments.length<3&&(r=0),arguments.length<4&&(a=t.length);r<a;){var i=r+a>>>1;e(t[i],n)<0?r=i+1:a=i}return r},right:function(t,n,r,a){for(arguments.length<3&&(r=0),arguments.length<4&&(a=t.length);r<a;){var i=r+a>>>1;e(t[i],n)>0?a=i:r=i+1}return r}}}function f(e){return e.length}function d(e){for(var t=1;e*t%1;)t*=10;return t}function h(e,t){for(var n in t)Object.defineProperty(e.prototype,n,{value:t[n],enumerable:!1})}function p(){this._=Object.create(null)}function g(e){return(e+="")===Mo||e[0]===Ao?Ao+e:e}function v(e){return(e+="")[0]===Ao?e.slice(1):e}function y(e){return g(e)in this._}function m(e){return(e=g(e))in this._&&delete this._[e]}function x(){var e=[];for(var t in this._)e.push(v(t));return e}function b(){var e=0;for(var t in this._)++e;return e}function _(){for(var e in this._)return!1;return!0}function w(){this._=Object.create(null)}function k(e){return e}function M(e,t,n){return function(){var r=n.apply(t,arguments);return r===t?e:r}}function A(e,t){if(t in e)return t;t=t.charAt(0).toUpperCase()+t.slice(1);for(var n=0,r=To.length;n<r;++n){var a=To[n]+t;if(a in e)return a}}function T(){}function S(){}function L(e){function t(){for(var t,r=n,a=-1,i=r.length;++a<i;)(t=r[a].on)&&t.apply(this,arguments);return e}var n=[],r=new p;return t.on=function(t,a){var i,o=r.get(t);return arguments.length<2?o&&o.on:(o&&(o.on=null,n=n.slice(0,i=n.indexOf(o)).concat(n.slice(i+1)),r.remove(t)),a&&n.push(r.set(t,{on:a})),e)},t}function C(){ho.event.preventDefault()}function O(){for(var e,t=ho.event;e=t.sourceEvent;)t=e;return t}function z(e){for(var t=new S,n=0,r=arguments.length;++n<r;)t[arguments[n]]=L(t);return t.of=function(n,r){return function(a){try{var i=a.sourceEvent=ho.event;a.target=e,ho.event=a,t[a.type].apply(n,r)}finally{ho.event=i}}},t}function j(e){return Lo(e,jo),e}function D(e){return"function"==typeof e?e:function(){return Co(e,this)}}function I(e){return"function"==typeof e?e:function(){return Oo(e,this)}}function P(e,t){function n(){this.removeAttribute(e)}function r(){this.removeAttributeNS(e.space,e.local)}function a(){this.setAttribute(e,t)}function i(){this.setAttributeNS(e.space,e.local,t)}function o(){var n=t.apply(this,arguments);null==n?this.removeAttribute(e):this.setAttribute(e,n)}function l(){var n=t.apply(this,arguments);null==n?this.removeAttributeNS(e.space,e.local):this.setAttributeNS(e.space,e.local,n)}return e=ho.ns.qualify(e),null==t?e.local?r:n:"function"==typeof t?e.local?l:o:e.local?i:a}function E(e){return e.trim().replace(/\s+/g," ")}function N(e){return new RegExp("(?:^|\\s+)"+ho.requote(e)+"(?:\\s+|$)","g")}function R(e){return(e+"").trim().split(/^|\s+/)}function F(e,t){function n(){for(var n=-1;++n<a;)e[n](this,t)}function r(){for(var n=-1,r=t.apply(this,arguments);++n<a;)e[n](this,r)}e=R(e).map(B);var a=e.length;return"function"==typeof t?r:n}function B(e){var t=N(e);return function(n,r){if(a=n.classList)return r?a.add(e):a.remove(e);var a=n.getAttribute("class")||"";r?(t.lastIndex=0,t.test(a)||n.setAttribute("class",E(a+" "+e))):n.setAttribute("class",E(a.replace(t," ")))}}function q(e,t,n){function r(){this.style.removeProperty(e)}function a(){this.style.setProperty(e,t,n)}function i(){var r=t.apply(this,arguments);null==r?this.style.removeProperty(e):this.style.setProperty(e,r,n)}return null==t?r:"function"==typeof t?i:a}function H(e,t){function n(){delete this[e]}function r(){this[e]=t}function a(){var n=t.apply(this,arguments);null==n?delete this[e]:this[e]=n}return null==t?n:"function"==typeof t?a:r}function V(e){function t(){var t=this.ownerDocument,n=this.namespaceURI;return n===Do&&t.documentElement.namespaceURI===Do?t.createElement(e):t.createElementNS(n,e)}function n(){return this.ownerDocument.createElementNS(e.space,e.local)}return"function"==typeof e?e:(e=ho.ns.qualify(e)).local?n:t}function U(){var e=this.parentNode;e&&e.removeChild(this)}function G(e){return{__data__:e}}function X(e){return function(){return zo(this,e)}}function Y(e){return arguments.length||(e=l),function(t,n){return t&&n?e(t.__data__,n.__data__):!t-!n}}function Z(e,t){for(var n=0,r=e.length;n<r;n++)for(var a,i=e[n],o=0,l=i.length;o<l;o++)(a=i[o])&&t(a,o,n);return e}function W(e){return Lo(e,Po),e}function Q(e){var t,n;return function(r,a,i){var o,l=e[i].update,s=l.length;for(i!=n&&(n=i,t=0),a>=t&&(t=a+1);!(o=l[t])&&++t<s;);return o}}function $(e,t,n){function r(){var t=this[o];t&&(this.removeEventListener(e,t,t.$),delete this[o])}function a(){var a=s(t,go(arguments));r.call(this),this.addEventListener(e,this[o]=a,a.$=n),a._=t}function i(){var t,n=new RegExp("^__on([^.]+)"+ho.requote(e)+"$");for(var r in this)if(t=r.match(n)){var a=this[r];this.removeEventListener(t[1],a,a.$),delete this[r]}}var o="__on"+e,l=e.indexOf("."),s=J;l>0&&(e=e.slice(0,l));var c=Eo.get(e);return c&&(e=c,s=K),l?t?a:r:t?T:i}function J(e,t){return function(n){var r=ho.event;ho.event=n,t[0]=this.__data__;try{e.apply(this,t)}finally{ho.event=r}}}function K(e,t){var n=J(e,t);return function(e){var t=this,r=e.relatedTarget;r&&(r===t||8&r.compareDocumentPosition(t))||n.call(t,e)}}function ee(e){var t=".dragsuppress-"+ ++Ro,n="click"+t,r=ho.select(o(e)).on("touchmove"+t,C).on("dragstart"+t,C).on("selectstart"+t,C);if(null==No&&(No=!("onselectstart"in e)&&A(e.style,"userSelect")),No){var a=i(e).style,l=a[No];a[No]="none"}return function(e){if(r.on(t,null),No&&(a[No]=l),e){var i=function(){r.on(n,null)};r.on(n,function(){C(),i()},!0),setTimeout(i,0)}}}function te(e,t){t.changedTouches&&(t=t.changedTouches[0]);var n=e.ownerSVGElement||e;if(n.createSVGPoint){var r=n.createSVGPoint();if(Fo<0){var a=o(e);if(a.scrollX||a.scrollY){n=ho.select("body").append("svg").style({position:"absolute",top:0,left:0,margin:0,padding:0,border:"none"},"important");var i=n[0][0].getScreenCTM();Fo=!(i.f||i.e),n.remove()}}return Fo?(r.x=t.pageX,r.y=t.pageY):(r.x=t.clientX,r.y=t.clientY),r=r.matrixTransform(e.getScreenCTM().inverse()),[r.x,r.y]}var l=e.getBoundingClientRect();return[t.clientX-l.left-e.clientLeft,t.clientY-l.top-e.clientTop]}function ne(){return ho.event.changedTouches[0].identifier}function re(e){return e>0?1:e<0?-1:0}function ae(e,t,n){return(t[0]-e[0])*(n[1]-e[1])-(t[1]-e[1])*(n[0]-e[0])}function ie(e){return e>1?0:e<-1?Ho:Math.acos(e)}function oe(e){return e>1?Go:e<-1?-Go:Math.asin(e)}function le(e){return((e=Math.exp(e))-1/e)/2}function se(e){return((e=Math.exp(e))+1/e)/2}function ce(e){return((e=Math.exp(2*e))-1)/(e+1)}function ue(e){return(e=Math.sin(e/2))*e}function fe(){}function de(e,t,n){return this instanceof de?(this.h=+e,this.s=+t,void(this.l=+n)):arguments.length<2?e instanceof de?new de(e.h,e.s,e.l):Te(""+e,Se,de):new de(e,t,n)}function he(e,t,n){function r(e){return e>360?e-=360:e<0&&(e+=360),e<60?i+(o-i)*e/60:e<180?o:e<240?i+(o-i)*(240-e)/60:i}function a(e){return Math.round(255*r(e))}var i,o;return e=isNaN(e)?0:(e%=360)<0?e+360:e,t=isNaN(t)?0:t<0?0:t>1?1:t,n=n<0?0:n>1?1:n,o=n<=.5?n*(1+t):n+t-n*t,i=2*n-o,new we(a(e+120),a(e),a(e-120))}function pe(e,t,n){return this instanceof pe?(this.h=+e,this.c=+t,void(this.l=+n)):arguments.length<2?e instanceof pe?new pe(e.h,e.c,e.l):e instanceof ve?me(e.l,e.a,e.b):me((e=Le((e=ho.rgb(e)).r,e.g,e.b)).l,e.a,e.b):new pe(e,t,n)}function ge(e,t,n){return isNaN(e)&&(e=0),isNaN(t)&&(t=0),new ve(n,Math.cos(e*=Xo)*t,Math.sin(e)*t)}function ve(e,t,n){return this instanceof ve?(this.l=+e,this.a=+t,void(this.b=+n)):arguments.length<2?e instanceof ve?new ve(e.l,e.a,e.b):e instanceof pe?ge(e.h,e.c,e.l):Le((e=we(e)).r,e.g,e.b):new ve(e,t,n)}function ye(e,t,n){var r=(e+16)/116,a=r+t/500,i=r-n/200;return a=xe(a)*tl,r=xe(r)*nl,i=xe(i)*rl,new we(_e(3.2404542*a-1.5371385*r-.4985314*i),_e(-.969266*a+1.8760108*r+.041556*i),_e(.0556434*a-.2040259*r+1.0572252*i))}function me(e,t,n){return e>0?new pe(Math.atan2(n,t)*Yo,Math.sqrt(t*t+n*n),e):new pe(NaN,NaN,e)}function xe(e){return e>.206893034?e*e*e:(e-4/29)/7.787037}function be(e){return e>.008856?Math.pow(e,1/3):7.787037*e+4/29}function _e(e){return Math.round(255*(e<=.00304?12.92*e:1.055*Math.pow(e,1/2.4)-.055))}function we(e,t,n){return this instanceof we?(this.r=~~e,this.g=~~t,void(this.b=~~n)):arguments.length<2?e instanceof we?new we(e.r,e.g,e.b):Te(""+e,we,he):new we(e,t,n)}function ke(e){return new we(e>>16,e>>8&255,255&e)}function Me(e){return ke(e)+""}function Ae(e){return e<16?"0"+Math.max(0,e).toString(16):Math.min(255,e).toString(16)}function Te(e,t,n){var r,a,i,o=0,l=0,s=0;if(r=/([a-z]+)\((.*)\)/.exec(e=e.toLowerCase()))switch(a=r[2].split(","),r[1]){case"hsl":return n(parseFloat(a[0]),parseFloat(a[1])/100,parseFloat(a[2])/100);case"rgb":return t(Oe(a[0]),Oe(a[1]),Oe(a[2]))}return(i=ol.get(e))?t(i.r,i.g,i.b):(null==e||"#"!==e.charAt(0)||isNaN(i=parseInt(e.slice(1),16))||(4===e.length?(o=(3840&i)>>4,o|=o>>4,l=240&i,l|=l>>4,s=15&i,s|=s<<4):7===e.length&&(o=(16711680&i)>>16,l=(65280&i)>>8,s=255&i)),t(o,l,s))}function Se(e,t,n){var r,a,i=Math.min(e/=255,t/=255,n/=255),o=Math.max(e,t,n),l=o-i,s=(o+i)/2;return l?(a=s<.5?l/(o+i):l/(2-o-i),r=e==o?(t-n)/l+(t<n?6:0):t==o?(n-e)/l+2:(e-t)/l+4,r*=60):(r=NaN,a=s>0&&s<1?0:r),new de(r,a,s)}function Le(e,t,n){e=Ce(e),t=Ce(t),n=Ce(n);var r=be((.4124564*e+.3575761*t+.1804375*n)/tl),a=be((.2126729*e+.7151522*t+.072175*n)/nl);return ve(116*a-16,500*(r-a),200*(a-be((.0193339*e+.119192*t+.9503041*n)/rl)))}function Ce(e){return(e/=255)<=.04045?e/12.92:Math.pow((e+.055)/1.055,2.4)}function Oe(e){var t=parseFloat(e);return"%"===e.charAt(e.length-1)?Math.round(2.55*t):t}function ze(e){return"function"==typeof e?e:function(){return e}}function je(e){return function(t,n,r){return 2===arguments.length&&"function"==typeof n&&(r=n,n=null),De(t,n,e,r)}}function De(e,t,n,r){function a(){var e,t=s.status;if(!t&&Pe(s)||t>=200&&t<300||304===t){try{e=n.call(i,s)}catch(e){return void o.error.call(i,e)}o.load.call(i,e)}else o.error.call(i,s)}var i={},o=ho.dispatch("beforesend","progress","load","error"),l={},s=new XMLHttpRequest,c=null;return!this.XDomainRequest||"withCredentials"in s||!/^(http(s)?:)?\/\//.test(e)||(s=new XDomainRequest),"onload"in s?s.onload=s.onerror=a:s.onreadystatechange=function(){s.readyState>3&&a()},s.onprogress=function(e){var t=ho.event;ho.event=e;try{o.progress.call(i,s)}finally{ho.event=t}},i.header=function(e,t){return e=(e+"").toLowerCase(),arguments.length<2?l[e]:(null==t?delete l[e]:l[e]=t+"",i)},i.mimeType=function(e){return arguments.length?(t=null==e?null:e+"",i):t},i.responseType=function(e){return arguments.length?(c=e,i):c},i.response=function(e){return n=e,i},["get","post"].forEach(function(e){i[e]=function(){return i.send.apply(i,[e].concat(go(arguments)))}}),i.send=function(n,r,a){if(2===arguments.length&&"function"==typeof r&&(a=r,r=null),s.open(n,e,!0),null==t||"accept"in l||(l.accept=t+",*/*"),s.setRequestHeader)for(var u in l)s.setRequestHeader(u,l[u]);return null!=t&&s.overrideMimeType&&s.overrideMimeType(t),null!=c&&(s.responseType=c),null!=a&&i.on("error",a).on("load",function(e){a(null,e)}),o.beforesend.call(i,s),s.send(null==r?null:r),i},i.abort=function(){return s.abort(),i},ho.rebind(i,o,"on"),null==r?i:i.get(Ie(r))}function Ie(e){return 1===e.length?function(t,n){e(null==t?n:null)}:e}function Pe(e){var t=e.responseType;return t&&"text"!==t?e.response:e.responseText}function Ee(e,t,n){var r=arguments.length;r<2&&(t=0),r<3&&(n=Date.now());var a=n+t,i={c:e,t:a,n:null};return sl?sl.n=i:ll=i,sl=i,cl||(ul=clearTimeout(ul),cl=1,fl(Ne)),i}function Ne(){var e=Re(),t=Fe()-e;t>24?(isFinite(t)&&(clearTimeout(ul),ul=setTimeout(Ne,t)),cl=0):(cl=1,fl(Ne))}function Re(){for(var e=Date.now(),t=ll;t;)e>=t.t&&t.c(e-t.t)&&(t.c=null),t=t.n;return e}function Fe(){for(var e,t=ll,n=1/0;t;)t.c?(t.t<n&&(n=t.t),t=(e=t).n):t=e?e.n=t.n:ll=t.n;return sl=e,n}function Be(e,t){return t-(e?Math.ceil(Math.log(e)/Math.LN10):1)}function qe(e,t){var n=Math.pow(10,3*ko(8-t));return{scale:t>8?function(e){return e/n}:function(e){return e*n},symbol:e}}function He(e){var t=e.decimal,n=e.thousands,r=e.grouping,a=e.currency,i=r&&n?function(e,t){for(var a=e.length,i=[],o=0,l=r[0],s=0;a>0&&l>0&&(s+l+1>t&&(l=Math.max(1,t-s)),i.push(e.substring(a-=l,a+l)),!((s+=l+1)>t));)l=r[o=(o+1)%r.length];return i.reverse().join(n)}:k;return function(e){var n=hl.exec(e),r=n[1]||" ",o=n[2]||">",l=n[3]||"-",s=n[4]||"",c=n[5],u=+n[6],f=n[7],d=n[8],h=n[9],p=1,g="",v="",y=!1,m=!0;switch(d&&(d=+d.substring(1)),(c||"0"===r&&"="===o)&&(c=r="0",o="="),h){case"n":f=!0,h="g";break;case"%":p=100,v="%",h="f";break;case"p":p=100,v="%",h="r";break;case"b":case"o":case"x":case"X":"#"===s&&(g="0"+h.toLowerCase());case"c":m=!1;case"d":y=!0,d=0;break;case"s":p=-1,h="r"}"$"===s&&(g=a[0],v=a[1]),"r"!=h||d||(h="g"),null!=d&&("g"==h?d=Math.max(1,Math.min(21,d)):"e"!=h&&"f"!=h||(d=Math.max(0,Math.min(20,d)))),h=pl.get(h)||Ve;var x=c&&f;return function(e){var n=v;if(y&&e%1)return"";var a=e<0||0===e&&1/e<0?(e=-e,"-"):"-"===l?"":l;if(p<0){var s=ho.formatPrefix(e,d);e=s.scale(e),n=s.symbol+v}else e*=p;e=h(e,d);var b,_,w=e.lastIndexOf(".");if(w<0){var k=m?e.lastIndexOf("e"):-1;k<0?(b=e,_=""):(b=e.substring(0,k),_=e.substring(k))}else b=e.substring(0,w),_=t+e.substring(w+1);!c&&f&&(b=i(b,1/0));var M=g.length+b.length+_.length+(x?0:a.length),A=M<u?new Array(M=u-M+1).join(r):"";return x&&(b=i(A+b,A.length?u-_.length:1/0)),a+=g,e=b+_,("<"===o?a+e+A:">"===o?A+a+e:"^"===o?A.substring(0,M>>=1)+a+e+A.substring(M):a+(x?e:A+e))+n}}}function Ve(e){return e+""}function Ue(){this._=new Date(arguments.length>1?Date.UTC.apply(this,arguments):arguments[0])}function Ge(e,t,n){function r(t){var n=e(t),r=i(n,1);return t-n<r-t?n:r}function a(n){return t(n=e(new vl(n-1)),1),n}function i(e,n){return t(e=new vl(+e),n),e}function o(e,r,i){var o=a(e),l=[];if(i>1)for(;o<r;)n(o)%i||l.push(new Date(+o)),t(o,1);else for(;o<r;)l.push(new Date(+o)),t(o,1);return l}function l(e,t,n){try{vl=Ue;var r=new Ue;return r._=e,o(r,t,n)}finally{vl=Date}}e.floor=e,e.round=r,e.ceil=a,e.offset=i,e.range=o;var s=e.utc=Xe(e);return s.floor=s,s.round=Xe(r),s.ceil=Xe(a),s.offset=Xe(i),s.range=l,e}function Xe(e){return function(t,n){try{vl=Ue;var r=new Ue;return r._=t,e(r,n)._}finally{vl=Date}}}function Ye(e){function t(e){function t(t){for(var n,a,i,o=[],l=-1,s=0;++l<r;)37===e.charCodeAt(l)&&(o.push(e.slice(s,l)),null!=(a=ml[n=e.charAt(++l)])&&(n=e.charAt(++l)),(i=L[n])&&(n=i(t,null==a?"e"===n?" ":"0":a)),o.push(n),s=l+1);return o.push(e.slice(s,l)),o.join("")}var r=e.length;return t.parse=function(t){var r={y:1900,m:0,d:1,H:0,M:0,S:0,L:0,Z:null};if(n(r,e,t,0)!=t.length)return null;"p"in r&&(r.H=r.H%12+12*r.p);var a=null!=r.Z&&vl!==Ue,i=new(a?Ue:vl);return"j"in r?i.setFullYear(r.y,0,r.j):"W"in r||"U"in r?("w"in r||(r.w="W"in r?1:0),i.setFullYear(r.y,0,1),i.setFullYear(r.y,0,"W"in r?(r.w+6)%7+7*r.W-(i.getDay()+5)%7:r.w+7*r.U-(i.getDay()+6)%7)):i.setFullYear(r.y,r.m,r.d),i.setHours(r.H+(r.Z/100|0),r.M+r.Z%100,r.S,r.L),a?i._:i},t.toString=function(){return e},t}function n(e,t,n,r){for(var a,i,o,l=0,s=t.length,c=n.length;l<s;){if(r>=c)return-1;if(37===(a=t.charCodeAt(l++))){if(o=t.charAt(l++),!(i=C[o in ml?t.charAt(l++):o])||(r=i(e,n,r))<0)return-1}else if(a!=n.charCodeAt(r++))return-1}return r}function r(e,t,n){w.lastIndex=0;var r=w.exec(t.slice(n));return r?(e.w=k.get(r[0].toLowerCase()),n+r[0].length):-1}function a(e,t,n){b.lastIndex=0;var r=b.exec(t.slice(n));return r?(e.w=_.get(r[0].toLowerCase()),n+r[0].length):-1}function i(e,t,n){T.lastIndex=0;var r=T.exec(t.slice(n));return r?(e.m=S.get(r[0].toLowerCase()),n+r[0].length):-1}function o(e,t,n){M.lastIndex=0;var r=M.exec(t.slice(n));return r?(e.m=A.get(r[0].toLowerCase()),n+r[0].length):-1}function l(e,t,r){return n(e,L.c.toString(),t,r)}function s(e,t,r){return n(e,L.x.toString(),t,r)}function c(e,t,r){return n(e,L.X.toString(),t,r)}function u(e,t,n){var r=x.get(t.slice(n,n+=2).toLowerCase());return null==r?-1:(e.p=r,n)}var f=e.dateTime,d=e.date,h=e.time,p=e.periods,g=e.days,v=e.shortDays,y=e.months,m=e.shortMonths;t.utc=function(e){function n(e){try{vl=Ue;var t=new vl;return t._=e,r(t)}finally{vl=Date}}var r=t(e);return n.parse=function(e){try{vl=Ue;var t=r.parse(e);return t&&t._}finally{vl=Date}},n.toString=r.toString,n},t.multi=t.utc.multi=ht;var x=ho.map(),b=We(g),_=Qe(g),w=We(v),k=Qe(v),M=We(y),A=Qe(y),T=We(m),S=Qe(m);p.forEach(function(e,t){x.set(e.toLowerCase(),t)});var L={a:function(e){return v[e.getDay()]},A:function(e){return g[e.getDay()]},b:function(e){return m[e.getMonth()]},B:function(e){return y[e.getMonth()]},c:t(f),d:function(e,t){return Ze(e.getDate(),t,2)},e:function(e,t){return Ze(e.getDate(),t,2)},H:function(e,t){return Ze(e.getHours(),t,2)},I:function(e,t){return Ze(e.getHours()%12||12,t,2)},j:function(e,t){return Ze(1+gl.dayOfYear(e),t,3)},L:function(e,t){return Ze(e.getMilliseconds(),t,3)},m:function(e,t){return Ze(e.getMonth()+1,t,2)},M:function(e,t){return Ze(e.getMinutes(),t,2)},p:function(e){return p[+(e.getHours()>=12)]},S:function(e,t){return Ze(e.getSeconds(),t,2)},U:function(e,t){return Ze(gl.sundayOfYear(e),t,2)},w:function(e){return e.getDay()},W:function(e,t){return Ze(gl.mondayOfYear(e),t,2)},x:t(d),X:t(h),y:function(e,t){return Ze(e.getFullYear()%100,t,2)},Y:function(e,t){return Ze(e.getFullYear()%1e4,t,4)},Z:ft,"%":function(){return"%"}},C={a:r,A:a,b:i,B:o,c:l,d:it,e:it,H:lt,I:lt,j:ot,L:ut,m:at,M:st,p:u,S:ct,U:Je,w:$e,W:Ke,x:s,X:c,y:tt,Y:et,Z:nt,"%":dt};return t}function Ze(e,t,n){var r=e<0?"-":"",a=(r?-e:e)+"",i=a.length;return r+(i<n?new Array(n-i+1).join(t)+a:a)}function We(e){return new RegExp("^(?:"+e.map(ho.requote).join("|")+")","i")}function Qe(e){for(var t=new p,n=-1,r=e.length;++n<r;)t.set(e[n].toLowerCase(),n);return t}function $e(e,t,n){xl.lastIndex=0;var r=xl.exec(t.slice(n,n+1));return r?(e.w=+r[0],n+r[0].length):-1}function Je(e,t,n){xl.lastIndex=0;var r=xl.exec(t.slice(n));return r?(e.U=+r[0],n+r[0].length):-1}function Ke(e,t,n){xl.lastIndex=0;var r=xl.exec(t.slice(n));return r?(e.W=+r[0],n+r[0].length):-1}function et(e,t,n){xl.lastIndex=0;var r=xl.exec(t.slice(n,n+4));return r?(e.y=+r[0],n+r[0].length):-1}function tt(e,t,n){xl.lastIndex=0;var r=xl.exec(t.slice(n,n+2));return r?(e.y=rt(+r[0]),n+r[0].length):-1}function nt(e,t,n){return/^[+-]\d{4}$/.test(t=t.slice(n,n+5))?(e.Z=-t,n+5):-1}function rt(e){return e+(e>68?1900:2e3)}function at(e,t,n){xl.lastIndex=0;var r=xl.exec(t.slice(n,n+2));return r?(e.m=r[0]-1,n+r[0].length):-1}function it(e,t,n){xl.lastIndex=0;var r=xl.exec(t.slice(n,n+2));return r?(e.d=+r[0],n+r[0].length):-1}function ot(e,t,n){xl.lastIndex=0;var r=xl.exec(t.slice(n,n+3));return r?(e.j=+r[0],n+r[0].length):-1}function lt(e,t,n){xl.lastIndex=0;var r=xl.exec(t.slice(n,n+2));return r?(e.H=+r[0],n+r[0].length):-1}function st(e,t,n){xl.lastIndex=0;var r=xl.exec(t.slice(n,n+2));return r?(e.M=+r[0],n+r[0].length):-1}function ct(e,t,n){xl.lastIndex=0;var r=xl.exec(t.slice(n,n+2));return r?(e.S=+r[0],n+r[0].length):-1}function ut(e,t,n){xl.lastIndex=0;var r=xl.exec(t.slice(n,n+3));return r?(e.L=+r[0],n+r[0].length):-1}function ft(e){var t=e.getTimezoneOffset(),n=t>0?"-":"+",r=ko(t)/60|0,a=ko(t)%60;return n+Ze(r,"0",2)+Ze(a,"0",2)}function dt(e,t,n){bl.lastIndex=0;var r=bl.exec(t.slice(n,n+1));return r?n+r[0].length:-1}function ht(e){for(var t=e.length,n=-1;++n<t;)e[n][0]=this(e[n][0]);return function(t){for(var n=0,r=e[n];!r[1](t);)r=e[++n];return r[0](t)}}function pt(){}function gt(e,t,n){var r=n.s=e+t,a=r-e,i=r-a;n.t=e-i+(t-a)}function vt(e,t){e&&Ml.hasOwnProperty(e.type)&&Ml[e.type](e,t)}function yt(e,t,n){var r,a=-1,i=e.length-n;for(t.lineStart();++a<i;)r=e[a],t.point(r[0],r[1],r[2]);t.lineEnd()}function mt(e,t){var n=-1,r=e.length;for(t.polygonStart();++n<r;)yt(e[n],t,1);t.polygonEnd()}function xt(){function e(e,t){e*=Xo,t=t*Xo/2+Ho/4;var n=e-r,o=n>=0?1:-1,l=o*n,s=Math.cos(t),c=Math.sin(t),u=i*c,f=a*s+u*Math.cos(l),d=u*o*Math.sin(l);Tl.add(Math.atan2(d,f)),r=e,a=s,i=c}var t,n,r,a,i;Sl.point=function(o,l){Sl.point=e,r=(t=o)*Xo,a=Math.cos(l=(n=l)*Xo/2+Ho/4),i=Math.sin(l)},Sl.lineEnd=function(){e(t,n)}}function bt(e){var t=e[0],n=e[1],r=Math.cos(n);return[r*Math.cos(t),r*Math.sin(t),Math.sin(n)]}function _t(e,t){return e[0]*t[0]+e[1]*t[1]+e[2]*t[2]}function wt(e,t){return[e[1]*t[2]-e[2]*t[1],e[2]*t[0]-e[0]*t[2],e[0]*t[1]-e[1]*t[0]]}function kt(e,t){e[0]+=t[0],e[1]+=t[1],e[2]+=t[2]}function Mt(e,t){return[e[0]*t,e[1]*t,e[2]*t]}function At(e){var t=Math.sqrt(e[0]*e[0]+e[1]*e[1]+e[2]*e[2]);e[0]/=t,e[1]/=t,e[2]/=t}function Tt(e){return[Math.atan2(e[1],e[0]),oe(e[2])]}function St(e,t){return ko(e[0]-t[0])<Bo&&ko(e[1]-t[1])<Bo}function Lt(e,t){e*=Xo;var n=Math.cos(t*=Xo);Ct(n*Math.cos(e),n*Math.sin(e),Math.sin(t))}function Ct(e,t,n){++Ll,Ol+=(e-Ol)/Ll,zl+=(t-zl)/Ll,jl+=(n-jl)/Ll}function Ot(){function e(e,a){e*=Xo;var i=Math.cos(a*=Xo),o=i*Math.cos(e),l=i*Math.sin(e),s=Math.sin(a),c=Math.atan2(Math.sqrt((c=n*s-r*l)*c+(c=r*o-t*s)*c+(c=t*l-n*o)*c),t*o+n*l+r*s);Cl+=c,Dl+=c*(t+(t=o)),Il+=c*(n+(n=l)),Pl+=c*(r+(r=s)),Ct(t,n,r)}var t,n,r;Fl.point=function(a,i){a*=Xo;var o=Math.cos(i*=Xo);t=o*Math.cos(a),n=o*Math.sin(a),r=Math.sin(i),Fl.point=e,Ct(t,n,r)}}function zt(){Fl.point=Lt}function jt(){function e(e,t){e*=Xo;var n=Math.cos(t*=Xo),o=n*Math.cos(e),l=n*Math.sin(e),s=Math.sin(t),c=a*s-i*l,u=i*o-r*s,f=r*l-a*o,d=Math.sqrt(c*c+u*u+f*f),h=r*o+a*l+i*s,p=d&&-ie(h)/d,g=Math.atan2(d,h);El+=p*c,Nl+=p*u,Rl+=p*f,Cl+=g,Dl+=g*(r+(r=o)),Il+=g*(a+(a=l)),Pl+=g*(i+(i=s)),Ct(r,a,i)}var t,n,r,a,i;Fl.point=function(o,l){t=o,n=l,Fl.point=e,o*=Xo;var s=Math.cos(l*=Xo);r=s*Math.cos(o),a=s*Math.sin(o),i=Math.sin(l),Ct(r,a,i)},Fl.lineEnd=function(){e(t,n),Fl.lineEnd=zt,Fl.point=Lt}}function Dt(e,t){function n(n,r){return n=e(n,r),t(n[0],n[1])}return e.invert&&t.invert&&(n.invert=function(n,r){return(n=t.invert(n,r))&&e.invert(n[0],n[1])}),n}function It(){return!0}function Pt(e,t,n,r,a){var i=[],o=[];if(e.forEach(function(e){if(!((t=e.length-1)<=0)){var t,n=e[0],r=e[t];if(St(n,r)){a.lineStart();for(var l=0;l<t;++l)a.point((n=e[l])[0],n[1]);return void a.lineEnd()}var s=new Nt(n,e,null,!0),c=new Nt(n,null,s,!1);s.o=c,i.push(s),o.push(c),s=new Nt(r,e,null,!1),c=new Nt(r,null,s,!0),s.o=c,i.push(s),o.push(c)}}),o.sort(t),Et(i),Et(o),i.length){for(var l=0,s=n,c=o.length;l<c;++l)o[l].e=s=!s;for(var u,f,d=i[0];;){for(var h=d,p=!0;h.v;)if((h=h.n)===d)return;u=h.z,a.lineStart();do{if(h.v=h.o.v=!0,h.e){if(p)for(var l=0,c=u.length;l<c;++l)a.point((f=u[l])[0],f[1]);else r(h.x,h.n.x,1,a);h=h.n}else{if(p){u=h.p.z;for(var l=u.length-1;l>=0;--l)a.point((f=u[l])[0],f[1])}else r(h.x,h.p.x,-1,a);h=h.p}h=h.o,u=h.z,p=!p}while(!h.v);a.lineEnd()}}}function Et(e){if(t=e.length){for(var t,n,r=0,a=e[0];++r<t;)a.n=n=e[r],n.p=a,a=n;a.n=n=e[0],n.p=a}}function Nt(e,t,n,r){this.x=e,this.z=t,this.o=n,this.e=r,this.v=!1,this.n=this.p=null}function Rt(e,t,n,r){return function(a,i){function o(t,n){var r=a(t,n);e(t=r[0],n=r[1])&&i.point(t,n)}function l(e,t){var n=a(e,t);v.point(n[0],n[1])}function s(){m.point=l,v.lineStart()}function c(){m.point=o,v.lineEnd()}function u(e,t){g.push([e,t]);var n=a(e,t);b.point(n[0],n[1])}function f(){b.lineStart(),g=[]}function d(){u(g[0][0],g[0][1]),b.lineEnd();var e,t=b.clean(),n=x.buffer(),r=n.length;if(g.pop(),p.push(g),g=null,r)if(1&t){e=n[0];var a,r=e.length-1,o=-1;if(r>0){for(_||(i.polygonStart(),_=!0),i.lineStart();++o<r;)i.point((a=e[o])[0],a[1]);i.lineEnd()}}else r>1&&2&t&&n.push(n.pop().concat(n.shift())),h.push(n.filter(Ft))}var h,p,g,v=t(i),y=a.invert(r[0],r[1]),m={point:o,lineStart:s,lineEnd:c,polygonStart:function(){m.point=u,m.lineStart=f,m.lineEnd=d,h=[],p=[]},polygonEnd:function(){m.point=o,m.lineStart=s,m.lineEnd=c,h=ho.merge(h);var e=Gt(y,p);h.length?(_||(i.polygonStart(),_=!0),Pt(h,qt,e,n,i)):e&&(_||(i.polygonStart(),_=!0),i.lineStart(),n(null,null,1,i),i.lineEnd()),_&&(i.polygonEnd(),_=!1),h=p=null},sphere:function(){i.polygonStart(),i.lineStart(),n(null,null,1,i),i.lineEnd(),i.polygonEnd()}},x=Bt(),b=t(x),_=!1;return m}}function Ft(e){return e.length>1}function Bt(){var e,t=[];return{lineStart:function(){t.push(e=[])},point:function(t,n){e.push([t,n])},lineEnd:T,buffer:function(){var n=t;return t=[],e=null,n},rejoin:function(){t.length>1&&t.push(t.pop().concat(t.shift()))}}}function qt(e,t){return((e=e.x)[0]<0?e[1]-Go-Bo:Go-e[1])-((t=t.x)[0]<0?t[1]-Go-Bo:Go-t[1])}function Ht(e){var t,n=NaN,r=NaN,a=NaN;return{lineStart:function(){e.lineStart(),t=1},point:function(i,o){var l=i>0?Ho:-Ho,s=ko(i-n);ko(s-Ho)<Bo?(e.point(n,r=(r+o)/2>0?Go:-Go),e.point(a,r),e.lineEnd(),e.lineStart(),e.point(l,r),e.point(i,r),t=0):a!==l&&s>=Ho&&(ko(n-a)<Bo&&(n-=a*Bo),ko(i-l)<Bo&&(i-=l*Bo),r=Vt(n,r,i,o),e.point(a,r),e.lineEnd(),e.lineStart(),e.point(l,r),t=0),e.point(n=i,r=o),a=l},lineEnd:function(){e.lineEnd(),n=r=NaN},clean:function(){return 2-t}}}function Vt(e,t,n,r){var a,i,o=Math.sin(e-n);return ko(o)>Bo?Math.atan((Math.sin(t)*(i=Math.cos(r))*Math.sin(n)-Math.sin(r)*(a=Math.cos(t))*Math.sin(e))/(a*i*o)):(t+r)/2}function Ut(e,t,n,r){var a;if(null==e)a=n*Go,r.point(-Ho,a),r.point(0,a),r.point(Ho,a),r.point(Ho,0),r.point(Ho,-a),r.point(0,-a),r.point(-Ho,-a),r.point(-Ho,0),r.point(-Ho,a);else if(ko(e[0]-t[0])>Bo){var i=e[0]<t[0]?Ho:-Ho;a=n*i/2,r.point(-i,a),r.point(0,a),r.point(i,a)}else r.point(t[0],t[1])}function Gt(e,t){var n=e[0],r=e[1],a=[Math.sin(n),-Math.cos(n),0],i=0,o=0;Tl.reset();for(var l=0,s=t.length;l<s;++l){var c=t[l],u=c.length;if(u)for(var f=c[0],d=f[0],h=f[1]/2+Ho/4,p=Math.sin(h),g=Math.cos(h),v=1;;){v===u&&(v=0),e=c[v];var y=e[0],m=e[1]/2+Ho/4,x=Math.sin(m),b=Math.cos(m),_=y-d,w=_>=0?1:-1,k=w*_,M=k>Ho,A=p*x;if(Tl.add(Math.atan2(A*w*Math.sin(k),g*b+A*Math.cos(k))),i+=M?_+w*Vo:_,M^d>=n^y>=n){var T=wt(bt(f),bt(e));At(T);var S=wt(a,T);At(S);var L=(M^_>=0?-1:1)*oe(S[2]);(r>L||r===L&&(T[0]||T[1]))&&(o+=M^_>=0?1:-1)}if(!v++)break;d=y,p=x,g=b,f=e}}return(i<-Bo||i<Bo&&Tl<-Bo)^1&o}function Xt(e){function t(e,t){return Math.cos(e)*Math.cos(t)>i}function n(e){var n,i,s,c,u;return{lineStart:function(){c=s=!1,u=1},point:function(f,d){var h,p=[f,d],g=t(f,d),v=o?g?0:a(f,d):g?a(f+(f<0?Ho:-Ho),d):0;if(!n&&(c=s=g)&&e.lineStart(),g!==s&&(h=r(n,p),(St(n,h)||St(p,h))&&(p[0]+=Bo,p[1]+=Bo,g=t(p[0],p[1]))),g!==s)u=0,g?(e.lineStart(),h=r(p,n),e.point(h[0],h[1])):(h=r(n,p),e.point(h[0],h[1]),e.lineEnd()),n=h;else if(l&&n&&o^g){var y;v&i||!(y=r(p,n,!0))||(u=0,o?(e.lineStart(),e.point(y[0][0],y[0][1]),e.point(y[1][0],y[1][1]),e.lineEnd()):(e.point(y[1][0],y[1][1]),e.lineEnd(),e.lineStart(),e.point(y[0][0],y[0][1])))}!g||n&&St(n,p)||e.point(p[0],p[1]),n=p,s=g,i=v},lineEnd:function(){s&&e.lineEnd(),n=null},clean:function(){return u|(c&&s)<<1}}}function r(e,t,n){var r=bt(e),a=bt(t),o=[1,0,0],l=wt(r,a),s=_t(l,l),c=l[0],u=s-c*c;if(!u)return!n&&e;var f=i*s/u,d=-i*c/u,h=wt(o,l),p=Mt(o,f);kt(p,Mt(l,d));var g=h,v=_t(p,g),y=_t(g,g),m=v*v-y*(_t(p,p)-1);if(!(m<0)){var x=Math.sqrt(m),b=Mt(g,(-v-x)/y);if(kt(b,p),b=Tt(b),!n)return b;var _,w=e[0],k=t[0],M=e[1],A=t[1];k<w&&(_=w,w=k,k=_);var T=k-w,S=ko(T-Ho)<Bo,L=S||T<Bo;if(!S&&A<M&&(_=M,M=A,A=_),L?S?M+A>0^b[1]<(ko(b[0]-w)<Bo?M:A):M<=b[1]&&b[1]<=A:T>Ho^(w<=b[0]&&b[0]<=k)){var C=Mt(g,(-v+x)/y);return kt(C,p),[b,Tt(C)]}}}function a(t,n){var r=o?e:Ho-e,a=0;return t<-r?a|=1:t>r&&(a|=2),n<-r?a|=4:n>r&&(a|=8),a}var i=Math.cos(e),o=i>0,l=ko(i)>Bo;return Rt(t,n,bn(e,6*Xo),o?[0,-e]:[-Ho,e-Ho])}function Yt(e,t,n,r){return function(a){var i,o=a.a,l=a.b,s=o.x,c=o.y,u=l.x,f=l.y,d=0,h=1,p=u-s,g=f-c;if(i=e-s,p||!(i>0)){if(i/=p,p<0){if(i<d)return;i<h&&(h=i)}else if(p>0){if(i>h)return;i>d&&(d=i)}if(i=n-s,p||!(i<0)){if(i/=p,p<0){if(i>h)return;i>d&&(d=i)}else if(p>0){if(i<d)return;i<h&&(h=i)}if(i=t-c,g||!(i>0)){if(i/=g,g<0){if(i<d)return;i<h&&(h=i)}else if(g>0){if(i>h)return;i>d&&(d=i)}if(i=r-c,g||!(i<0)){if(i/=g,g<0){if(i>h)return;i>d&&(d=i)}else if(g>0){if(i<d)return;i<h&&(h=i)}return d>0&&(a.a={x:s+d*p,y:c+d*g}),h<1&&(a.b={x:s+h*p,y:c+h*g}),a}}}}}}function Zt(e,t,n,r){function a(r,a){return ko(r[0]-e)<Bo?a>0?0:3:ko(r[0]-n)<Bo?a>0?2:1:ko(r[1]-t)<Bo?a>0?1:0:a>0?3:2}function i(e,t){return o(e.x,t.x)}function o(e,t){var n=a(e,1),r=a(t,1);return n!==r?n-r:0===n?t[1]-e[1]:1===n?e[0]-t[0]:2===n?e[1]-t[1]:t[0]-e[0]}return function(l){function s(e){for(var t=0,n=v.length,r=e[1],a=0;a<n;++a)for(var i,o=1,l=v[a],s=l.length,c=l[0];o<s;++o)i=l[o],c[1]<=r?i[1]>r&&ae(c,i,e)>0&&++t:i[1]<=r&&ae(c,i,e)<0&&--t,c=i;return 0!==t}function c(i,l,s,c){var u=0,f=0;if(null==i||(u=a(i,s))!==(f=a(l,s))||o(i,l)<0^s>0)do{c.point(0===u||3===u?e:n,u>1?r:t)}while((u=(u+s+4)%4)!==f);else c.point(l[0],l[1])}function u(a,i){return e<=a&&a<=n&&t<=i&&i<=r}function f(e,t){u(e,t)&&l.point(e,t)}function d(){C.point=p,v&&v.push(y=[]),M=!0,k=!1,_=w=NaN}function h(){g&&(p(m,x),b&&k&&S.rejoin(),g.push(S.buffer())),C.point=f,k&&l.lineEnd()}function p(e,t){e=Math.max(-ql,Math.min(ql,e)),t=Math.max(-ql,Math.min(ql,t));var n=u(e,t);if(v&&y.push([e,t]),M)m=e,x=t,b=n,M=!1,n&&(l.lineStart(),l.point(e,t));else if(n&&k)l.point(e,t);else{var r={a:{x:_,y:w},b:{x:e,y:t}};L(r)?(k||(l.lineStart(),l.point(r.a.x,r.a.y)),l.point(r.b.x,r.b.y),n||l.lineEnd(),A=!1):n&&(l.lineStart(),l.point(e,t),A=!1)}_=e,w=t,k=n}var g,v,y,m,x,b,_,w,k,M,A,T=l,S=Bt(),L=Yt(e,t,n,r),C={point:f,lineStart:d,lineEnd:h,polygonStart:function(){l=S,g=[],v=[],A=!0},polygonEnd:function(){l=T,g=ho.merge(g);var t=s([e,r]),n=A&&t,a=g.length;(n||a)&&(l.polygonStart(),n&&(l.lineStart(),c(null,null,1,l),l.lineEnd()),a&&Pt(g,i,t,c,l),l.polygonEnd()),g=v=y=null}};return C}}function Wt(e){var t=0,n=Ho/3,r=dn(e),a=r(t,n);return a.parallels=function(e){return arguments.length?r(t=e[0]*Ho/180,n=e[1]*Ho/180):[t/Ho*180,n/Ho*180]},a}function Qt(e,t){function n(e,t){var n=Math.sqrt(i-2*a*Math.sin(t))/a;return[n*Math.sin(e*=a),o-n*Math.cos(e)]}var r=Math.sin(e),a=(r+Math.sin(t))/2,i=1+r*(2*a-r),o=Math.sqrt(i)/a;return n.invert=function(e,t){var n=o-t;return[Math.atan2(e,n)/a,oe((i-(e*e+n*n)*a*a)/(2*a))]},n}function $t(){function e(e,t){Vl+=a*e-r*t,r=e,a=t}var t,n,r,a;Zl.point=function(i,o){Zl.point=e,t=r=i,n=a=o},Zl.lineEnd=function(){e(t,n)}}function Jt(e,t){e<Ul&&(Ul=e),e>Xl&&(Xl=e),t<Gl&&(Gl=t),t>Yl&&(Yl=t)}function Kt(){function e(e,t){o.push("M",e,",",t,i)}function t(e,t){o.push("M",e,",",t),l.point=n}function n(e,t){o.push("L",e,",",t)}function r(){l.point=e}function a(){o.push("Z")}var i=en(4.5),o=[],l={point:e,lineStart:function(){l.point=t},lineEnd:r,polygonStart:function(){l.lineEnd=a},polygonEnd:function(){l.lineEnd=r,l.point=e},pointRadius:function(e){return i=en(e),l},result:function(){if(o.length){var e=o.join("");return o=[],e}}};return l}function en(e){return"m0,"+e+"a"+e+","+e+" 0 1,1 0,"+-2*e+"a"+e+","+e+" 0 1,1 0,"+2*e+"z"}function tn(e,t){Ol+=e,zl+=t,++jl}function nn(){function e(e,r){var a=e-t,i=r-n,o=Math.sqrt(a*a+i*i);Dl+=o*(t+e)/2,Il+=o*(n+r)/2,Pl+=o,tn(t=e,n=r)}var t,n;Ql.point=function(r,a){Ql.point=e,tn(t=r,n=a)}}function rn(){Ql.point=tn}function an(){function e(e,t){var n=e-r,i=t-a,o=Math.sqrt(n*n+i*i);Dl+=o*(r+e)/2,Il+=o*(a+t)/2,Pl+=o,o=a*e-r*t,El+=o*(r+e),Nl+=o*(a+t),Rl+=3*o,tn(r=e,a=t)}var t,n,r,a;Ql.point=function(i,o){Ql.point=e,tn(t=r=i,n=a=o)},Ql.lineEnd=function(){e(t,n)}}function on(e){function t(t,n){e.moveTo(t+o,n),e.arc(t,n,o,0,Vo)}function n(t,n){e.moveTo(t,n),l.point=r}function r(t,n){e.lineTo(t,n)}function a(){l.point=t}function i(){e.closePath()}var o=4.5,l={point:t,lineStart:function(){l.point=n},lineEnd:a,polygonStart:function(){l.lineEnd=i},polygonEnd:function(){l.lineEnd=a,l.point=t},pointRadius:function(e){return o=e,l},result:T};return l}function ln(e){function t(e){return(l?r:n)(e)}function n(t){return un(t,function(n,r){n=e(n,r),t.point(n[0],n[1])})}function r(t){function n(n,r){n=e(n,r),t.point(n[0],n[1])}function r(){x=NaN,M.point=i,t.lineStart()}function i(n,r){var i=bt([n,r]),o=e(n,r);a(x,b,m,_,w,k,x=o[0],b=o[1],m=n,_=i[0],w=i[1],k=i[2],l,t),t.point(x,b)}function o(){M.point=n,t.lineEnd()}function s(){r(),M.point=c,M.lineEnd=u}function c(e,t){i(f=e,d=t),h=x,p=b,g=_,v=w,y=k,M.point=i}function u(){a(x,b,m,_,w,k,h,p,f,g,v,y,l,t),M.lineEnd=o,o()}var f,d,h,p,g,v,y,m,x,b,_,w,k,M={point:n,lineStart:r,lineEnd:o,polygonStart:function(){t.polygonStart(),M.lineStart=s},polygonEnd:function(){t.polygonEnd(),M.lineStart=r}};return M}function a(t,n,r,l,s,c,u,f,d,h,p,g,v,y){var m=u-t,x=f-n,b=m*m+x*x;if(b>4*i&&v--){var _=l+h,w=s+p,k=c+g,M=Math.sqrt(_*_+w*w+k*k),A=Math.asin(k/=M),T=ko(ko(k)-1)<Bo||ko(r-d)<Bo?(r+d)/2:Math.atan2(w,_),S=e(T,A),L=S[0],C=S[1],O=L-t,z=C-n,j=x*O-m*z;(j*j/b>i||ko((m*O+x*z)/b-.5)>.3||l*h+s*p+c*g<o)&&(a(t,n,r,l,s,c,L,C,T,_/=M,w/=M,k,v,y),y.point(L,C),a(L,C,T,_,w,k,u,f,d,h,p,g,v,y))}}var i=.5,o=Math.cos(30*Xo),l=16;return t.precision=function(e){return arguments.length?(l=(i=e*e)>0&&16,t):Math.sqrt(i)},t}function sn(e){var t=ln(function(t,n){return e([t*Yo,n*Yo])});return function(e){return hn(t(e))}}function cn(e){this.stream=e}function un(e,t){return{point:t,sphere:function(){e.sphere()},lineStart:function(){e.lineStart()},lineEnd:function(){e.lineEnd()},polygonStart:function(){e.polygonStart()},polygonEnd:function(){e.polygonEnd()}}}function fn(e){return dn(function(){return e})()}function dn(e){function t(e){return e=l(e[0]*Xo,e[1]*Xo),[e[0]*d+s,c-e[1]*d]}function n(e){return(e=l.invert((e[0]-s)/d,(c-e[1])/d))&&[e[0]*Yo,e[1]*Yo]}function r(){l=Dt(o=vn(y,m,x),i);var e=i(g,v);return s=h-e[0]*d,c=p+e[1]*d,a()}function a(){return u&&(u.valid=!1,u=null),t}var i,o,l,s,c,u,f=ln(function(e,t){return e=i(e,t),[e[0]*d+s,c-e[1]*d]}),d=150,h=480,p=250,g=0,v=0,y=0,m=0,x=0,b=Bl,_=k,w=null,M=null;return t.stream=function(e){return u&&(u.valid=!1),u=hn(b(o,f(_(e)))),u.valid=!0,u},t.clipAngle=function(e){return arguments.length?(b=null==e?(w=e,Bl):Xt((w=+e)*Xo),a()):w},t.clipExtent=function(e){return arguments.length?(M=e,_=e?Zt(e[0][0],e[0][1],e[1][0],e[1][1]):k,a()):M},t.scale=function(e){return arguments.length?(d=+e,r()):d},t.translate=function(e){return arguments.length?(h=+e[0],p=+e[1],r()):[h,p]},t.center=function(e){return arguments.length?(g=e[0]%360*Xo,v=e[1]%360*Xo,r()):[g*Yo,v*Yo]},t.rotate=function(e){return arguments.length?(y=e[0]%360*Xo,m=e[1]%360*Xo,x=e.length>2?e[2]%360*Xo:0,r()):[y*Yo,m*Yo,x*Yo]},ho.rebind(t,f,"precision"),function(){return i=e.apply(this,arguments),t.invert=i.invert&&n,r()}}function hn(e){return un(e,function(t,n){e.point(t*Xo,n*Xo)})}function pn(e,t){return[e,t]}function gn(e,t){return[e>Ho?e-Vo:e<-Ho?e+Vo:e,t]}function vn(e,t,n){return e?t||n?Dt(mn(e),xn(t,n)):mn(e):t||n?xn(t,n):gn}function yn(e){return function(t,n){return t+=e,[t>Ho?t-Vo:t<-Ho?t+Vo:t,n]}}function mn(e){var t=yn(e);return t.invert=yn(-e),t}function xn(e,t){function n(e,t){var n=Math.cos(t),l=Math.cos(e)*n,s=Math.sin(e)*n,c=Math.sin(t),u=c*r+l*a;return[Math.atan2(s*i-u*o,l*r-c*a),oe(u*i+s*o)]}var r=Math.cos(e),a=Math.sin(e),i=Math.cos(t),o=Math.sin(t);return n.invert=function(e,t){var n=Math.cos(t),l=Math.cos(e)*n,s=Math.sin(e)*n,c=Math.sin(t),u=c*i-s*o;return[Math.atan2(s*i+c*o,l*r+u*a),oe(u*r-l*a)]},n}function bn(e,t){var n=Math.cos(e),r=Math.sin(e);return function(a,i,o,l){var s=o*t;null!=a?(a=_n(n,a),i=_n(n,i),(o>0?a<i:a>i)&&(a+=o*Vo)):(a=e+o*Vo,i=e-.5*s);for(var c,u=a;o>0?u>i:u<i;u-=s)l.point((c=Tt([n,-r*Math.cos(u),-r*Math.sin(u)]))[0],c[1])}}function _n(e,t){var n=bt(t);n[0]-=e,At(n);var r=ie(-n[1]);return((-n[2]<0?-r:r)+2*Math.PI-Bo)%(2*Math.PI)}function wn(e,t,n){var r=ho.range(e,t-Bo,n).concat(t);return function(e){return r.map(function(t){return[e,t]})}}function kn(e,t,n){var r=ho.range(e,t-Bo,n).concat(t);return function(e){return r.map(function(t){return[t,e]})}}function Mn(e){return e.source}function An(e){return e.target}function Tn(e,t,n,r){var a=Math.cos(t),i=Math.sin(t),o=Math.cos(r),l=Math.sin(r),s=a*Math.cos(e),c=a*Math.sin(e),u=o*Math.cos(n),f=o*Math.sin(n),d=2*Math.asin(Math.sqrt(ue(r-t)+a*o*ue(n-e))),h=1/Math.sin(d),p=d?function(e){var t=Math.sin(e*=d)*h,n=Math.sin(d-e)*h,r=n*s+t*u,a=n*c+t*f,o=n*i+t*l;return[Math.atan2(a,r)*Yo,Math.atan2(o,Math.sqrt(r*r+a*a))*Yo]}:function(){return[e*Yo,t*Yo]};return p.distance=d,p}function Sn(){function e(e,a){var i=Math.sin(a*=Xo),o=Math.cos(a),l=ko((e*=Xo)-t),s=Math.cos(l);$l+=Math.atan2(Math.sqrt((l=o*Math.sin(l))*l+(l=r*i-n*o*s)*l),n*i+r*o*s),t=e,n=i,r=o}var t,n,r;Jl.point=function(a,i){t=a*Xo,n=Math.sin(i*=Xo),r=Math.cos(i),Jl.point=e},Jl.lineEnd=function(){Jl.point=Jl.lineEnd=T}}function Ln(e,t){function n(t,n){var r=Math.cos(t),a=Math.cos(n),i=e(r*a);return[i*a*Math.sin(t),i*Math.sin(n)]}return n.invert=function(e,n){var r=Math.sqrt(e*e+n*n),a=t(r),i=Math.sin(a),o=Math.cos(a);return[Math.atan2(e*i,r*o),Math.asin(r&&n*i/r)]},n}function Cn(e,t){function n(e,t){o>0?t<-Go+Bo&&(t=-Go+Bo):t>Go-Bo&&(t=Go-Bo);var n=o/Math.pow(a(t),i);return[n*Math.sin(i*e),o-n*Math.cos(i*e)]}var r=Math.cos(e),a=function(e){return Math.tan(Ho/4+e/2)},i=e===t?Math.sin(e):Math.log(r/Math.cos(t))/Math.log(a(t)/a(e)),o=r*Math.pow(a(e),i)/i;return i?(n.invert=function(e,t){var n=o-t,r=re(i)*Math.sqrt(e*e+n*n);return[Math.atan2(e,n)/i,2*Math.atan(Math.pow(o/r,1/i))-Go]},n):zn}function On(e,t){function n(e,t){var n=i-t;return[n*Math.sin(a*e),i-n*Math.cos(a*e)]}var r=Math.cos(e),a=e===t?Math.sin(e):(r-Math.cos(t))/(t-e),i=r/a+e;return ko(a)<Bo?pn:(n.invert=function(e,t){var n=i-t;return[Math.atan2(e,n)/a,i-re(a)*Math.sqrt(e*e+n*n)]},n)}function zn(e,t){return[e,Math.log(Math.tan(Ho/4+t/2))]}function jn(e){var t,n=fn(e),r=n.scale,a=n.translate,i=n.clipExtent;return n.scale=function(){var e=r.apply(n,arguments);return e===n?t?n.clipExtent(null):n:e},n.translate=function(){var e=a.apply(n,arguments);return e===n?t?n.clipExtent(null):n:e},n.clipExtent=function(e){var o=i.apply(n,arguments);if(o===n){if(t=null==e){var l=Ho*r(),s=a();i([[s[0]-l,s[1]-l],[s[0]+l,s[1]+l]])}}else t&&(o=null);return o},n.clipExtent(null)}function Dn(e,t){return[Math.log(Math.tan(Ho/4+t/2)),-e]}function In(e){return e[0]}function Pn(e){return e[1]}function En(e){for(var t=e.length,n=[0,1],r=2,a=2;a<t;a++){for(;r>1&&ae(e[n[r-2]],e[n[r-1]],e[a])<=0;)--r;n[r++]=a}return n.slice(0,r)}function Nn(e,t){return e[0]-t[0]||e[1]-t[1]}function Rn(e,t,n){return(n[0]-t[0])*(e[1]-t[1])<(n[1]-t[1])*(e[0]-t[0])}function Fn(e,t,n,r){var a=e[0],i=n[0],o=t[0]-a,l=r[0]-i,s=e[1],c=n[1],u=t[1]-s,f=r[1]-c,d=(l*(s-c)-f*(a-i))/(f*o-l*u);return[a+d*o,s+d*u]}function Bn(e){var t=e[0],n=e[e.length-1];return!(t[0]-n[0]||t[1]-n[1])}function qn(){sr(this),this.edge=this.site=this.circle=null}function Hn(e){var t=us.pop()||new qn;return t.site=e,t}function Vn(e){Kn(e),ls.remove(e),us.push(e),sr(e)}function Un(e){var t=e.circle,n=t.x,r=t.cy,a={x:n,y:r},i=e.P,o=e.N,l=[e];Vn(e);for(var s=i;s.circle&&ko(n-s.circle.x)<Bo&&ko(r-s.circle.cy)<Bo;)i=s.P,l.unshift(s),Vn(s),s=i;l.unshift(s),Kn(s);for(var c=o;c.circle&&ko(n-c.circle.x)<Bo&&ko(r-c.circle.cy)<Bo;)o=c.N,l.push(c),Vn(c),c=o;l.push(c),Kn(c);var u,f=l.length;for(u=1;u<f;++u)c=l[u],s=l[u-1],ir(c.edge,s.site,c.site,a);s=l[0],c=l[f-1],c.edge=rr(s.site,c.site,null,a),Jn(s),Jn(c)}function Gn(e){for(var t,n,r,a,i=e.x,o=e.y,l=ls._;l;)if((r=Xn(l,o)-i)>Bo)l=l.L;else{if(!((a=i-Yn(l,o))>Bo)){r>-Bo?(t=l.P,n=l):a>-Bo?(t=l,n=l.N):t=n=l;break}if(!l.R){t=l;break}l=l.R}var s=Hn(e);if(ls.insert(t,s),t||n){if(t===n)return Kn(t),n=Hn(t.site),ls.insert(s,n),s.edge=n.edge=rr(t.site,s.site),Jn(t),void Jn(n);if(!n)return void(s.edge=rr(t.site,s.site));Kn(t),Kn(n);var c=t.site,u=c.x,f=c.y,d=e.x-u,h=e.y-f,p=n.site,g=p.x-u,v=p.y-f,y=2*(d*v-h*g),m=d*d+h*h,x=g*g+v*v,b={x:(v*m-h*x)/y+u,y:(d*x-g*m)/y+f};ir(n.edge,c,p,b),s.edge=rr(c,e,null,b),n.edge=rr(e,p,null,b),Jn(t),Jn(n)}}function Xn(e,t){var n=e.site,r=n.x,a=n.y,i=a-t;if(!i)return r;var o=e.P;if(!o)return-1/0;n=o.site;var l=n.x,s=n.y,c=s-t;if(!c)return l;var u=l-r,f=1/i-1/c,d=u/c;return f?(-d+Math.sqrt(d*d-2*f*(u*u/(-2*c)-s+c/2+a-i/2)))/f+r:(r+l)/2}function Yn(e,t){var n=e.N;if(n)return Xn(n,t);var r=e.site;return r.y===t?r.x:1/0}function Zn(e){this.site=e,this.edges=[]}function Wn(e){for(var t,n,r,a,i,o,l,s,c,u,f=e[0][0],d=e[1][0],h=e[0][1],p=e[1][1],g=os,v=g.length;v--;)if((i=g[v])&&i.prepare())for(l=i.edges,s=l.length,o=0;o<s;)u=l[o].end(),r=u.x,a=u.y,c=l[++o%s].start(),t=c.x,n=c.y,(ko(r-t)>Bo||ko(a-n)>Bo)&&(l.splice(o,0,new or(ar(i.site,u,ko(r-f)<Bo&&p-a>Bo?{x:f,y:ko(t-f)<Bo?n:p}:ko(a-p)<Bo&&d-r>Bo?{x:ko(n-p)<Bo?t:d,y:p}:ko(r-d)<Bo&&a-h>Bo?{x:d,y:ko(t-d)<Bo?n:h}:ko(a-h)<Bo&&r-f>Bo?{x:ko(n-h)<Bo?t:f,y:h}:null),i.site,null)),++s)}function Qn(e,t){return t.angle-e.angle}function $n(){sr(this),this.x=this.y=this.arc=this.site=this.cy=null}function Jn(e){var t=e.P,n=e.N;if(t&&n){var r=t.site,a=e.site,i=n.site;if(r!==i){var o=a.x,l=a.y,s=r.x-o,c=r.y-l,u=i.x-o,f=i.y-l,d=2*(s*f-c*u);if(!(d>=-qo)){var h=s*s+c*c,p=u*u+f*f,g=(f*h-c*p)/d,v=(s*p-u*h)/d,f=v+l,y=fs.pop()||new $n;y.arc=e,y.site=a,y.x=g+o,y.y=f+Math.sqrt(g*g+v*v),y.cy=f,e.circle=y;for(var m=null,x=cs._;x;)if(y.y<x.y||y.y===x.y&&y.x<=x.x){if(!x.L){m=x.P;break}x=x.L}else{if(!x.R){m=x;break}x=x.R}cs.insert(m,y),m||(ss=y)}}}}function Kn(e){var t=e.circle;t&&(t.P||(ss=t.N),cs.remove(t),fs.push(t),sr(t),e.circle=null)}function er(e){for(var t,n=is,r=Yt(e[0][0],e[0][1],e[1][0],e[1][1]),a=n.length;a--;)t=n[a],(!tr(t,e)||!r(t)||ko(t.a.x-t.b.x)<Bo&&ko(t.a.y-t.b.y)<Bo)&&(t.a=t.b=null,n.splice(a,1))}function tr(e,t){var n=e.b;if(n)return!0;var r,a,i=e.a,o=t[0][0],l=t[1][0],s=t[0][1],c=t[1][1],u=e.l,f=e.r,d=u.x,h=u.y,p=f.x,g=f.y,v=(d+p)/2,y=(h+g)/2;if(g===h){if(v<o||v>=l)return;if(d>p){if(i){if(i.y>=c)return}else i={x:v,y:s};n={x:v,y:c}}else{if(i){if(i.y<s)return}else i={x:v,y:c};n={x:v,y:s}}}else if(r=(d-p)/(g-h),a=y-r*v,r<-1||r>1)if(d>p){if(i){if(i.y>=c)return}else i={x:(s-a)/r,y:s};n={x:(c-a)/r,y:c}}else{if(i){if(i.y<s)return}else i={x:(c-a)/r,y:c};n={x:(s-a)/r,y:s}}else if(h<g){if(i){if(i.x>=l)return}else i={x:o,y:r*o+a};n={x:l,y:r*l+a}}else{if(i){if(i.x<o)return}else i={x:l,y:r*l+a};n={x:o,y:r*o+a}}return e.a=i,e.b=n,!0}function nr(e,t){this.l=e,this.r=t,this.a=this.b=null}function rr(e,t,n,r){var a=new nr(e,t);return is.push(a),n&&ir(a,e,t,n),r&&ir(a,t,e,r),os[e.i].edges.push(new or(a,e,t)),os[t.i].edges.push(new or(a,t,e)),a}function ar(e,t,n){var r=new nr(e,null);return r.a=t,r.b=n,is.push(r),r}function ir(e,t,n,r){e.a||e.b?e.l===n?e.b=r:e.a=r:(e.a=r,e.l=t,e.r=n)}function or(e,t,n){var r=e.a,a=e.b;this.edge=e,this.site=t,this.angle=n?Math.atan2(n.y-t.y,n.x-t.x):e.l===t?Math.atan2(a.x-r.x,r.y-a.y):Math.atan2(r.x-a.x,a.y-r.y)}function lr(){this._=null}function sr(e){e.U=e.C=e.L=e.R=e.P=e.N=null}function cr(e,t){var n=t,r=t.R,a=n.U;a?a.L===n?a.L=r:a.R=r:e._=r,r.U=a,n.U=r,n.R=r.L,n.R&&(n.R.U=n),r.L=n}function ur(e,t){var n=t,r=t.L,a=n.U;a?a.L===n?a.L=r:a.R=r:e._=r,r.U=a,n.U=r,n.L=r.R,n.L&&(n.L.U=n),r.R=n}function fr(e){for(;e.L;)e=e.L;return e}function dr(e,t){var n,r,a,i=e.sort(hr).pop();for(is=[],os=new Array(e.length),ls=new lr,cs=new lr;;)if(a=ss,i&&(!a||i.y<a.y||i.y===a.y&&i.x<a.x))i.x===n&&i.y===r||(os[i.i]=new Zn(i),Gn(i),n=i.x,r=i.y),i=e.pop();else{if(!a)break;Un(a.arc)}t&&(er(t),Wn(t));var o={cells:os,edges:is};return ls=cs=is=os=null,o}function hr(e,t){return t.y-e.y||t.x-e.x}function pr(e,t,n){return(e.x-n.x)*(t.y-e.y)-(e.x-t.x)*(n.y-e.y)}function gr(e){return e.x}function vr(e){return e.y}function yr(){return{leaf:!0,nodes:[],point:null,x:null,y:null}}function mr(e,t,n,r,a,i){if(!e(t,n,r,a,i)){var o=.5*(n+a),l=.5*(r+i),s=t.nodes;s[0]&&mr(e,s[0],n,r,o,l),s[1]&&mr(e,s[1],o,r,a,l),s[2]&&mr(e,s[2],n,l,o,i),s[3]&&mr(e,s[3],o,l,a,i)}}function xr(e,t,n,r,a,i,o){var l,s=1/0;return function e(c,u,f,d,h){if(!(u>i||f>o||d<r||h<a)){if(p=c.point){var p,g=t-c.x,v=n-c.y,y=g*g+v*v;if(y<s){var m=Math.sqrt(s=y);r=t-m,a=n-m,i=t+m,o=n+m,l=p}}for(var x=c.nodes,b=.5*(u+d),_=.5*(f+h),w=t>=b,k=n>=_,M=k<<1|w,A=M+4;M<A;++M)if(c=x[3&M])switch(3&M){case 0:e(c,u,f,b,_);break;case 1:e(c,b,f,d,_);break;case 2:e(c,u,_,b,h);break;case 3:e(c,b,_,d,h)}}}(e,r,a,i,o),l}function br(e,t){e=ho.rgb(e),t=ho.rgb(t);var n=e.r,r=e.g,a=e.b,i=t.r-n,o=t.g-r,l=t.b-a;return function(e){return"#"+Ae(Math.round(n+i*e))+Ae(Math.round(r+o*e))+Ae(Math.round(a+l*e))}}function _r(e,t){var n,r={},a={};for(n in e)n in t?r[n]=Mr(e[n],t[n]):a[n]=e[n];for(n in t)n in e||(a[n]=t[n]);return function(e){for(n in r)a[n]=r[n](e);return a}}function wr(e,t){return e=+e,t=+t,function(n){return e*(1-n)+t*n}}function kr(e,t){var n,r,a,i=hs.lastIndex=ps.lastIndex=0,o=-1,l=[],s=[];for(e+="",t+="";(n=hs.exec(e))&&(r=ps.exec(t));)(a=r.index)>i&&(a=t.slice(i,a),l[o]?l[o]+=a:l[++o]=a),(n=n[0])===(r=r[0])?l[o]?l[o]+=r:l[++o]=r:(l[++o]=null,s.push({i:o,x:wr(n,r)})),i=ps.lastIndex;return i<t.length&&(a=t.slice(i),l[o]?l[o]+=a:l[++o]=a),l.length<2?s[0]?(t=s[0].x,function(e){return t(e)+""}):function(){return t}:(t=s.length,function(e){for(var n,r=0;r<t;++r)l[(n=s[r]).i]=n.x(e);return l.join("")})}function Mr(e,t){for(var n,r=ho.interpolators.length;--r>=0&&!(n=ho.interpolators[r](e,t)););return n}function Ar(e,t){var n,r=[],a=[],i=e.length,o=t.length,l=Math.min(e.length,t.length);for(n=0;n<l;++n)r.push(Mr(e[n],t[n]));for(;n<i;++n)a[n]=e[n];for(;n<o;++n)a[n]=t[n];return function(e){for(n=0;n<l;++n)a[n]=r[n](e);return a}}function Tr(e){return function(t){return t<=0?0:t>=1?1:e(t)}}function Sr(e){return function(t){return 1-e(1-t)}}function Lr(e){return function(t){return.5*(t<.5?e(2*t):2-e(2-2*t))}}function Cr(e){return e*e}function Or(e){return e*e*e}function zr(e){if(e<=0)return 0;if(e>=1)return 1;var t=e*e,n=t*e;return 4*(e<.5?n:3*(e-t)+n-.75)}function jr(e){return function(t){return Math.pow(t,e)}}function Dr(e){return 1-Math.cos(e*Go)}function Ir(e){return Math.pow(2,10*(e-1))}function Pr(e){return 1-Math.sqrt(1-e*e)}function Er(e,t){var n;return arguments.length<2&&(t=.45),arguments.length?n=t/Vo*Math.asin(1/e):(e=1,n=t/4),function(r){return 1+e*Math.pow(2,-10*r)*Math.sin((r-n)*Vo/t)}}function Nr(e){return e||(e=1.70158),function(t){return t*t*((e+1)*t-e)}}function Rr(e){return e<1/2.75?7.5625*e*e:e<2/2.75?7.5625*(e-=1.5/2.75)*e+.75:e<2.5/2.75?7.5625*(e-=2.25/2.75)*e+.9375:7.5625*(e-=2.625/2.75)*e+.984375}function Fr(e,t){e=ho.hcl(e),t=ho.hcl(t);var n=e.h,r=e.c,a=e.l,i=t.h-n,o=t.c-r,l=t.l-a;return isNaN(o)&&(o=0,r=isNaN(r)?t.c:r),isNaN(i)?(i=0,n=isNaN(n)?t.h:n):i>180?i-=360:i<-180&&(i+=360),function(e){return ge(n+i*e,r+o*e,a+l*e)+""}}function Br(e,t){e=ho.hsl(e),t=ho.hsl(t);var n=e.h,r=e.s,a=e.l,i=t.h-n,o=t.s-r,l=t.l-a;return isNaN(o)&&(o=0,r=isNaN(r)?t.s:r),isNaN(i)?(i=0,n=isNaN(n)?t.h:n):i>180?i-=360:i<-180&&(i+=360),function(e){return he(n+i*e,r+o*e,a+l*e)+""}}function qr(e,t){e=ho.lab(e),t=ho.lab(t);var n=e.l,r=e.a,a=e.b,i=t.l-n,o=t.a-r,l=t.b-a;return function(e){return ye(n+i*e,r+o*e,a+l*e)+""}}function Hr(e,t){return t-=e,function(n){return Math.round(e+t*n)}}function Vr(e){var t=[e.a,e.b],n=[e.c,e.d],r=Gr(t),a=Ur(t,n),i=Gr(Xr(n,t,-a))||0;t[0]*n[1]<n[0]*t[1]&&(t[0]*=-1,t[1]*=-1,r*=-1,a*=-1),this.rotate=(r?Math.atan2(t[1],t[0]):Math.atan2(-n[0],n[1]))*Yo,this.translate=[e.e,e.f],this.scale=[r,i],this.skew=i?Math.atan2(a,i)*Yo:0}function Ur(e,t){return e[0]*t[0]+e[1]*t[1]}function Gr(e){var t=Math.sqrt(Ur(e,e));return t&&(e[0]/=t,e[1]/=t),t}function Xr(e,t,n){return e[0]+=n*t[0],e[1]+=n*t[1],e}function Yr(e){return e.length?e.pop()+",":""}function Zr(e,t,n,r){if(e[0]!==t[0]||e[1]!==t[1]){var a=n.push("translate(",null,",",null,")");r.push({i:a-4,x:wr(e[0],t[0])},{i:a-2,x:wr(e[1],t[1])})}else(t[0]||t[1])&&n.push("translate("+t+")")}function Wr(e,t,n,r){e!==t?(e-t>180?t+=360:t-e>180&&(e+=360),r.push({i:n.push(Yr(n)+"rotate(",null,")")-2,x:wr(e,t)})):t&&n.push(Yr(n)+"rotate("+t+")")}function Qr(e,t,n,r){e!==t?r.push({i:n.push(Yr(n)+"skewX(",null,")")-2,x:wr(e,t)}):t&&n.push(Yr(n)+"skewX("+t+")")}function $r(e,t,n,r){if(e[0]!==t[0]||e[1]!==t[1]){var a=n.push(Yr(n)+"scale(",null,",",null,")");r.push({i:a-4,x:wr(e[0],t[0])},{i:a-2,x:wr(e[1],t[1])})}else 1===t[0]&&1===t[1]||n.push(Yr(n)+"scale("+t+")")}function Jr(e,t){var n=[],r=[];return e=ho.transform(e),t=ho.transform(t),Zr(e.translate,t.translate,n,r),Wr(e.rotate,t.rotate,n,r),Qr(e.skew,t.skew,n,r),$r(e.scale,t.scale,n,r),e=t=null,function(e){for(var t,a=-1,i=r.length;++a<i;)n[(t=r[a]).i]=t.x(e);return n.join("")}}function Kr(e,t){return t=(t-=e=+e)||1/t,function(n){return(n-e)/t}}function ea(e,t){return t=(t-=e=+e)||1/t,function(n){return Math.max(0,Math.min(1,(n-e)/t))}}function ta(e){for(var t=e.source,n=e.target,r=ra(t,n),a=[t];t!==r;)t=t.parent,a.push(t);for(var i=a.length;n!==r;)a.splice(i,0,n),n=n.parent;return a}function na(e){for(var t=[],n=e.parent;null!=n;)t.push(e),e=n,n=n.parent;return t.push(e),t}function ra(e,t){if(e===t)return e;for(var n=na(e),r=na(t),a=n.pop(),i=r.pop(),o=null;a===i;)o=a,a=n.pop(),i=r.pop();return o}function aa(e){e.fixed|=2}function ia(e){e.fixed&=-7}function oa(e){e.fixed|=4,e.px=e.x,e.py=e.y}function la(e){e.fixed&=-5}function sa(e,t,n){var r=0,a=0;if(e.charge=0,!e.leaf)for(var i,o=e.nodes,l=o.length,s=-1;++s<l;)null!=(i=o[s])&&(sa(i,t,n),e.charge+=i.charge,r+=i.charge*i.cx,a+=i.charge*i.cy);if(e.point){e.leaf||(e.point.x+=Math.random()-.5,e.point.y+=Math.random()-.5);var c=t*n[e.point.index];e.charge+=e.pointCharge=c,r+=c*e.point.x,a+=c*e.point.y}e.cx=r/e.charge,e.cy=a/e.charge}function ca(e,t){return ho.rebind(e,t,"sort","children","value"),e.nodes=e,e.links=ga,e}function ua(e,t){for(var n=[e];null!=(e=n.pop());)if(t(e),(a=e.children)&&(r=a.length))for(var r,a;--r>=0;)n.push(a[r])}function fa(e,t){for(var n=[e],r=[];null!=(e=n.pop());)if(r.push(e),(i=e.children)&&(a=i.length))for(var a,i,o=-1;++o<a;)n.push(i[o]);for(;null!=(e=r.pop());)t(e)}function da(e){return e.children}function ha(e){return e.value}function pa(e,t){return t.value-e.value}function ga(e){return ho.merge(e.map(function(e){return(e.children||[]).map(function(t){return{source:e,target:t}})}))}function va(e){return e.x}function ya(e){return e.y}function ma(e,t,n){e.y0=t,e.y=n}function xa(e){return ho.range(e.length)}function ba(e){for(var t=-1,n=e[0].length,r=[];++t<n;)r[t]=0;return r}function _a(e){for(var t,n=1,r=0,a=e[0][1],i=e.length;n<i;++n)(t=e[n][1])>a&&(r=n,a=t);return r}function wa(e){return e.reduce(ka,0)}function ka(e,t){return e+t[1]}function Ma(e,t){return Aa(e,Math.ceil(Math.log(t.length)/Math.LN2+1))}function Aa(e,t){for(var n=-1,r=+e[0],a=(e[1]-r)/t,i=[];++n<=t;)i[n]=a*n+r;return i}function Ta(e){return[ho.min(e),ho.max(e)]}function Sa(e,t){return e.value-t.value}function La(e,t){var n=e._pack_next;e._pack_next=t,t._pack_prev=e,t._pack_next=n,n._pack_prev=t}function Ca(e,t){e._pack_next=t,t._pack_prev=e}function Oa(e,t){var n=t.x-e.x,r=t.y-e.y,a=e.r+t.r;return.999*a*a>n*n+r*r}function za(e){function t(e){u=Math.min(e.x-e.r,u),f=Math.max(e.x+e.r,f),d=Math.min(e.y-e.r,d),h=Math.max(e.y+e.r,h)}if((n=e.children)&&(c=n.length)){var n,r,a,i,o,l,s,c,u=1/0,f=-1/0,d=1/0,h=-1/0;if(n.forEach(ja),r=n[0],r.x=-r.r,r.y=0,t(r),c>1&&(a=n[1],a.x=a.r,a.y=0,t(a),c>2))for(i=n[2],Pa(r,a,i),t(i),La(r,i),r._pack_prev=i,La(i,a),a=r._pack_next,o=3;o<c;o++){Pa(r,a,i=n[o]);var p=0,g=1,v=1;for(l=a._pack_next;l!==a;l=l._pack_next,g++)if(Oa(l,i)){p=1;break}if(1==p)for(s=r._pack_prev;s!==l._pack_prev&&!Oa(s,i);s=s._pack_prev,v++);p?(g<v||g==v&&a.r<r.r?Ca(r,a=l):Ca(r=s,a),o--):(La(r,i),a=i,t(i))}var y=(u+f)/2,m=(d+h)/2,x=0;for(o=0;o<c;o++)i=n[o],i.x-=y,i.y-=m,x=Math.max(x,i.r+Math.sqrt(i.x*i.x+i.y*i.y));e.r=x,n.forEach(Da)}}function ja(e){e._pack_next=e._pack_prev=e}function Da(e){delete e._pack_next,delete e._pack_prev}function Ia(e,t,n,r){var a=e.children;if(e.x=t+=r*e.x,e.y=n+=r*e.y,e.r*=r,a)for(var i=-1,o=a.length;++i<o;)Ia(a[i],t,n,r)}function Pa(e,t,n){var r=e.r+n.r,a=t.x-e.x,i=t.y-e.y;if(r&&(a||i)){var o=t.r+n.r,l=a*a+i*i;o*=o,r*=r;var s=.5+(r-o)/(2*l),c=Math.sqrt(Math.max(0,2*o*(r+l)-(r-=l)*r-o*o))/(2*l);n.x=e.x+s*a+c*i,n.y=e.y+s*i-c*a}else n.x=e.x+r,n.y=e.y}function Ea(e,t){return e.parent==t.parent?1:2}function Na(e){var t=e.children;return t.length?t[0]:e.t}function Ra(e){var t,n=e.children;return(t=n.length)?n[t-1]:e.t}function Fa(e,t,n){var r=n/(t.i-e.i);t.c-=r,t.s+=n,e.c+=r,t.z+=n,t.m+=n}function Ba(e){for(var t,n=0,r=0,a=e.children,i=a.length;--i>=0;)t=a[i],t.z+=n,t.m+=n,n+=t.s+(r+=t.c)}function qa(e,t,n){return e.a.parent===t.parent?e.a:n}function Ha(e){return 1+ho.max(e,function(e){return e.y})}function Va(e){return e.reduce(function(e,t){return e+t.x},0)/e.length}function Ua(e){var t=e.children;return t&&t.length?Ua(t[0]):e}function Ga(e){var t,n=e.children;return n&&(t=n.length)?Ga(n[t-1]):e}function Xa(e){return{x:e.x,y:e.y,dx:e.dx,dy:e.dy}}function Ya(e,t){var n=e.x+t[3],r=e.y+t[0],a=e.dx-t[1]-t[3],i=e.dy-t[0]-t[2];return a<0&&(n+=a/2,a=0),i<0&&(r+=i/2,i=0),{x:n,y:r,dx:a,dy:i}}function Za(e){var t=e[0],n=e[e.length-1];return t<n?[t,n]:[n,t]}function Wa(e){return e.rangeExtent?e.rangeExtent():Za(e.range())}function Qa(e,t,n,r){var a=n(e[0],e[1]),i=r(t[0],t[1]);return function(e){return i(a(e))}}function $a(e,t){var n,r=0,a=e.length-1,i=e[r],o=e[a];return o<i&&(n=r,r=a,a=n,n=i,i=o,o=n),e[r]=t.floor(i),e[a]=t.ceil(o),e}function Ja(e){return e?{floor:function(t){return Math.floor(t/e)*e},ceil:function(t){return Math.ceil(t/e)*e}}:As}function Ka(e,t,n,r){var a=[],i=[],o=0,l=Math.min(e.length,t.length)-1;for(e[l]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++o<=l;)a.push(n(e[o-1],e[o])),i.push(r(t[o-1],t[o]));return function(t){var n=ho.bisect(e,t,1,l)-1;return i[n](a[n](t))}}function ei(e,t,n,r){function a(){var a=Math.min(e.length,t.length)>2?Ka:Qa,s=r?ea:Kr;return o=a(e,t,s,n),l=a(t,e,s,Mr),i}function i(e){return o(e)}var o,l;return i.invert=function(e){return l(e)},i.domain=function(t){return arguments.length?(e=t.map(Number),a()):e},i.range=function(e){return arguments.length?(t=e,a()):t},i.rangeRound=function(e){return i.range(e).interpolate(Hr)},i.clamp=function(e){return arguments.length?(r=e,a()):r},i.interpolate=function(e){return arguments.length?(n=e,a()):n},i.ticks=function(t){return ai(e,t)},i.tickFormat=function(t,n){return ii(e,t,n)},i.nice=function(t){return ni(e,t),a()},i.copy=function(){return ei(e,t,n,r)},a()}function ti(e,t){return ho.rebind(e,t,"range","rangeRound","interpolate","clamp")}function ni(e,t){return $a(e,Ja(ri(e,t)[2])),$a(e,Ja(ri(e,t)[2])),e}function ri(e,t){null==t&&(t=10);var n=Za(e),r=n[1]-n[0],a=Math.pow(10,Math.floor(Math.log(r/t)/Math.LN10)),i=t/r*a;return i<=.15?a*=10:i<=.35?a*=5:i<=.75&&(a*=2),n[0]=Math.ceil(n[0]/a)*a,n[1]=Math.floor(n[1]/a)*a+.5*a,n[2]=a,n}function ai(e,t){return ho.range.apply(ho,ri(e,t))}function ii(e,t,n){var r=ri(e,t);if(n){var a=hl.exec(n);if(a.shift(),"s"===a[8]){var i=ho.formatPrefix(Math.max(ko(r[0]),ko(r[1])));return a[7]||(a[7]="."+oi(i.scale(r[2]))),a[8]="f",n=ho.format(a.join("")),function(e){return n(i.scale(e))+i.symbol}}a[7]||(a[7]="."+li(a[8],r)),n=a.join("")}else n=",."+oi(r[2])+"f";return ho.format(n)}function oi(e){return-Math.floor(Math.log(e)/Math.LN10+.01)}function li(e,t){var n=oi(t[2]);return e in Ts?Math.abs(n-oi(Math.max(ko(t[0]),ko(t[1]))))+ +("e"!==e):n-2*("%"===e)}function si(e,t,n,r){function a(e){return(n?Math.log(e<0?0:e):-Math.log(e>0?0:-e))/Math.log(t)}function i(e){return n?Math.pow(t,e):-Math.pow(t,-e)}function o(t){return e(a(t))}return o.invert=function(t){return i(e.invert(t))},o.domain=function(t){return arguments.length?(n=t[0]>=0,e.domain((r=t.map(Number)).map(a)),o):r},o.base=function(n){return arguments.length?(t=+n,e.domain(r.map(a)),o):t},o.nice=function(){var t=$a(r.map(a),n?Math:Ls);return e.domain(t),r=t.map(i),o},o.ticks=function(){var e=Za(r),o=[],l=e[0],s=e[1],c=Math.floor(a(l)),u=Math.ceil(a(s)),f=t%1?2:t;if(isFinite(u-c)){if(n){for(;c<u;c++)for(var d=1;d<f;d++)o.push(i(c)*d);o.push(i(c))}else for(o.push(i(c));c++<u;)for(var d=f-1;d>0;d--)o.push(i(c)*d);for(c=0;o[c]<l;c++);for(u=o.length;o[u-1]>s;u--);o=o.slice(c,u)}return o},o.tickFormat=function(e,n){if(!arguments.length)return Ss;arguments.length<2?n=Ss:"function"!=typeof n&&(n=ho.format(n));var r=Math.max(1,t*e/o.ticks().length);return function(e){var o=e/i(Math.round(a(e)));return o*t<t-.5&&(o*=t),o<=r?n(e):""}},o.copy=function(){return si(e.copy(),t,n,r)},ti(o,e)}function ci(e,t,n){function r(t){return e(a(t))}var a=ui(t),i=ui(1/t);return r.invert=function(t){return i(e.invert(t))},r.domain=function(t){return arguments.length?(e.domain((n=t.map(Number)).map(a)),r):n},r.ticks=function(e){return ai(n,e)},r.tickFormat=function(e,t){return ii(n,e,t)},r.nice=function(e){return r.domain(ni(n,e))},r.exponent=function(o){return arguments.length?(a=ui(t=o),i=ui(1/t),e.domain(n.map(a)),r):t},r.copy=function(){return ci(e.copy(),t,n)},ti(r,e)}function ui(e){return function(t){return t<0?-Math.pow(-t,e):Math.pow(t,e)}}function fi(e,t){function n(n){return i[((a.get(n)||("range"===t.t?a.set(n,e.push(n)):NaN))-1)%i.length]}function r(t,n){return ho.range(e.length).map(function(e){return t+n*e})}var a,i,o;return n.domain=function(r){if(!arguments.length)return e;e=[],a=new p;for(var i,o=-1,l=r.length;++o<l;)a.has(i=r[o])||a.set(i,e.push(i));return n[t.t].apply(n,t.a)},n.range=function(e){return arguments.length?(i=e,o=0,t={t:"range",a:arguments},n):i},n.rangePoints=function(a,l){arguments.length<2&&(l=0);var s=a[0],c=a[1],u=e.length<2?(s=(s+c)/2,0):(c-s)/(e.length-1+l);return i=r(s+u*l/2,u),o=0,t={t:"rangePoints",a:arguments},n},n.rangeRoundPoints=function(a,l){arguments.length<2&&(l=0);var s=a[0],c=a[1],u=e.length<2?(s=c=Math.round((s+c)/2),0):(c-s)/(e.length-1+l)|0;return i=r(s+Math.round(u*l/2+(c-s-(e.length-1+l)*u)/2),u),o=0,t={t:"rangeRoundPoints",a:arguments},n},n.rangeBands=function(a,l,s){arguments.length<2&&(l=0),arguments.length<3&&(s=l);var c=a[1]<a[0],u=a[c-0],f=a[1-c],d=(f-u)/(e.length-l+2*s);return i=r(u+d*s,d),c&&i.reverse(),o=d*(1-l),t={t:"rangeBands",a:arguments},n},n.rangeRoundBands=function(a,l,s){arguments.length<2&&(l=0),arguments.length<3&&(s=l);var c=a[1]<a[0],u=a[c-0],f=a[1-c],d=Math.floor((f-u)/(e.length-l+2*s));return i=r(u+Math.round((f-u-(e.length-l)*d)/2),d),c&&i.reverse(),o=Math.round(d*(1-l)),t={t:"rangeRoundBands",a:arguments},n},n.rangeBand=function(){return o},n.rangeExtent=function(){return Za(t.a[0])},n.copy=function(){return fi(e,t)},n.domain(e)}function di(e,t){function n(){var n=0,i=t.length;for(a=[];++n<i;)a[n-1]=ho.quantile(e,n/i);return r}function r(e){if(!isNaN(e=+e))return t[ho.bisect(a,e)]}var a;return r.domain=function(t){return arguments.length?(e=t.map(s).filter(c).sort(l),n()):e},r.range=function(e){return arguments.length?(t=e,n()):t},r.quantiles=function(){return a},r.invertExtent=function(n){return n=t.indexOf(n),n<0?[NaN,NaN]:[n>0?a[n-1]:e[0],n<a.length?a[n]:e[e.length-1]]},r.copy=function(){return di(e,t)},n()}function hi(e,t,n){function r(t){return n[Math.max(0,Math.min(o,Math.floor(i*(t-e))))]}function a(){return i=n.length/(t-e),o=n.length-1,r}var i,o;return r.domain=function(n){return arguments.length?(e=+n[0],t=+n[n.length-1],a()):[e,t]},r.range=function(e){return arguments.length?(n=e,a()):n},r.invertExtent=function(t){return t=n.indexOf(t),t=t<0?NaN:t/i+e,[t,t+1/i]},r.copy=function(){return hi(e,t,n)},a()}function pi(e,t){function n(n){if(n<=n)return t[ho.bisect(e,n)]}return n.domain=function(t){return arguments.length?(e=t,n):e},n.range=function(e){return arguments.length?(t=e,n):t},n.invertExtent=function(n){return n=t.indexOf(n),[e[n-1],e[n]]},n.copy=function(){return pi(e,t)},n}function gi(e){function t(e){return+e}return t.invert=t,t.domain=t.range=function(n){return arguments.length?(e=n.map(t),t):e},t.ticks=function(t){return ai(e,t)},t.tickFormat=function(t,n){return ii(e,t,n)},t.copy=function(){return gi(e)},t}function vi(){return 0}function yi(e){return e.innerRadius}function mi(e){return e.outerRadius}function xi(e){return e.startAngle}function bi(e){return e.endAngle}function _i(e){return e&&e.padAngle}function wi(e,t,n,r){return(e-n)*t-(t-r)*e>0?0:1}function ki(e,t,n,r,a){var i=e[0]-t[0],o=e[1]-t[1],l=(a?r:-r)/Math.sqrt(i*i+o*o),s=l*o,c=-l*i,u=e[0]+s,f=e[1]+c,d=t[0]+s,h=t[1]+c,p=(u+d)/2,g=(f+h)/2,v=d-u,y=h-f,m=v*v+y*y,x=n-r,b=u*h-d*f,_=(y<0?-1:1)*Math.sqrt(Math.max(0,x*x*m-b*b)),w=(b*y-v*_)/m,k=(-b*v-y*_)/m,M=(b*y+v*_)/m,A=(-b*v+y*_)/m,T=w-p,S=k-g,L=M-p,C=A-g;return T*T+S*S>L*L+C*C&&(w=M,k=A),[[w-s,k-c],[w*n/x,k*n/x]]}function Mi(e){function t(t){function o(){c.push("M",i(e(u),l))}for(var s,c=[],u=[],f=-1,d=t.length,h=ze(n),p=ze(r);++f<d;)a.call(this,s=t[f],f)?u.push([+h.call(this,s,f),+p.call(this,s,f)]):u.length&&(o(),u=[]);return u.length&&o(),c.length?c.join(""):null}var n=In,r=Pn,a=It,i=Ai,o=i.key,l=.7;return t.x=function(e){return arguments.length?(n=e,t):n},t.y=function(e){return arguments.length?(r=e,t):r},t.defined=function(e){return arguments.length?(a=e,t):a},t.interpolate=function(e){return arguments.length?(o="function"==typeof e?i=e:(i=Is.get(e)||Ai).key,t):o},t.tension=function(e){return arguments.length?(l=e,t):l},t}function Ai(e){return e.length>1?e.join("L"):e+"Z"}function Ti(e){return e.join("L")+"Z"}function Si(e){for(var t=0,n=e.length,r=e[0],a=[r[0],",",r[1]];++t<n;)a.push("H",(r[0]+(r=e[t])[0])/2,"V",r[1]);return n>1&&a.push("H",r[0]),a.join("")}function Li(e){for(var t=0,n=e.length,r=e[0],a=[r[0],",",r[1]];++t<n;)a.push("V",(r=e[t])[1],"H",r[0]);return a.join("")}function Ci(e){for(var t=0,n=e.length,r=e[0],a=[r[0],",",r[1]];++t<n;)a.push("H",(r=e[t])[0],"V",r[1]);return a.join("")}function Oi(e,t){return e.length<4?Ai(e):e[1]+Di(e.slice(1,-1),Ii(e,t))}function zi(e,t){return e.length<3?Ti(e):e[0]+Di((e.push(e[0]),e),Ii([e[e.length-2]].concat(e,[e[1]]),t))}function ji(e,t){return e.length<3?Ai(e):e[0]+Di(e,Ii(e,t))}function Di(e,t){if(t.length<1||e.length!=t.length&&e.length!=t.length+2)return Ai(e);var n=e.length!=t.length,r="",a=e[0],i=e[1],o=t[0],l=o,s=1;if(n&&(r+="Q"+(i[0]-2*o[0]/3)+","+(i[1]-2*o[1]/3)+","+i[0]+","+i[1],a=e[1],s=2),t.length>1){l=t[1],i=e[s],s++,r+="C"+(a[0]+o[0])+","+(a[1]+o[1])+","+(i[0]-l[0])+","+(i[1]-l[1])+","+i[0]+","+i[1];for(var c=2;c<t.length;c++,s++)i=e[s],l=t[c],r+="S"+(i[0]-l[0])+","+(i[1]-l[1])+","+i[0]+","+i[1]}if(n){var u=e[s];r+="Q"+(i[0]+2*l[0]/3)+","+(i[1]+2*l[1]/3)+","+u[0]+","+u[1]}return r}function Ii(e,t){for(var n,r=[],a=(1-t)/2,i=e[0],o=e[1],l=1,s=e.length;++l<s;)n=i,i=o,o=e[l],r.push([a*(o[0]-n[0]),a*(o[1]-n[1])]);return r}function Pi(e){if(e.length<3)return Ai(e);var t=1,n=e.length,r=e[0],a=r[0],i=r[1],o=[a,a,a,(r=e[1])[0]],l=[i,i,i,r[1]],s=[a,",",i,"L",Fi(Ns,o),",",Fi(Ns,l)];for(e.push(e[n-1]);++t<=n;)r=e[t],o.shift(),o.push(r[0]),l.shift(),l.push(r[1]),Bi(s,o,l);return e.pop(),s.push("L",r),s.join("")}function Ei(e){if(e.length<4)return Ai(e);for(var t,n=[],r=-1,a=e.length,i=[0],o=[0];++r<3;)t=e[r],i.push(t[0]),o.push(t[1]);for(n.push(Fi(Ns,i)+","+Fi(Ns,o)),--r;++r<a;)t=e[r],i.shift(),i.push(t[0]),o.shift(),o.push(t[1]),Bi(n,i,o);return n.join("")}function Ni(e){for(var t,n,r=-1,a=e.length,i=a+4,o=[],l=[];++r<4;)n=e[r%a],o.push(n[0]),l.push(n[1]);for(t=[Fi(Ns,o),",",Fi(Ns,l)],--r;++r<i;)n=e[r%a],o.shift(),o.push(n[0]),l.shift(),l.push(n[1]),Bi(t,o,l);return t.join("")}function Ri(e,t){var n=e.length-1;if(n)for(var r,a,i=e[0][0],o=e[0][1],l=e[n][0]-i,s=e[n][1]-o,c=-1;++c<=n;)r=e[c],a=c/n,r[0]=t*r[0]+(1-t)*(i+a*l),r[1]=t*r[1]+(1-t)*(o+a*s);return Pi(e)}function Fi(e,t){return e[0]*t[0]+e[1]*t[1]+e[2]*t[2]+e[3]*t[3]}function Bi(e,t,n){e.push("C",Fi(Ps,t),",",Fi(Ps,n),",",Fi(Es,t),",",Fi(Es,n),",",Fi(Ns,t),",",Fi(Ns,n))}function qi(e,t){return(t[1]-e[1])/(t[0]-e[0])}function Hi(e){for(var t=0,n=e.length-1,r=[],a=e[0],i=e[1],o=r[0]=qi(a,i);++t<n;)r[t]=(o+(o=qi(a=i,i=e[t+1])))/2;return r[t]=o,r}function Vi(e){for(var t,n,r,a,i=[],o=Hi(e),l=-1,s=e.length-1;++l<s;)t=qi(e[l],e[l+1]),ko(t)<Bo?o[l]=o[l+1]=0:(n=o[l]/t,r=o[l+1]/t,(a=n*n+r*r)>9&&(a=3*t/Math.sqrt(a),o[l]=a*n,o[l+1]=a*r));for(l=-1;++l<=s;)a=(e[Math.min(s,l+1)][0]-e[Math.max(0,l-1)][0])/(6*(1+o[l]*o[l])),i.push([a||0,o[l]*a||0]);return i}function Ui(e){return e.length<3?Ai(e):e[0]+Di(e,Vi(e))}function Gi(e){for(var t,n,r,a=-1,i=e.length;++a<i;)t=e[a],n=t[0],r=t[1]-Go,t[0]=n*Math.cos(r),t[1]=n*Math.sin(r);return e}function Xi(e){function t(t){function s(){g.push("M",l(e(y),f),u,c(e(v.reverse()),f),"Z")}for(var d,h,p,g=[],v=[],y=[],m=-1,x=t.length,b=ze(n),_=ze(a),w=n===r?function(){return h}:ze(r),k=a===i?function(){return p}:ze(i);++m<x;)o.call(this,d=t[m],m)?(v.push([h=+b.call(this,d,m),p=+_.call(this,d,m)]),y.push([+w.call(this,d,m),+k.call(this,d,m)])):v.length&&(s(),v=[],y=[]);return v.length&&s(),g.length?g.join(""):null}var n=In,r=In,a=0,i=Pn,o=It,l=Ai,s=l.key,c=l,u="L",f=.7;return t.x=function(e){return arguments.length?(n=r=e,t):r},t.x0=function(e){return arguments.length?(n=e,t):n},t.x1=function(e){return arguments.length?(r=e,t):r},t.y=function(e){return arguments.length?(a=i=e,t):i},t.y0=function(e){return arguments.length?(a=e,t):a},t.y1=function(e){return arguments.length?(i=e,t):i},t.defined=function(e){return arguments.length?(o=e,t):o},t.interpolate=function(e){return arguments.length?(s="function"==typeof e?l=e:(l=Is.get(e)||Ai).key,c=l.reverse||l,u=l.closed?"M":"L",t):s},t.tension=function(e){return arguments.length?(f=e,t):f},t}function Yi(e){return e.radius}function Zi(e){return[e.x,e.y]}function Wi(e){return function(){var t=e.apply(this,arguments),n=t[0],r=t[1]-Go;return[n*Math.cos(r),n*Math.sin(r)]}}function Qi(){return 64}function $i(){return"circle"}function Ji(e){var t=Math.sqrt(e/Ho);return"M0,"+t+"A"+t+","+t+" 0 1,1 0,"+-t+"A"+t+","+t+" 0 1,1 0,"+t+"Z"}function Ki(e){return function(){var t,n,r;(t=this[e])&&(r=t[n=t.active])&&(r.timer.c=null,r.timer.t=NaN,--t.count?delete t[n]:delete this[e],t.active+=.5,r.event&&r.event.interrupt.call(this,this.__data__,r.index))}}function eo(e,t,n){return Lo(e,Us),e.namespace=t,e.id=n,e}function to(e,t,n,r){var a=e.id,i=e.namespace;return Z(e,"function"==typeof n?function(e,o,l){e[i][a].tween.set(t,r(n.call(e,e.__data__,o,l)))}:(n=r(n),function(e){e[i][a].tween.set(t,n)}))}function no(e){return null==e&&(e=""),function(){this.textContent=e}}function ro(e){return null==e?"__transition__":"__transition_"+e+"__"}function ao(e,t,n,r,a){function i(e){var t=g.delay;if(c.t=t+s,t<=e)return o(e-t);c.c=o}function o(n){var a=h.active,i=h[a];i&&(i.timer.c=null,i.timer.t=NaN,--h.count,delete h[a],i.event&&i.event.interrupt.call(e,e.__data__,i.index));for(var o in h)if(+o<r){var p=h[o];p.timer.c=null,p.timer.t=NaN,--h.count,delete h[o]}c.c=l,Ee(function(){return c.c&&l(n||1)&&(c.c=null,c.t=NaN),1},0,s),h.active=r,g.event&&g.event.start.call(e,e.__data__,t),d=[],g.tween.forEach(function(n,r){(r=r.call(e,e.__data__,t))&&d.push(r)}),f=g.ease,u=g.duration}function l(a){for(var i=a/u,o=f(i),l=d.length;l>0;)d[--l].call(e,o);if(i>=1)return g.event&&g.event.end.call(e,e.__data__,t),--h.count?delete h[r]:delete e[n],1}var s,c,u,f,d,h=e[n]||(e[n]={active:0,count:0}),g=h[r];g||(s=a.time,c=Ee(i,0,s),g=h[r]={tween:new p,time:s,timer:c,delay:a.delay,duration:a.duration,ease:a.ease,index:t},a=null,++h.count)}function io(e,t,n){e.attr("transform",function(e){var r=t(e);return"translate("+(isFinite(r)?r:n(e))+",0)"})}function oo(e,t,n){e.attr("transform",function(e){var r=t(e);return"translate(0,"+(isFinite(r)?r:n(e))+")"})}function lo(e){return e.toISOString()}function so(e,t,n){function r(t){return e(t)}function a(e,n){var r=e[1]-e[0],a=r/n,i=ho.bisect(Ks,a);return i==Ks.length?[t.year,ri(e.map(function(e){return e/31536e6}),n)[2]]:i?t[a/Ks[i-1]<Ks[i]/a?i-1:i]:[nc,ri(e,n)[2]]}return r.invert=function(t){return co(e.invert(t))},r.domain=function(t){return arguments.length?(e.domain(t),r):e.domain().map(co)},r.nice=function(e,t){function n(n){return!isNaN(n)&&!e.range(n,co(+n+1),t).length}var i=r.domain(),o=Za(i),l=null==e?a(o,10):"number"==typeof e&&a(o,e);return l&&(e=l[0],t=l[1]),r.domain($a(i,t>1?{floor:function(t){for(;n(t=e.floor(t));)t=co(t-1);return t},ceil:function(t){for(;n(t=e.ceil(t));)t=co(+t+1);return t}}:e))},r.ticks=function(e,t){var n=Za(r.domain()),i=null==e?a(n,10):"number"==typeof e?a(n,e):!e.range&&[{range:e},t];return i&&(e=i[0],t=i[1]),e.range(n[0],co(+n[1]+1),t<1?1:t)},r.tickFormat=function(){return n},r.copy=function(){return so(e.copy(),t,n)},ti(r,e)}function co(e){return new Date(e)}function uo(e){return JSON.parse(e.responseText)}function fo(e){var t=vo.createRange();return t.selectNode(vo.body),t.createContextualFragment(e.responseText)}var ho={version:"3.5.17"},po=[].slice,go=function(e){return po.call(e)},vo=this.document;if(vo)try{go(vo.documentElement.childNodes)[0].nodeType}catch(e){go=function(e){for(var t=e.length,n=new Array(t);t--;)n[t]=e[t];return n}}if(Date.now||(Date.now=function(){return+new Date}),vo)try{vo.createElement("DIV").style.setProperty("opacity",0,"")}catch(e){var yo=this.Element.prototype,mo=yo.setAttribute,xo=yo.setAttributeNS,bo=this.CSSStyleDeclaration.prototype,_o=bo.setProperty;yo.setAttribute=function(e,t){mo.call(this,e,t+"")},yo.setAttributeNS=function(e,t,n){xo.call(this,e,t,n+"")},bo.setProperty=function(e,t,n){_o.call(this,e,t+"",n)}}ho.ascending=l,ho.descending=function(e,t){return t<e?-1:t>e?1:t>=e?0:NaN},ho.min=function(e,t){var n,r,a=-1,i=e.length;if(1===arguments.length){for(;++a<i;)if(null!=(r=e[a])&&r>=r){n=r;break}for(;++a<i;)null!=(r=e[a])&&n>r&&(n=r)}else{for(;++a<i;)if(null!=(r=t.call(e,e[a],a))&&r>=r){n=r;break}for(;++a<i;)null!=(r=t.call(e,e[a],a))&&n>r&&(n=r)}return n},ho.max=function(e,t){var n,r,a=-1,i=e.length;if(1===arguments.length){for(;++a<i;)if(null!=(r=e[a])&&r>=r){n=r;break}for(;++a<i;)null!=(r=e[a])&&r>n&&(n=r)}else{for(;++a<i;)if(null!=(r=t.call(e,e[a],a))&&r>=r){n=r;break}for(;++a<i;)null!=(r=t.call(e,e[a],a))&&r>n&&(n=r)}return n},ho.extent=function(e,t){var n,r,a,i=-1,o=e.length;if(1===arguments.length){for(;++i<o;)if(null!=(r=e[i])&&r>=r){n=a=r;break}for(;++i<o;)null!=(r=e[i])&&(n>r&&(n=r),a<r&&(a=r))}else{for(;++i<o;)if(null!=(r=t.call(e,e[i],i))&&r>=r){n=a=r;break}for(;++i<o;)null!=(r=t.call(e,e[i],i))&&(n>r&&(n=r),a<r&&(a=r))}return[n,a]},ho.sum=function(e,t){var n,r=0,a=e.length,i=-1;if(1===arguments.length)for(;++i<a;)c(n=+e[i])&&(r+=n);else for(;++i<a;)c(n=+t.call(e,e[i],i))&&(r+=n);return r},ho.mean=function(e,t){var n,r=0,a=e.length,i=-1,o=a;if(1===arguments.length)for(;++i<a;)c(n=s(e[i]))?r+=n:--o;else for(;++i<a;)c(n=s(t.call(e,e[i],i)))?r+=n:--o;if(o)return r/o},ho.quantile=function(e,t){var n=(e.length-1)*t+1,r=Math.floor(n),a=+e[r-1],i=n-r;return i?a+i*(e[r]-a):a},ho.median=function(e,t){var n,r=[],a=e.length,i=-1;if(1===arguments.length)for(;++i<a;)c(n=s(e[i]))&&r.push(n);else for(;++i<a;)c(n=s(t.call(e,e[i],i)))&&r.push(n);if(r.length)return ho.quantile(r.sort(l),.5)},ho.variance=function(e,t){var n,r,a=e.length,i=0,o=0,l=-1,u=0;if(1===arguments.length)for(;++l<a;)c(n=s(e[l]))&&(r=n-i,i+=r/++u,o+=r*(n-i));else for(;++l<a;)c(n=s(t.call(e,e[l],l)))&&(r=n-i,i+=r/++u,o+=r*(n-i));if(u>1)return o/(u-1)},ho.deviation=function(){var e=ho.variance.apply(this,arguments);return e?Math.sqrt(e):e};var wo=u(l);ho.bisectLeft=wo.left,ho.bisect=ho.bisectRight=wo.right,ho.bisector=function(e){return u(1===e.length?function(t,n){return l(e(t),n)}:e)},ho.shuffle=function(e,t,n){(i=arguments.length)<3&&(n=e.length,i<2&&(t=0));for(var r,a,i=n-t;i;)a=Math.random()*i--|0,r=e[i+t],e[i+t]=e[a+t],e[a+t]=r;return e},ho.permute=function(e,t){for(var n=t.length,r=new Array(n);n--;)r[n]=e[t[n]];return r},ho.pairs=function(e){for(var t=0,n=e.length-1,r=e[0],a=new Array(n<0?0:n);t<n;)a[t]=[r,r=e[++t]];return a},ho.transpose=function(e){if(!(a=e.length))return[];for(var t=-1,n=ho.min(e,f),r=new Array(n);++t<n;)for(var a,i=-1,o=r[t]=new Array(a);++i<a;)o[i]=e[i][t];return r},ho.zip=function(){return ho.transpose(arguments)},ho.keys=function(e){var t=[];for(var n in e)t.push(n);return t},ho.values=function(e){var t=[];for(var n in e)t.push(e[n]);return t},ho.entries=function(e){var t=[];for(var n in e)t.push({key:n,value:e[n]});return t},ho.merge=function(e){for(var t,n,r,a=e.length,i=-1,o=0;++i<a;)o+=e[i].length;for(n=new Array(o);--a>=0;)for(r=e[a],t=r.length;--t>=0;)n[--o]=r[t];return n};var ko=Math.abs;ho.range=function(e,t,n){if(arguments.length<3&&(n=1,arguments.length<2&&(t=e,e=0)),(t-e)/n==1/0)throw new Error("infinite range");var r,a=[],i=d(ko(n)),o=-1;if(e*=i,t*=i,n*=i,n<0)for(;(r=e+n*++o)>t;)a.push(r/i);else for(;(r=e+n*++o)<t;)a.push(r/i);return a},ho.map=function(e,t){var n=new p;if(e instanceof p)e.forEach(function(e,t){n.set(e,t)});else if(Array.isArray(e)){var r,a=-1,i=e.length;if(1===arguments.length)for(;++a<i;)n.set(a,e[a]);else for(;++a<i;)n.set(t.call(e,r=e[a],a),r)}else for(var o in e)n.set(o,e[o]);return n};var Mo="__proto__",Ao="\0";h(p,{has:y,get:function(e){return this._[g(e)]},set:function(e,t){return this._[g(e)]=t},remove:m,keys:x,values:function(){var e=[];for(var t in this._)e.push(this._[t]);return e},entries:function(){var e=[];for(var t in this._)e.push({key:v(t),value:this._[t]});return e},size:b,empty:_,forEach:function(e){for(var t in this._)e.call(this,v(t),this._[t])}}),ho.nest=function(){function e(t,o,l){if(l>=i.length)return r?r.call(a,o):n?o.sort(n):o;for(var s,c,u,f,d=-1,h=o.length,g=i[l++],v=new p;++d<h;)(f=v.get(s=g(c=o[d])))?f.push(c):v.set(s,[c]);return t?(c=t(),u=function(n,r){c.set(n,e(t,r,l))}):(c={},u=function(n,r){c[n]=e(t,r,l)}),v.forEach(u),c}function t(e,n){if(n>=i.length)return e;var r=[],a=o[n++];return e.forEach(function(e,a){r.push({key:e,values:t(a,n)})}),a?r.sort(function(e,t){return a(e.key,t.key)}):r}var n,r,a={},i=[],o=[];return a.map=function(t,n){return e(n,t,0)},a.entries=function(n){return t(e(ho.map,n,0),0)},a.key=function(e){return i.push(e),a},a.sortKeys=function(e){return o[i.length-1]=e,a},a.sortValues=function(e){return n=e,a},a.rollup=function(e){return r=e,a},a},ho.set=function(e){var t=new w;if(e)for(var n=0,r=e.length;n<r;++n)t.add(e[n]);return t},h(w,{has:y,add:function(e){return this._[g(e+="")]=!0,e},remove:m,values:x,size:b,empty:_,forEach:function(e){for(var t in this._)e.call(this,v(t))}}),ho.behavior={},ho.rebind=function(e,t){for(var n,r=1,a=arguments.length;++r<a;)e[n=arguments[r]]=M(e,t,t[n]);return e};var To=["webkit","ms","moz","Moz","o","O"];ho.dispatch=function(){for(var e=new S,t=-1,n=arguments.length;++t<n;)e[arguments[t]]=L(e);return e},S.prototype.on=function(e,t){var n=e.indexOf("."),r="";if(n>=0&&(r=e.slice(n+1),e=e.slice(0,n)),e)return arguments.length<2?this[e].on(r):this[e].on(r,t);if(2===arguments.length){if(null==t)for(e in this)this.hasOwnProperty(e)&&this[e].on(r,null);return this}},ho.event=null,ho.requote=function(e){return e.replace(So,"\\$&")};var So=/[\\\^\$\*\+\?\|\[\]\(\)\.\{\}]/g,Lo={}.__proto__?function(e,t){e.__proto__=t}:function(e,t){for(var n in t)e[n]=t[n]},Co=function(e,t){return t.querySelector(e)},Oo=function(e,t){return t.querySelectorAll(e)},zo=function(e,t){var n=e.matches||e[A(e,"matchesSelector")];return(zo=function(e,t){return n.call(e,t)})(e,t)};"function"==typeof Sizzle&&(Co=function(e,t){return Sizzle(e,t)[0]||null},Oo=Sizzle,zo=Sizzle.matchesSelector),ho.selection=function(){return ho.select(vo.documentElement)};var jo=ho.selection.prototype=[];jo.select=function(e){var t,n,r,a,i=[];e=D(e);for(var o=-1,l=this.length;++o<l;){i.push(t=[]),t.parentNode=(r=this[o]).parentNode;for(var s=-1,c=r.length;++s<c;)(a=r[s])?(t.push(n=e.call(a,a.__data__,s,o)),n&&"__data__"in a&&(n.__data__=a.__data__)):t.push(null)}return j(i)},jo.selectAll=function(e){var t,n,r=[];e=I(e);for(var a=-1,i=this.length;++a<i;)for(var o=this[a],l=-1,s=o.length;++l<s;)(n=o[l])&&(r.push(t=go(e.call(n,n.__data__,l,a))),t.parentNode=n);return j(r)};var Do="http://www.w3.org/1999/xhtml",Io={svg:"http://www.w3.org/2000/svg",xhtml:Do,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};ho.ns={prefix:Io,qualify:function(e){var t=e.indexOf(":"),n=e;return t>=0&&"xmlns"!==(n=e.slice(0,t))&&(e=e.slice(t+1)),Io.hasOwnProperty(n)?{space:Io[n],local:e}:e}},jo.attr=function(e,t){if(arguments.length<2){if("string"==typeof e){var n=this.node();return e=ho.ns.qualify(e),e.local?n.getAttributeNS(e.space,e.local):n.getAttribute(e)}for(t in e)this.each(P(t,e[t]));return this}return this.each(P(e,t))},jo.classed=function(e,t){if(arguments.length<2){if("string"==typeof e){var n=this.node(),r=(e=R(e)).length,a=-1;if(t=n.classList){for(;++a<r;)if(!t.contains(e[a]))return!1}else for(t=n.getAttribute("class");++a<r;)if(!N(e[a]).test(t))return!1;return!0}for(t in e)this.each(F(t,e[t]));return this}return this.each(F(e,t))},jo.style=function(e,t,n){var r=arguments.length;if(r<3){if("string"!=typeof e){r<2&&(t="");for(n in e)this.each(q(n,e[n],t));return this}if(r<2){var a=this.node();return o(a).getComputedStyle(a,null).getPropertyValue(e)}n=""}return this.each(q(e,t,n))},jo.property=function(e,t){if(arguments.length<2){if("string"==typeof e)return this.node()[e];for(t in e)this.each(H(t,e[t]));return this}return this.each(H(e,t))},jo.text=function(e){return arguments.length?this.each("function"==typeof e?function(){var t=e.apply(this,arguments);this.textContent=null==t?"":t}:null==e?function(){this.textContent=""}:function(){this.textContent=e}):this.node().textContent},jo.html=function(e){return arguments.length?this.each("function"==typeof e?function(){var t=e.apply(this,arguments);this.innerHTML=null==t?"":t}:null==e?function(){this.innerHTML=""}:function(){this.innerHTML=e}):this.node().innerHTML},jo.append=function(e){return e=V(e),this.select(function(){return this.appendChild(e.apply(this,arguments))})},jo.insert=function(e,t){return e=V(e),t=D(t),this.select(function(){return this.insertBefore(e.apply(this,arguments),t.apply(this,arguments)||null)})},jo.remove=function(){return this.each(U)},jo.data=function(e,t){function n(e,n){var r,a,i,o=e.length,u=n.length,f=Math.min(o,u),d=new Array(u),h=new Array(u),g=new Array(o);if(t){var v,y=new p,m=new Array(o);for(r=-1;++r<o;)(a=e[r])&&(y.has(v=t.call(a,a.__data__,r))?g[r]=a:y.set(v,a),m[r]=v);for(r=-1;++r<u;)(a=y.get(v=t.call(n,i=n[r],r)))?!0!==a&&(d[r]=a,a.__data__=i):h[r]=G(i),y.set(v,!0);for(r=-1;++r<o;)r in m&&!0!==y.get(m[r])&&(g[r]=e[r])}else{for(r=-1;++r<f;)a=e[r],i=n[r],a?(a.__data__=i,d[r]=a):h[r]=G(i);for(;r<u;++r)h[r]=G(n[r]);for(;r<o;++r)g[r]=e[r]}h.update=d,h.parentNode=d.parentNode=g.parentNode=e.parentNode,l.push(h),s.push(d),c.push(g)}var r,a,i=-1,o=this.length;if(!arguments.length){for(e=new Array(o=(r=this[0]).length);++i<o;)(a=r[i])&&(e[i]=a.__data__);return e}var l=W([]),s=j([]),c=j([]);if("function"==typeof e)for(;++i<o;)n(r=this[i],e.call(r,r.parentNode.__data__,i));else for(;++i<o;)n(r=this[i],e);return s.enter=function(){return l},s.exit=function(){return c},s},jo.datum=function(e){return arguments.length?this.property("__data__",e):this.property("__data__")},jo.filter=function(e){var t,n,r,a=[];"function"!=typeof e&&(e=X(e));for(var i=0,o=this.length;i<o;i++){a.push(t=[]),t.parentNode=(n=this[i]).parentNode;for(var l=0,s=n.length;l<s;l++)(r=n[l])&&e.call(r,r.__data__,l,i)&&t.push(r)}return j(a)},jo.order=function(){for(var e=-1,t=this.length;++e<t;)for(var n,r=this[e],a=r.length-1,i=r[a];--a>=0;)(n=r[a])&&(i&&i!==n.nextSibling&&i.parentNode.insertBefore(n,i),i=n);return this},jo.sort=function(e){e=Y.apply(this,arguments);for(var t=-1,n=this.length;++t<n;)this[t].sort(e);return this.order()},jo.each=function(e){return Z(this,function(t,n,r){e.call(t,t.__data__,n,r)})},jo.call=function(e){var t=go(arguments);return e.apply(t[0]=this,t),this},jo.empty=function(){return!this.node()},jo.node=function(){for(var e=0,t=this.length;e<t;e++)for(var n=this[e],r=0,a=n.length;r<a;r++){var i=n[r];if(i)return i}return null},jo.size=function(){var e=0;return Z(this,function(){++e}),e};var Po=[];ho.selection.enter=W,ho.selection.enter.prototype=Po,Po.append=jo.append,Po.empty=jo.empty,Po.node=jo.node,Po.call=jo.call,Po.size=jo.size,Po.select=function(e){for(var t,n,r,a,i,o=[],l=-1,s=this.length;++l<s;){r=(a=this[l]).update,o.push(t=[]),t.parentNode=a.parentNode;for(var c=-1,u=a.length;++c<u;)(i=a[c])?(t.push(r[c]=n=e.call(a.parentNode,i.__data__,c,l)),n.__data__=i.__data__):t.push(null)}return j(o)},Po.insert=function(e,t){return arguments.length<2&&(t=Q(this)),jo.insert.call(this,e,t)},ho.select=function(e){var t;return"string"==typeof e?(t=[Co(e,vo)],t.parentNode=vo.documentElement):(t=[e],t.parentNode=i(e)),j([t])},ho.selectAll=function(e){var t;return"string"==typeof e?(t=go(Oo(e,vo)),t.parentNode=vo.documentElement):(t=go(e),t.parentNode=null),j([t])},jo.on=function(e,t,n){var r=arguments.length;if(r<3){if("string"!=typeof e){r<2&&(t=!1);for(n in e)this.each($(n,e[n],t));return this}if(r<2)return(r=this.node()["__on"+e])&&r._;n=!1}return this.each($(e,t,n))};var Eo=ho.map({mouseenter:"mouseover",mouseleave:"mouseout"});vo&&Eo.forEach(function(e){"on"+e in vo&&Eo.remove(e)});var No,Ro=0;ho.mouse=function(e){return te(e,O())};var Fo=this.navigator&&/WebKit/.test(this.navigator.userAgent)?-1:0;ho.touch=function(e,t,n){if(arguments.length<3&&(n=t,t=O().changedTouches),t)for(var r,a=0,i=t.length;a<i;++a)if((r=t[a]).identifier===n)return te(e,r)},ho.behavior.drag=function(){function e(){this.on("mousedown.drag",a).on("touchstart.drag",i)}function t(e,t,a,i,o){return function(){function l(){var e,n,r=t(d,g);r&&(e=r[0]-x[0],n=r[1]-x[1],p|=e|n,x=r,h({type:"drag",x:r[0]+c[0],y:r[1]+c[1],dx:e,dy:n}))}function s(){t(d,g)&&(y.on(i+v,null).on(o+v,null),m(p),h({type:"dragend"}))}var c,u=this,f=ho.event.target.correspondingElement||ho.event.target,d=u.parentNode,h=n.of(u,arguments),p=0,g=e(),v=".drag"+(null==g?"":"-"+g),y=ho.select(a(f)).on(i+v,l).on(o+v,s),m=ee(f),x=t(d,g);r?(c=r.apply(u,arguments),c=[c.x-x[0],c.y-x[1]]):c=[0,0],h({type:"dragstart"})}}var n=z(e,"drag","dragstart","dragend"),r=null,a=t(T,ho.mouse,o,"mousemove","mouseup"),i=t(ne,ho.touch,k,"touchmove","touchend");return e.origin=function(t){return arguments.length?(r=t,e):r},ho.rebind(e,n,"on")},ho.touches=function(e,t){return arguments.length<2&&(t=O().touches),t?go(t).map(function(t){var n=te(e,t);return n.identifier=t.identifier,n}):[]};var Bo=1e-6,qo=Bo*Bo,Ho=Math.PI,Vo=2*Ho,Uo=Vo-Bo,Go=Ho/2,Xo=Ho/180,Yo=180/Ho,Zo=Math.SQRT2;ho.interpolateZoom=function(e,t){var n,r,a=e[0],i=e[1],o=e[2],l=t[0],s=t[1],c=t[2],u=l-a,f=s-i,d=u*u+f*f;if(d<qo)r=Math.log(c/o)/Zo,n=function(e){return[a+e*u,i+e*f,o*Math.exp(Zo*e*r)]};else{var h=Math.sqrt(d),p=(c*c-o*o+4*d)/(2*o*2*h),g=(c*c-o*o-4*d)/(2*c*2*h),v=Math.log(Math.sqrt(p*p+1)-p),y=Math.log(Math.sqrt(g*g+1)-g);r=(y-v)/Zo,n=function(e){var t=e*r,n=se(v),l=o/(2*h)*(n*ce(Zo*t+v)-le(v));return[a+l*u,i+l*f,o*n/se(Zo*t+v)]}}return n.duration=1e3*r,n},ho.behavior.zoom=function(){function e(e){e.on(O,f).on(Qo+".zoom",h).on("dblclick.zoom",p).on(I,d)}function t(e){return[(e[0]-M.x)/M.k,(e[1]-M.y)/M.k]}function n(e){return[e[0]*M.k+M.x,e[1]*M.k+M.y]}function r(e){M.k=Math.max(T[0],Math.min(T[1],e))}function a(e,t){t=n(t),M.x+=e[0]-t[0],M.y+=e[1]-t[1]}function i(t,n,i,o){t.__chart__={x:M.x,y:M.y,k:M.k},r(Math.pow(2,o)),a(v=n,i),t=ho.select(t),S>0&&(t=t.transition().duration(S)),t.call(e.event)}function l(){_&&_.domain(b.range().map(function(e){return(e-M.x)/M.k}).map(b.invert)),k&&k.domain(w.range().map(function(e){return(e-M.y)/M.k}).map(w.invert))}function s(e){L++||e({type:"zoomstart"})}function c(e){l(),e({type:"zoom",scale:M.k,translate:[M.x,M.y]})}function u(e){--L||(e({type:"zoomend"}),v=null)}function f(){function e(){l=1,a(ho.mouse(r),d),c(i)}function n(){f.on(j,null).on(D,null),h(l),u(i)}var r=this,i=P.of(r,arguments),l=0,f=ho.select(o(r)).on(j,e).on(D,n),d=t(ho.mouse(r)),h=ee(r);Vs.call(r),s(i)}function d(){function e(){var e=ho.touches(p);return h=M.k,e.forEach(function(e){e.identifier in v&&(v[e.identifier]=t(e))}),e}function n(){var t=ho.event.target;ho.select(t).on(b,o).on(_,l),w.push(t);for(var n=ho.event.changedTouches,r=0,a=n.length;r<a;++r)v[n[r].identifier]=null;var s=e(),c=Date.now();if(1===s.length){if(c-x<500){var u=s[0];i(p,u,v[u.identifier],Math.floor(Math.log(M.k)/Math.LN2)+1),C()}x=c}else if(s.length>1){var u=s[0],f=s[1],d=u[0]-f[0],h=u[1]-f[1];y=d*d+h*h}}function o(){var e,t,n,i,o=ho.touches(p);Vs.call(p);for(var l=0,s=o.length;l<s;++l,i=null)if(n=o[l],i=v[n.identifier]){if(t)break;e=n,t=i}if(i){var u=(u=n[0]-e[0])*u+(u=n[1]-e[1])*u,f=y&&Math.sqrt(u/y);e=[(e[0]+n[0])/2,(e[1]+n[1])/2],t=[(t[0]+i[0])/2,(t[1]+i[1])/2],r(f*h)}x=null,a(e,t),c(g)}function l(){if(ho.event.touches.length){for(var t=ho.event.changedTouches,n=0,r=t.length;n<r;++n)delete v[t[n].identifier];for(var a in v)return void e()}ho.selectAll(w).on(m,null),k.on(O,f).on(I,d),A(),u(g)}var h,p=this,g=P.of(p,arguments),v={},y=0,m=".zoom-"+ho.event.changedTouches[0].identifier,b="touchmove"+m,_="touchend"+m,w=[],k=ho.select(p),A=ee(p);n(),s(g),k.on(O,null).on(I,n)}function h(){var e=P.of(this,arguments);m?clearTimeout(m):(Vs.call(this),g=t(v=y||ho.mouse(this)),s(e)),m=setTimeout(function(){m=null,u(e)},50),C(),r(Math.pow(2,.002*Wo())*M.k),a(v,g),c(e)}function p(){var e=ho.mouse(this),n=Math.log(M.k)/Math.LN2;i(this,e,t(e),ho.event.shiftKey?Math.ceil(n)-1:Math.floor(n)+1)}var g,v,y,m,x,b,_,w,k,M={x:0,y:0,k:1},A=[960,500],T=$o,S=250,L=0,O="mousedown.zoom",j="mousemove.zoom",D="mouseup.zoom",I="touchstart.zoom",P=z(e,"zoomstart","zoom","zoomend");return Qo||(Qo="onwheel"in vo?(Wo=function(){return-ho.event.deltaY*(ho.event.deltaMode?120:1)},"wheel"):"onmousewheel"in vo?(Wo=function(){return ho.event.wheelDelta},"mousewheel"):(Wo=function(){return-ho.event.detail},"MozMousePixelScroll")),e.event=function(e){e.each(function(){var e=P.of(this,arguments),t=M;qs?ho.select(this).transition().each("start.zoom",function(){M=this.__chart__||{x:0,y:0,k:1},s(e)}).tween("zoom:zoom",function(){var n=A[0],r=A[1],a=v?v[0]:n/2,i=v?v[1]:r/2,o=ho.interpolateZoom([(a-M.x)/M.k,(i-M.y)/M.k,n/M.k],[(a-t.x)/t.k,(i-t.y)/t.k,n/t.k]);return function(t){var r=o(t),l=n/r[2];this.__chart__=M={x:a-r[0]*l,y:i-r[1]*l,k:l},c(e)}}).each("interrupt.zoom",function(){u(e)}).each("end.zoom",function(){u(e)}):(this.__chart__=M,s(e),c(e),u(e))})},e.translate=function(t){return arguments.length?(M={x:+t[0],y:+t[1],k:M.k},l(),e):[M.x,M.y]},e.scale=function(t){return arguments.length?(M={x:M.x,y:M.y,k:null},r(+t),l(),e):M.k},e.scaleExtent=function(t){return arguments.length?(T=null==t?$o:[+t[0],+t[1]],e):T},e.center=function(t){return arguments.length?(y=t&&[+t[0],+t[1]],e):y},e.size=function(t){return arguments.length?(A=t&&[+t[0],+t[1]],e):A},e.duration=function(t){return arguments.length?(S=+t,e):S},e.x=function(t){return arguments.length?(_=t,b=t.copy(),M={x:0,y:0,k:1},e):_},e.y=function(t){return arguments.length?(k=t,w=t.copy(),M={x:0,y:0,k:1},e):k},ho.rebind(e,P,"on")};var Wo,Qo,$o=[0,1/0];ho.color=fe,fe.prototype.toString=function(){return this.rgb()+""},ho.hsl=de;var Jo=de.prototype=new fe;Jo.brighter=function(e){return e=Math.pow(.7,arguments.length?e:1),new de(this.h,this.s,this.l/e)},Jo.darker=function(e){return e=Math.pow(.7,arguments.length?e:1),new de(this.h,this.s,e*this.l)},Jo.rgb=function(){return he(this.h,this.s,this.l)},ho.hcl=pe;var Ko=pe.prototype=new fe;Ko.brighter=function(e){return new pe(this.h,this.c,Math.min(100,this.l+el*(arguments.length?e:1)))},Ko.darker=function(e){return new pe(this.h,this.c,Math.max(0,this.l-el*(arguments.length?e:1)))},Ko.rgb=function(){return ge(this.h,this.c,this.l).rgb()},ho.lab=ve;var el=18,tl=.95047,nl=1,rl=1.08883,al=ve.prototype=new fe;al.brighter=function(e){return new ve(Math.min(100,this.l+el*(arguments.length?e:1)),this.a,this.b)},al.darker=function(e){return new ve(Math.max(0,this.l-el*(arguments.length?e:1)),this.a,this.b)},al.rgb=function(){return ye(this.l,this.a,this.b)},ho.rgb=we;var il=we.prototype=new fe;il.brighter=function(e){e=Math.pow(.7,arguments.length?e:1);var t=this.r,n=this.g,r=this.b,a=30;return t||n||r?(t&&t<a&&(t=a),n&&n<a&&(n=a),r&&r<a&&(r=a),new we(Math.min(255,t/e),Math.min(255,n/e),Math.min(255,r/e))):new we(a,a,a)},il.darker=function(e){return e=Math.pow(.7,arguments.length?e:1),new we(e*this.r,e*this.g,e*this.b)},il.hsl=function(){return Se(this.r,this.g,this.b)},il.toString=function(){return"#"+Ae(this.r)+Ae(this.g)+Ae(this.b)};var ol=ho.map({aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074});ol.forEach(function(e,t){ol.set(e,ke(t))}),ho.functor=ze,ho.xhr=je(k),ho.dsv=function(e,t){function n(e,n,i){arguments.length<3&&(i=n,n=null);var o=De(e,t,null==n?r:a(n),i);return o.row=function(e){return arguments.length?o.response(null==(n=e)?r:a(e)):n},o}function r(e){return n.parse(e.responseText)}function a(e){return function(t){return n.parse(t.responseText,e)}}function i(t){return t.map(o).join(e)}function o(e){return l.test(e)?'"'+e.replace(/\"/g,'""')+'"':e}var l=new RegExp('["'+e+"\n]"),s=e.charCodeAt(0);return n.parse=function(e,t){var r;return n.parseRows(e,function(e,n){if(r)return r(e,n-1);var a=new Function("d","return {"+e.map(function(e,t){return JSON.stringify(e)+": d["+t+"]"}).join(",")+"}");r=t?function(e,n){return t(a(e),n)}:a})},n.parseRows=function(e,t){function n(){if(u>=c)return o;if(a)return a=!1,i;var t=u;if(34===e.charCodeAt(t)){for(var n=t;n++<c;)if(34===e.charCodeAt(n)){if(34!==e.charCodeAt(n+1))break;++n}u=n+2;var r=e.charCodeAt(n+1);return 13===r?(a=!0,10===e.charCodeAt(n+2)&&++u):10===r&&(a=!0),e.slice(t+1,n).replace(/""/g,'"')}for(;u<c;){var r=e.charCodeAt(u++),l=1;if(10===r)a=!0;else if(13===r)a=!0,10===e.charCodeAt(u)&&(++u,++l);else if(r!==s)continue;return e.slice(t,u-l)}return e.slice(t)}for(var r,a,i={},o={},l=[],c=e.length,u=0,f=0;(r=n())!==o;){for(var d=[];r!==i&&r!==o;)d.push(r),r=n();t&&null==(d=t(d,f++))||l.push(d)}return l},n.format=function(t){if(Array.isArray(t[0]))return n.formatRows(t);var r=new w,a=[];return t.forEach(function(e){for(var t in e)r.has(t)||a.push(r.add(t))}),[a.map(o).join(e)].concat(t.map(function(t){return a.map(function(e){return o(t[e])}).join(e)})).join("\n")},n.formatRows=function(e){return e.map(i).join("\n")},n},ho.csv=ho.dsv(",","text/csv"),ho.tsv=ho.dsv("\t","text/tab-separated-values");var ll,sl,cl,ul,fl=this[A(this,"requestAnimationFrame")]||function(e){setTimeout(e,17)};ho.timer=function(){Ee.apply(this,arguments)},ho.timer.flush=function(){Re(),Fe()},ho.round=function(e,t){return t?Math.round(e*(t=Math.pow(10,t)))/t:Math.round(e)};var dl=["y","z","a","f","p","n","µ","m","","k","M","G","T","P","E","Z","Y"].map(qe);ho.formatPrefix=function(e,t){var n=0;return(e=+e)&&(e<0&&(e*=-1),t&&(e=ho.round(e,Be(e,t))),n=1+Math.floor(1e-12+Math.log(e)/Math.LN10),n=Math.max(-24,Math.min(24,3*Math.floor((n-1)/3)))),dl[8+n/3]};var hl=/(?:([^{])?([<>=^]))?([+\- ])?([$#])?(0)?(\d+)?(,)?(\.-?\d+)?([a-z%])?/i,pl=ho.map({b:function(e){return e.toString(2)},c:function(e){return String.fromCharCode(e)},o:function(e){return e.toString(8)},x:function(e){return e.toString(16)},X:function(e){return e.toString(16).toUpperCase()},g:function(e,t){return e.toPrecision(t)},e:function(e,t){return e.toExponential(t)},f:function(e,t){return e.toFixed(t)},r:function(e,t){return(e=ho.round(e,Be(e,t))).toFixed(Math.max(0,Math.min(20,Be(e*(1+1e-15),t))))}}),gl=ho.time={},vl=Date;Ue.prototype={getDate:function(){return this._.getUTCDate()},getDay:function(){return this._.getUTCDay()},getFullYear:function(){return this._.getUTCFullYear()},getHours:function(){return this._.getUTCHours()},getMilliseconds:function(){return this._.getUTCMilliseconds()},getMinutes:function(){return this._.getUTCMinutes()},getMonth:function(){return this._.getUTCMonth()},getSeconds:function(){return this._.getUTCSeconds()},getTime:function(){return this._.getTime()},getTimezoneOffset:function(){return 0},valueOf:function(){return this._.valueOf()},setDate:function(){yl.setUTCDate.apply(this._,arguments)},setDay:function(){yl.setUTCDay.apply(this._,arguments)},setFullYear:function(){yl.setUTCFullYear.apply(this._,arguments)},setHours:function(){yl.setUTCHours.apply(this._,arguments)},setMilliseconds:function(){yl.setUTCMilliseconds.apply(this._,arguments)},setMinutes:function(){yl.setUTCMinutes.apply(this._,arguments)},setMonth:function(){yl.setUTCMonth.apply(this._,arguments)},setSeconds:function(){yl.setUTCSeconds.apply(this._,arguments)},setTime:function(){yl.setTime.apply(this._,arguments)}};var yl=Date.prototype;gl.year=Ge(function(e){return e=gl.day(e),e.setMonth(0,1),e},function(e,t){e.setFullYear(e.getFullYear()+t)},function(e){return e.getFullYear()}),gl.years=gl.year.range,gl.years.utc=gl.year.utc.range,gl.day=Ge(function(e){var t=new vl(2e3,0);return t.setFullYear(e.getFullYear(),e.getMonth(),e.getDate()),t},function(e,t){e.setDate(e.getDate()+t)},function(e){return e.getDate()-1}),gl.days=gl.day.range,gl.days.utc=gl.day.utc.range,gl.dayOfYear=function(e){var t=gl.year(e);return Math.floor((e-t-6e4*(e.getTimezoneOffset()-t.getTimezoneOffset()))/864e5)},["sunday","monday","tuesday","wednesday","thursday","friday","saturday"].forEach(function(e,t){t=7-t;var n=gl[e]=Ge(function(e){return(e=gl.day(e)).setDate(e.getDate()-(e.getDay()+t)%7),e},function(e,t){e.setDate(e.getDate()+7*Math.floor(t))},function(e){var n=gl.year(e).getDay();return Math.floor((gl.dayOfYear(e)+(n+t)%7)/7)-(n!==t)});gl[e+"s"]=n.range,gl[e+"s"].utc=n.utc.range,gl[e+"OfYear"]=function(e){var n=gl.year(e).getDay();return Math.floor((gl.dayOfYear(e)+(n+t)%7)/7)}}),gl.week=gl.sunday,gl.weeks=gl.sunday.range,gl.weeks.utc=gl.sunday.utc.range,gl.weekOfYear=gl.sundayOfYear;var ml={"-":"",_:" ",0:"0"},xl=/^\s*\d+/,bl=/^%/;ho.locale=function(e){return{numberFormat:He(e),timeFormat:Ye(e)}};var _l=ho.locale({decimal:".",thousands:",",grouping:[3],currency:["$",""],dateTime:"%a %b %e %X %Y",date:"%m/%d/%Y",time:"%H:%M:%S",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});ho.format=_l.numberFormat,ho.geo={},pt.prototype={s:0,t:0,add:function(e){gt(e,this.t,wl),gt(wl.s,this.s,this),this.s?this.t+=wl.t:this.s=wl.t},reset:function(){this.s=this.t=0},valueOf:function(){return this.s}};var wl=new pt;ho.geo.stream=function(e,t){e&&kl.hasOwnProperty(e.type)?kl[e.type](e,t):vt(e,t)};var kl={Feature:function(e,t){vt(e.geometry,t)},FeatureCollection:function(e,t){for(var n=e.features,r=-1,a=n.length;++r<a;)vt(n[r].geometry,t)}},Ml={Sphere:function(e,t){t.sphere()},Point:function(e,t){e=e.coordinates,t.point(e[0],e[1],e[2])},MultiPoint:function(e,t){for(var n=e.coordinates,r=-1,a=n.length;++r<a;)e=n[r],t.point(e[0],e[1],e[2])},LineString:function(e,t){yt(e.coordinates,t,0)},MultiLineString:function(e,t){for(var n=e.coordinates,r=-1,a=n.length;++r<a;)yt(n[r],t,0)},Polygon:function(e,t){mt(e.coordinates,t)},MultiPolygon:function(e,t){for(var n=e.coordinates,r=-1,a=n.length;++r<a;)mt(n[r],t)},GeometryCollection:function(e,t){for(var n=e.geometries,r=-1,a=n.length;++r<a;)vt(n[r],t)}};ho.geo.area=function(e){return Al=0,ho.geo.stream(e,Sl),Al};var Al,Tl=new pt,Sl={sphere:function(){Al+=4*Ho},point:T,lineStart:T,lineEnd:T,polygonStart:function(){Tl.reset(),Sl.lineStart=xt},polygonEnd:function(){var e=2*Tl;Al+=e<0?4*Ho+e:e,Sl.lineStart=Sl.lineEnd=Sl.point=T}};ho.geo.bounds=function(){function e(e,t){x.push(b=[u=e,d=e]),t<f&&(f=t),t>h&&(h=t)}function t(t,n){var r=bt([t*Xo,n*Xo]);if(y){var a=wt(y,r),i=[a[1],-a[0],0],o=wt(i,a);At(o),o=Tt(o);var s=t-p,c=s>0?1:-1,g=o[0]*Yo*c,v=ko(s)>180;if(v^(c*p<g&&g<c*t)){var m=o[1]*Yo;m>h&&(h=m)}else if(g=(g+360)%360-180,v^(c*p<g&&g<c*t)){var m=-o[1]*Yo;m<f&&(f=m)}else n<f&&(f=n),n>h&&(h=n);v?t<p?l(u,t)>l(u,d)&&(d=t):l(t,d)>l(u,d)&&(u=t):d>=u?(t<u&&(u=t),t>d&&(d=t)):t>p?l(u,t)>l(u,d)&&(d=t):l(t,d)>l(u,d)&&(u=t)}else e(t,n);y=r,p=t}function n(){_.point=t}function r(){b[0]=u,b[1]=d,_.point=e,y=null}function a(e,n){if(y){var r=e-p;m+=ko(r)>180?r+(r>0?360:-360):r}else g=e,v=n;Sl.point(e,n),t(e,n)}function i(){Sl.lineStart()}function o(){a(g,v),Sl.lineEnd(),ko(m)>Bo&&(u=-(d=180)),b[0]=u,b[1]=d,y=null}function l(e,t){return(t-=e)<0?t+360:t}function s(e,t){return e[0]-t[0]}function c(e,t){return t[0]<=t[1]?t[0]<=e&&e<=t[1]:e<t[0]||t[1]<e}var u,f,d,h,p,g,v,y,m,x,b,_={point:e,lineStart:n,lineEnd:r,polygonStart:function(){_.point=a,_.lineStart=i,_.lineEnd=o,m=0,Sl.polygonStart()},polygonEnd:function(){Sl.polygonEnd(),_.point=e,_.lineStart=n,_.lineEnd=r,Tl<0?(u=-(d=180),f=-(h=90)):m>Bo?h=90:m<-Bo&&(f=-90),b[0]=u,b[1]=d}};return function(e){h=d=-(u=f=1/0),x=[],ho.geo.stream(e,_);var t=x.length;if(t){x.sort(s);for(var n,r=1,a=x[0],i=[a];r<t;++r)n=x[r],c(n[0],a)||c(n[1],a)?(l(a[0],n[1])>l(a[0],a[1])&&(a[1]=n[1]),l(n[0],a[1])>l(a[0],a[1])&&(a[0]=n[0])):i.push(a=n);for(var o,n,p=-1/0,t=i.length-1,r=0,a=i[t];r<=t;a=n,++r)n=i[r],(o=l(a[1],n[0]))>p&&(p=o,u=n[0],d=a[1])}return x=b=null,u===1/0||f===1/0?[[NaN,NaN],[NaN,NaN]]:[[u,f],[d,h]]}}(),ho.geo.centroid=function(e){Ll=Cl=Ol=zl=jl=Dl=Il=Pl=El=Nl=Rl=0,ho.geo.stream(e,Fl);var t=El,n=Nl,r=Rl,a=t*t+n*n+r*r;return a<qo&&(t=Dl,n=Il,r=Pl,Cl<Bo&&(t=Ol,n=zl,r=jl),(a=t*t+n*n+r*r)<qo)?[NaN,NaN]:[Math.atan2(n,t)*Yo,oe(r/Math.sqrt(a))*Yo]};var Ll,Cl,Ol,zl,jl,Dl,Il,Pl,El,Nl,Rl,Fl={sphere:T,point:Lt,lineStart:Ot,lineEnd:zt,polygonStart:function(){Fl.lineStart=jt},polygonEnd:function(){Fl.lineStart=Ot}},Bl=Rt(It,Ht,Ut,[-Ho,-Ho/2]),ql=1e9;ho.geo.clipExtent=function(){var e,t,n,r,a,i,o={stream:function(e){return a&&(a.valid=!1),a=i(e),a.valid=!0,a},extent:function(l){return arguments.length?(i=Zt(e=+l[0][0],t=+l[0][1],n=+l[1][0],r=+l[1][1]),a&&(a.valid=!1,a=null),o):[[e,t],[n,r]]}};return o.extent([[0,0],[960,500]])},(ho.geo.conicEqualArea=function(){return Wt(Qt)}).raw=Qt,ho.geo.albers=function(){return ho.geo.conicEqualArea().rotate([96,0]).center([-.6,38.7]).parallels([29.5,45.5]).scale(1070)},ho.geo.albersUsa=function(){function e(e){var i=e[0],o=e[1];return t=null,n(i,o),t||(r(i,o),t)||a(i,o),t}var t,n,r,a,i=ho.geo.albers(),o=ho.geo.conicEqualArea().rotate([154,0]).center([-2,58.5]).parallels([55,65]),l=ho.geo.conicEqualArea().rotate([157,0]).center([-3,19.9]).parallels([8,18]),s={point:function(e,n){t=[e,n]}};return e.invert=function(e){var t=i.scale(),n=i.translate(),r=(e[0]-n[0])/t,a=(e[1]-n[1])/t;return(a>=.12&&a<.234&&r>=-.425&&r<-.214?o:a>=.166&&a<.234&&r>=-.214&&r<-.115?l:i).invert(e)},e.stream=function(e){var t=i.stream(e),n=o.stream(e),r=l.stream(e);return{point:function(e,a){t.point(e,a),n.point(e,a),r.point(e,a)},sphere:function(){t.sphere(),n.sphere(),r.sphere()},lineStart:function(){t.lineStart(),n.lineStart(),r.lineStart()},lineEnd:function(){t.lineEnd(),n.lineEnd(),r.lineEnd()},polygonStart:function(){t.polygonStart(),n.polygonStart(),r.polygonStart()},polygonEnd:function(){t.polygonEnd(),n.polygonEnd(),r.polygonEnd()}}},e.precision=function(t){return arguments.length?(i.precision(t),o.precision(t),l.precision(t),e):i.precision()},e.scale=function(t){return arguments.length?(i.scale(t),o.scale(.35*t),l.scale(t),e.translate(i.translate())):i.scale()},e.translate=function(t){if(!arguments.length)return i.translate();var c=i.scale(),u=+t[0],f=+t[1];return n=i.translate(t).clipExtent([[u-.455*c,f-.238*c],[u+.455*c,f+.238*c]]).stream(s).point,r=o.translate([u-.307*c,f+.201*c]).clipExtent([[u-.425*c+Bo,f+.12*c+Bo],[u-.214*c-Bo,f+.234*c-Bo]]).stream(s).point,a=l.translate([u-.205*c,f+.212*c]).clipExtent([[u-.214*c+Bo,f+.166*c+Bo],[u-.115*c-Bo,f+.234*c-Bo]]).stream(s).point,e},e.scale(1070)};var Hl,Vl,Ul,Gl,Xl,Yl,Zl={point:T,lineStart:T,lineEnd:T,polygonStart:function(){Vl=0,Zl.lineStart=$t},polygonEnd:function(){Zl.lineStart=Zl.lineEnd=Zl.point=T,Hl+=ko(Vl/2)}},Wl={point:Jt,lineStart:T,lineEnd:T,polygonStart:T,polygonEnd:T},Ql={point:tn,lineStart:nn,lineEnd:rn,polygonStart:function(){Ql.lineStart=an},polygonEnd:function(){Ql.point=tn,Ql.lineStart=nn,Ql.lineEnd=rn}};ho.geo.path=function(){function e(e){return e&&("function"==typeof l&&i.pointRadius(+l.apply(this,arguments)),o&&o.valid||(o=a(i)),ho.geo.stream(e,o)),i.result()}function t(){return o=null,e}var n,r,a,i,o,l=4.5;return e.area=function(e){return Hl=0,ho.geo.stream(e,a(Zl)),Hl},e.centroid=function(e){return Ol=zl=jl=Dl=Il=Pl=El=Nl=Rl=0,ho.geo.stream(e,a(Ql)),Rl?[El/Rl,Nl/Rl]:Pl?[Dl/Pl,Il/Pl]:jl?[Ol/jl,zl/jl]:[NaN,NaN]},e.bounds=function(e){return Xl=Yl=-(Ul=Gl=1/0),ho.geo.stream(e,a(Wl)),[[Ul,Gl],[Xl,Yl]]},e.projection=function(e){return arguments.length?(a=(n=e)?e.stream||sn(e):k,t()):n},e.context=function(e){return arguments.length?(i=null==(r=e)?new Kt:new on(e),"function"!=typeof l&&i.pointRadius(l),t()):r},e.pointRadius=function(t){return arguments.length?(l="function"==typeof t?t:(i.pointRadius(+t),+t),e):l},e.projection(ho.geo.albersUsa()).context(null)},ho.geo.transform=function(e){return{stream:function(t){var n=new cn(t);for(var r in e)n[r]=e[r];return n}}},cn.prototype={point:function(e,t){this.stream.point(e,t)},sphere:function(){this.stream.sphere()},lineStart:function(){this.stream.lineStart()},lineEnd:function(){this.stream.lineEnd()},polygonStart:function(){this.stream.polygonStart()},polygonEnd:function(){this.stream.polygonEnd()}},ho.geo.projection=fn,ho.geo.projectionMutator=dn,(ho.geo.equirectangular=function(){return fn(pn)}).raw=pn.invert=pn,ho.geo.rotation=function(e){function t(t){return t=e(t[0]*Xo,t[1]*Xo),t[0]*=Yo,t[1]*=Yo,t}return e=vn(e[0]%360*Xo,e[1]*Xo,e.length>2?e[2]*Xo:0),t.invert=function(t){return t=e.invert(t[0]*Xo,t[1]*Xo),t[0]*=Yo,t[1]*=Yo,t},t},gn.invert=pn,ho.geo.circle=function(){function e(){var e="function"==typeof r?r.apply(this,arguments):r,t=vn(-e[0]*Xo,-e[1]*Xo,0).invert,a=[];return n(null,null,1,{point:function(e,n){a.push(e=t(e,n)),e[0]*=Yo,e[1]*=Yo}}),{type:"Polygon",coordinates:[a]}}var t,n,r=[0,0],a=6;return e.origin=function(t){return arguments.length?(r=t,e):r},e.angle=function(r){return arguments.length?(n=bn((t=+r)*Xo,a*Xo),e):t},e.precision=function(r){return arguments.length?(n=bn(t*Xo,(a=+r)*Xo),e):a},e.angle(90)},ho.geo.distance=function(e,t){var n,r=(t[0]-e[0])*Xo,a=e[1]*Xo,i=t[1]*Xo,o=Math.sin(r),l=Math.cos(r),s=Math.sin(a),c=Math.cos(a),u=Math.sin(i),f=Math.cos(i);return Math.atan2(Math.sqrt((n=f*o)*n+(n=c*u-s*f*l)*n),s*u+c*f*l)},ho.geo.graticule=function(){function e(){return{type:"MultiLineString",coordinates:t()}}function t(){return ho.range(Math.ceil(i/v)*v,a,v).map(d).concat(ho.range(Math.ceil(c/y)*y,s,y).map(h)).concat(ho.range(Math.ceil(r/p)*p,n,p).filter(function(e){return ko(e%v)>Bo}).map(u)).concat(ho.range(Math.ceil(l/g)*g,o,g).filter(function(e){return ko(e%y)>Bo}).map(f))}var n,r,a,i,o,l,s,c,u,f,d,h,p=10,g=p,v=90,y=360,m=2.5;return e.lines=function(){return t().map(function(e){return{type:"LineString",coordinates:e}})},e.outline=function(){return{type:"Polygon",coordinates:[d(i).concat(h(s).slice(1),d(a).reverse().slice(1),h(c).reverse().slice(1))]}},e.extent=function(t){return arguments.length?e.majorExtent(t).minorExtent(t):e.minorExtent()},e.majorExtent=function(t){return arguments.length?(i=+t[0][0],a=+t[1][0],c=+t[0][1],s=+t[1][1],i>a&&(t=i,i=a,a=t),c>s&&(t=c,c=s,s=t),e.precision(m)):[[i,c],[a,s]]},e.minorExtent=function(t){return arguments.length?(r=+t[0][0],n=+t[1][0],l=+t[0][1],o=+t[1][1],r>n&&(t=r,r=n,n=t),l>o&&(t=l,l=o,o=t),e.precision(m)):[[r,l],[n,o]]},e.step=function(t){return arguments.length?e.majorStep(t).minorStep(t):e.minorStep()},e.majorStep=function(t){return arguments.length?(v=+t[0],y=+t[1],e):[v,y]},e.minorStep=function(t){return arguments.length?(p=+t[0],g=+t[1],e):[p,g]},e.precision=function(t){return arguments.length?(m=+t,u=wn(l,o,90),f=kn(r,n,m),d=wn(c,s,90),h=kn(i,a,m),e):m},e.majorExtent([[-180,-90+Bo],[180,90-Bo]]).minorExtent([[-180,-80-Bo],[180,80+Bo]])},ho.geo.greatArc=function(){function e(){return{type:"LineString",coordinates:[t||r.apply(this,arguments),n||a.apply(this,arguments)]}}var t,n,r=Mn,a=An;return e.distance=function(){return ho.geo.distance(t||r.apply(this,arguments),n||a.apply(this,arguments))},e.source=function(n){return arguments.length?(r=n,t="function"==typeof n?null:n,e):r},e.target=function(t){return arguments.length?(a=t,n="function"==typeof t?null:t,e):a},e.precision=function(){return arguments.length?e:0},e},ho.geo.interpolate=function(e,t){return Tn(e[0]*Xo,e[1]*Xo,t[0]*Xo,t[1]*Xo)},ho.geo.length=function(e){return $l=0,ho.geo.stream(e,Jl),$l};var $l,Jl={sphere:T,point:T,lineStart:Sn,lineEnd:T,polygonStart:T,polygonEnd:T},Kl=Ln(function(e){return Math.sqrt(2/(1+e))},function(e){return 2*Math.asin(e/2)});(ho.geo.azimuthalEqualArea=function(){return fn(Kl)}).raw=Kl;var es=Ln(function(e){var t=Math.acos(e);return t&&t/Math.sin(t)},k);(ho.geo.azimuthalEquidistant=function(){return fn(es)}).raw=es,(ho.geo.conicConformal=function(){return Wt(Cn)}).raw=Cn,(ho.geo.conicEquidistant=function(){return Wt(On)}).raw=On;var ts=Ln(function(e){return 1/e},Math.atan);(ho.geo.gnomonic=function(){return fn(ts)}).raw=ts,zn.invert=function(e,t){return[e,2*Math.atan(Math.exp(t))-Go]},(ho.geo.mercator=function(){return jn(zn)}).raw=zn;var ns=Ln(function(){return 1},Math.asin);(ho.geo.orthographic=function(){return fn(ns)}).raw=ns;var rs=Ln(function(e){return 1/(1+e)},function(e){return 2*Math.atan(e)});(ho.geo.stereographic=function(){return fn(rs)}).raw=rs,Dn.invert=function(e,t){return[-t,2*Math.atan(Math.exp(e))-Go]},(ho.geo.transverseMercator=function(){var e=jn(Dn),t=e.center,n=e.rotate;return e.center=function(e){return e?t([-e[1],e[0]]):(e=t(),[e[1],-e[0]])},e.rotate=function(e){return e?n([e[0],e[1],e.length>2?e[2]+90:90]):(e=n(),[e[0],e[1],e[2]-90])},n([0,0,90])}).raw=Dn,ho.geom={},ho.geom.hull=function(e){function t(e){if(e.length<3)return[];var t,a=ze(n),i=ze(r),o=e.length,l=[],s=[];for(t=0;t<o;t++)l.push([+a.call(this,e[t],t),+i.call(this,e[t],t),t]);for(l.sort(Nn),t=0;t<o;t++)s.push([l[t][0],-l[t][1]]);var c=En(l),u=En(s),f=u[0]===c[0],d=u[u.length-1]===c[c.length-1],h=[];for(t=c.length-1;t>=0;--t)h.push(e[l[c[t]][2]]);for(t=+f;t<u.length-d;++t)h.push(e[l[u[t]][2]]);return h}var n=In,r=Pn;return arguments.length?t(e):(t.x=function(e){return arguments.length?(n=e,t):n},t.y=function(e){return arguments.length?(r=e,t):r},t)},ho.geom.polygon=function(e){return Lo(e,as),e};var as=ho.geom.polygon.prototype=[];as.area=function(){for(var e,t=-1,n=this.length,r=this[n-1],a=0;++t<n;)e=r,r=this[t],a+=e[1]*r[0]-e[0]*r[1];return.5*a},as.centroid=function(e){var t,n,r=-1,a=this.length,i=0,o=0,l=this[a-1];for(arguments.length||(e=-1/(6*this.area()));++r<a;)t=l,l=this[r],n=t[0]*l[1]-l[0]*t[1],i+=(t[0]+l[0])*n,o+=(t[1]+l[1])*n;return[i*e,o*e]},as.clip=function(e){for(var t,n,r,a,i,o,l=Bn(e),s=-1,c=this.length-Bn(this),u=this[c-1];++s<c;){for(t=e.slice(),e.length=0,a=this[s],i=t[(r=t.length-l)-1],n=-1;++n<r;)o=t[n],Rn(o,u,a)?(Rn(i,u,a)||e.push(Fn(i,o,u,a)),e.push(o)):Rn(i,u,a)&&e.push(Fn(i,o,u,a)),i=o;l&&e.push(e[0]),u=a}return e};var is,os,ls,ss,cs,us=[],fs=[];Zn.prototype.prepare=function(){for(var e,t=this.edges,n=t.length;n--;)e=t[n].edge,e.b&&e.a||t.splice(n,1);return t.sort(Qn),t.length},or.prototype={start:function(){return this.edge.l===this.site?this.edge.a:this.edge.b},end:function(){return this.edge.l===this.site?this.edge.b:this.edge.a}},lr.prototype={insert:function(e,t){var n,r,a;if(e){if(t.P=e,t.N=e.N,e.N&&(e.N.P=t),e.N=t,e.R){for(e=e.R;e.L;)e=e.L;e.L=t}else e.R=t;n=e}else this._?(e=fr(this._),t.P=null,t.N=e,e.P=e.L=t,n=e):(t.P=t.N=null,this._=t,n=null);for(t.L=t.R=null,t.U=n,t.C=!0,e=t;n&&n.C;)r=n.U,n===r.L?(a=r.R,a&&a.C?(n.C=a.C=!1,r.C=!0,e=r):(e===n.R&&(cr(this,n),e=n,n=e.U),n.C=!1,r.C=!0,ur(this,r))):(a=r.L,a&&a.C?(n.C=a.C=!1,r.C=!0,e=r):(e===n.L&&(ur(this,n),e=n,n=e.U),n.C=!1,r.C=!0,cr(this,r))),n=e.U;this._.C=!1},remove:function(e){e.N&&(e.N.P=e.P),e.P&&(e.P.N=e.N),e.N=e.P=null;var t,n,r,a=e.U,i=e.L,o=e.R;if(n=i?o?fr(o):i:o,a?a.L===e?a.L=n:a.R=n:this._=n,i&&o?(r=n.C,n.C=e.C,n.L=i,i.U=n,n!==o?(a=n.U,n.U=e.U,e=n.R,a.L=e,n.R=o,o.U=n):(n.U=a,a=n,e=n.R)):(r=e.C,e=n),e&&(e.U=a),!r){if(e&&e.C)return void(e.C=!1);do{if(e===this._)break;if(e===a.L){if(t=a.R,t.C&&(t.C=!1,a.C=!0,cr(this,a),t=a.R),t.L&&t.L.C||t.R&&t.R.C){t.R&&t.R.C||(t.L.C=!1,t.C=!0,ur(this,t),t=a.R),t.C=a.C,a.C=t.R.C=!1,cr(this,a),e=this._;break}}else if(t=a.L,t.C&&(t.C=!1,a.C=!0,ur(this,a),t=a.L),t.L&&t.L.C||t.R&&t.R.C){t.L&&t.L.C||(t.R.C=!1,t.C=!0,cr(this,t),t=a.L),t.C=a.C,a.C=t.L.C=!1,ur(this,a),e=this._;break}t.C=!0,e=a,a=a.U}while(!e.C);e&&(e.C=!1)}}},ho.geom.voronoi=function(e){function t(e){var t=new Array(e.length),r=l[0][0],a=l[0][1],i=l[1][0],o=l[1][1];return dr(n(e),l).cells.forEach(function(n,l){var s=n.edges,c=n.site;(t[l]=s.length?s.map(function(e){var t=e.start();return[t.x,t.y]}):c.x>=r&&c.x<=i&&c.y>=a&&c.y<=o?[[r,o],[i,o],[i,a],[r,a]]:[]).point=e[l]}),t}function n(e){return e.map(function(e,t){return{x:Math.round(i(e,t)/Bo)*Bo,y:Math.round(o(e,t)/Bo)*Bo,i:t}})}var r=In,a=Pn,i=r,o=a,l=ds;return e?t(e):(t.links=function(e){return dr(n(e)).edges.filter(function(e){return e.l&&e.r}).map(function(t){return{source:e[t.l.i],target:e[t.r.i]}})},t.triangles=function(e){var t=[];return dr(n(e)).cells.forEach(function(n,r){for(var a,i=n.site,o=n.edges.sort(Qn),l=-1,s=o.length,c=o[s-1].edge,u=c.l===i?c.r:c.l;++l<s;)c,a=u,c=o[l].edge,u=c.l===i?c.r:c.l,r<a.i&&r<u.i&&pr(i,a,u)<0&&t.push([e[r],e[a.i],e[u.i]])}),t},t.x=function(e){return arguments.length?(i=ze(r=e),t):r},t.y=function(e){return arguments.length?(o=ze(a=e),t):a},t.clipExtent=function(e){return arguments.length?(l=null==e?ds:e,t):l===ds?null:l},t.size=function(e){return arguments.length?t.clipExtent(e&&[[0,0],e]):l===ds?null:l&&l[1]},t)};var ds=[[-1e6,-1e6],[1e6,1e6]];ho.geom.delaunay=function(e){return ho.geom.voronoi().triangles(e)},ho.geom.quadtree=function(e,t,n,r,a){function i(e){function i(e,t,n,r,a,i,o,l){if(!isNaN(n)&&!isNaN(r))if(e.leaf){var s=e.x,u=e.y;if(null!=s)if(ko(s-n)+ko(u-r)<.01)c(e,t,n,r,a,i,o,l);else{var f=e.point;e.x=e.y=e.point=null,c(e,f,s,u,a,i,o,l),c(e,t,n,r,a,i,o,l)}else e.x=n,e.y=r,e.point=t}else c(e,t,n,r,a,i,o,l)}function c(e,t,n,r,a,o,l,s){var c=.5*(a+l),u=.5*(o+s),f=n>=c,d=r>=u,h=d<<1|f;e.leaf=!1,e=e.nodes[h]||(e.nodes[h]=yr()),f?a=c:l=c,d?o=u:s=u,i(e,t,n,r,a,o,l,s)}var u,f,d,h,p,g,v,y,m,x=ze(l),b=ze(s);if(null!=t)g=t,v=n,y=r,m=a;else if(y=m=-(g=v=1/0),f=[],d=[],p=e.length,o)for(h=0;h<p;++h)u=e[h],u.x<g&&(g=u.x),u.y<v&&(v=u.y),u.x>y&&(y=u.x),u.y>m&&(m=u.y),f.push(u.x),d.push(u.y);else for(h=0;h<p;++h){var _=+x(u=e[h],h),w=+b(u,h);_<g&&(g=_),w<v&&(v=w),_>y&&(y=_),w>m&&(m=w),f.push(_),d.push(w)}var k=y-g,M=m-v;k>M?m=v+k:y=g+M;var A=yr();if(A.add=function(e){i(A,e,+x(e,++h),+b(e,h),g,v,y,m)},A.visit=function(e){mr(e,A,g,v,y,m)},A.find=function(e){return xr(A,e[0],e[1],g,v,y,m)},h=-1,null==t){for(;++h<p;)i(A,e[h],f[h],d[h],g,v,y,m);--h}else e.forEach(A.add);return f=d=e=u=null,A}var o,l=In,s=Pn;return(o=arguments.length)?(l=gr,s=vr,3===o&&(a=n,r=t,n=t=0),i(e)):(i.x=function(e){return arguments.length?(l=e,i):l},i.y=function(e){return arguments.length?(s=e,i):s},i.extent=function(e){return arguments.length?(null==e?t=n=r=a=null:(t=+e[0][0],n=+e[0][1],r=+e[1][0],a=+e[1][1]),i):null==t?null:[[t,n],[r,a]]},i.size=function(e){return arguments.length?(null==e?t=n=r=a=null:(t=n=0,r=+e[0],a=+e[1]),i):null==t?null:[r-t,a-n]},i)},ho.interpolateRgb=br,ho.interpolateObject=_r,ho.interpolateNumber=wr,ho.interpolateString=kr;var hs=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,ps=new RegExp(hs.source,"g");ho.interpolate=Mr,ho.interpolators=[function(e,t){var n=typeof t;return("string"===n?ol.has(t.toLowerCase())||/^(#|rgb\(|hsl\()/i.test(t)?br:kr:t instanceof fe?br:Array.isArray(t)?Ar:"object"===n&&isNaN(t)?_r:wr)(e,t)}],ho.interpolateArray=Ar;var gs=function(){return k},vs=ho.map({linear:gs,poly:jr,quad:function(){return Cr},cubic:function(){return Or},sin:function(){return Dr},exp:function(){return Ir},circle:function(){return Pr},elastic:Er,back:Nr,bounce:function(){return Rr}}),ys=ho.map({in:k,out:Sr,"in-out":Lr,"out-in":function(e){return Lr(Sr(e))}});ho.ease=function(e){var t=e.indexOf("-"),n=t>=0?e.slice(0,t):e,r=t>=0?e.slice(t+1):"in";return n=vs.get(n)||gs,r=ys.get(r)||k,Tr(r(n.apply(null,po.call(arguments,1))))},ho.interpolateHcl=Fr,ho.interpolateHsl=Br,ho.interpolateLab=qr,ho.interpolateRound=Hr,ho.transform=function(e){var t=vo.createElementNS(ho.ns.prefix.svg,"g");return(ho.transform=function(e){if(null!=e){t.setAttribute("transform",e);var n=t.transform.baseVal.consolidate()}return new Vr(n?n.matrix:ms)})(e)},Vr.prototype.toString=function(){return"translate("+this.translate+")rotate("+this.rotate+")skewX("+this.skew+")scale("+this.scale+")"};var ms={a:1,b:0,c:0,d:1,e:0,f:0};ho.interpolateTransform=Jr,ho.layout={},ho.layout.bundle=function(){return function(e){for(var t=[],n=-1,r=e.length;++n<r;)t.push(ta(e[n]));return t}},ho.layout.chord=function(){function e(){var e,c,f,d,h,p={},g=[],v=ho.range(i),y=[];for(n=[],r=[],e=0,d=-1;++d<i;){for(c=0,h=-1;++h<i;)c+=a[d][h];g.push(c),y.push(ho.range(i)),e+=c}for(o&&v.sort(function(e,t){return o(g[e],g[t])}),l&&y.forEach(function(e,t){e.sort(function(e,n){return l(a[t][e],a[t][n])})}),e=(Vo-u*i)/e,c=0,d=-1;++d<i;){for(f=c,h=-1;++h<i;){var m=v[d],x=y[m][h],b=a[m][x],_=c,w=c+=b*e;p[m+"-"+x]={index:m,subindex:x,startAngle:_,endAngle:w,value:b}}r[m]={index:m,startAngle:f,endAngle:c,value:g[m]},c+=u}for(d=-1;++d<i;)for(h=d-1;++h<i;){var k=p[d+"-"+h],M=p[h+"-"+d];(k.value||M.value)&&n.push(k.value<M.value?{source:M,target:k}:{source:k,target:M})}s&&t()}function t(){n.sort(function(e,t){return s((e.source.value+e.target.value)/2,(t.source.value+t.target.value)/2)})}var n,r,a,i,o,l,s,c={},u=0;return c.matrix=function(e){return arguments.length?(i=(a=e)&&a.length,n=r=null,c):a},c.padding=function(e){return arguments.length?(u=e,n=r=null,c):u},c.sortGroups=function(e){return arguments.length?(o=e,n=r=null,c):o},c.sortSubgroups=function(e){return arguments.length?(l=e,n=null,c):l},c.sortChords=function(e){return arguments.length?(s=e,n&&t(),c):s},c.chords=function(){return n||e(),n},c.groups=function(){return r||e(),r},c},ho.layout.force=function(){function e(e){return function(t,n,r,a){if(t.point!==e){var i=t.cx-e.x,o=t.cy-e.y,l=a-n,s=i*i+o*o;if(l*l/y<s){if(s<g){var c=t.charge/s;e.px-=i*c,e.py-=o*c}return!0}if(t.point&&s&&s<g){var c=t.pointCharge/s;e.px-=i*c,e.py-=o*c}}return!t.charge}}function t(e){e.px=ho.event.x,e.py=ho.event.y,s.resume()}var n,r,a,i,o,l,s={},c=ho.dispatch("start","tick","end"),u=[1,1],f=.9,d=xs,h=bs,p=-30,g=_s,v=.1,y=.64,m=[],x=[];return s.tick=function(){if((a*=.99)<.005)return n=null,c.end({type:"end",alpha:a=0}),!0;var t,r,s,d,h,g,y,b,_,w=m.length,k=x.length;for(r=0;r<k;++r)s=x[r],d=s.source,h=s.target,b=h.x-d.x,_=h.y-d.y,(g=b*b+_*_)&&(g=a*o[r]*((g=Math.sqrt(g))-i[r])/g,b*=g,_*=g,h.x-=b*(y=d.weight+h.weight?d.weight/(d.weight+h.weight):.5),h.y-=_*y,d.x+=b*(y=1-y),d.y+=_*y);if((y=a*v)&&(b=u[0]/2,_=u[1]/2,r=-1,y))for(;++r<w;)s=m[r],s.x+=(b-s.x)*y,s.y+=(_-s.y)*y;if(p)for(sa(t=ho.geom.quadtree(m),a,l),r=-1;++r<w;)(s=m[r]).fixed||t.visit(e(s));for(r=-1;++r<w;)s=m[r],s.fixed?(s.x=s.px,s.y=s.py):(s.x-=(s.px-(s.px=s.x))*f,s.y-=(s.py-(s.py=s.y))*f);c.tick({type:"tick",alpha:a})},s.nodes=function(e){return arguments.length?(m=e,s):m},s.links=function(e){return arguments.length?(x=e,s):x},s.size=function(e){return arguments.length?(u=e,s):u},s.linkDistance=function(e){return arguments.length?(d="function"==typeof e?e:+e,s):d},s.distance=s.linkDistance,s.linkStrength=function(e){return arguments.length?(h="function"==typeof e?e:+e,s):h},s.friction=function(e){return arguments.length?(f=+e,s):f},s.charge=function(e){return arguments.length?(p="function"==typeof e?e:+e,s):p},s.chargeDistance=function(e){return arguments.length?(g=e*e,s):Math.sqrt(g)},s.gravity=function(e){return arguments.length?(v=+e,s):v},s.theta=function(e){return arguments.length?(y=e*e,s):Math.sqrt(y)},s.alpha=function(e){return arguments.length?(e=+e,a?e>0?a=e:(n.c=null,n.t=NaN,n=null,c.end({type:"end",alpha:a=0})):e>0&&(c.start({type:"start",alpha:a=e}),n=Ee(s.tick)),s):a},s.start=function(){function e(e,r){if(!n){for(n=new Array(a),s=0;s<a;++s)n[s]=[];for(s=0;s<c;++s){var i=x[s];n[i.source.index].push(i.target),n[i.target.index].push(i.source)}}for(var o,l=n[t],s=-1,u=l.length;++s<u;)if(!isNaN(o=l[s][e]))return o;return Math.random()*r}var t,n,r,a=m.length,c=x.length,f=u[0],g=u[1];for(t=0;t<a;++t)(r=m[t]).index=t,r.weight=0;for(t=0;t<c;++t)r=x[t],"number"==typeof r.source&&(r.source=m[r.source]),"number"==typeof r.target&&(r.target=m[r.target]),++r.source.weight,++r.target.weight;for(t=0;t<a;++t)r=m[t],isNaN(r.x)&&(r.x=e("x",f)),isNaN(r.y)&&(r.y=e("y",g)),isNaN(r.px)&&(r.px=r.x),isNaN(r.py)&&(r.py=r.y);if(i=[],"function"==typeof d)for(t=0;t<c;++t)i[t]=+d.call(this,x[t],t);else for(t=0;t<c;++t)i[t]=d;if(o=[],"function"==typeof h)for(t=0;t<c;++t)o[t]=+h.call(this,x[t],t);else for(t=0;t<c;++t)o[t]=h;if(l=[],"function"==typeof p)for(t=0;t<a;++t)l[t]=+p.call(this,m[t],t);else for(t=0;t<a;++t)l[t]=p;return s.resume()},s.resume=function(){return s.alpha(.1)},s.stop=function(){return s.alpha(0)},s.drag=function(){if(r||(r=ho.behavior.drag().origin(k).on("dragstart.force",aa).on("drag.force",t).on("dragend.force",ia)),!arguments.length)return r;this.on("mouseover.force",oa).on("mouseout.force",la).call(r)},ho.rebind(s,c,"on")};var xs=20,bs=1,_s=1/0;ho.layout.hierarchy=function(){function e(a){var i,o=[a],l=[];for(a.depth=0;null!=(i=o.pop());)if(l.push(i),(c=n.call(e,i,i.depth))&&(s=c.length)){for(var s,c,u;--s>=0;)o.push(u=c[s]),u.parent=i,u.depth=i.depth+1;r&&(i.value=0),i.children=c}else r&&(i.value=+r.call(e,i,i.depth)||0),delete i.children;return fa(a,function(e){var n,a;t&&(n=e.children)&&n.sort(t),r&&(a=e.parent)&&(a.value+=e.value)}),l}var t=pa,n=da,r=ha;return e.sort=function(n){return arguments.length?(t=n,e):t},e.children=function(t){return arguments.length?(n=t,e):n},e.value=function(t){return arguments.length?(r=t,e):r},e.revalue=function(t){return r&&(ua(t,function(e){e.children&&(e.value=0)}),fa(t,function(t){var n;t.children||(t.value=+r.call(e,t,t.depth)||0),(n=t.parent)&&(n.value+=t.value)})),t},e},ho.layout.partition=function(){function e(t,n,r,a){var i=t.children;if(t.x=n,t.y=t.depth*a,t.dx=r,t.dy=a,i&&(o=i.length)){var o,l,s,c=-1;for(r=t.value?r/t.value:0;++c<o;)e(l=i[c],n,s=l.value*r,a),n+=s}}function t(e){var n=e.children,r=0;if(n&&(a=n.length))for(var a,i=-1;++i<a;)r=Math.max(r,t(n[i]));return 1+r}function n(n,i){var o=r.call(this,n,i);return e(o[0],0,a[0],a[1]/t(o[0])),o}var r=ho.layout.hierarchy(),a=[1,1];return n.size=function(e){return arguments.length?(a=e,n):a},ca(n,r)},ho.layout.pie=function(){function e(o){var l,s=o.length,c=o.map(function(n,r){return+t.call(e,n,r)}),u=+("function"==typeof r?r.apply(this,arguments):r),f=("function"==typeof a?a.apply(this,arguments):a)-u,d=Math.min(Math.abs(f)/s,+("function"==typeof i?i.apply(this,arguments):i)),h=d*(f<0?-1:1),p=ho.sum(c),g=p?(f-s*h)/p:0,v=ho.range(s),y=[];return null!=n&&v.sort(n===ws?function(e,t){return c[t]-c[e]}:function(e,t){return n(o[e],o[t])}),v.forEach(function(e){y[e]={data:o[e],value:l=c[e],startAngle:u,endAngle:u+=l*g+h,padAngle:d}}),y}var t=Number,n=ws,r=0,a=Vo,i=0;return e.value=function(n){return arguments.length?(t=n,e):t},e.sort=function(t){return arguments.length?(n=t,e):n},e.startAngle=function(t){return arguments.length?(r=t,e):r},e.endAngle=function(t){return arguments.length?(a=t,e):a},e.padAngle=function(t){return arguments.length?(i=t,e):i},e};var ws={};ho.layout.stack=function(){function e(l,s){if(!(d=l.length))return l;var c=l.map(function(n,r){return t.call(e,n,r)}),u=c.map(function(t){return t.map(function(t,n){return[i.call(e,t,n),o.call(e,t,n)]})}),f=n.call(e,u,s);c=ho.permute(c,f),u=ho.permute(u,f);var d,h,p,g,v=r.call(e,u,s),y=c[0].length;for(p=0;p<y;++p)for(a.call(e,c[0][p],g=v[p],u[0][p][1]),h=1;h<d;++h)a.call(e,c[h][p],g+=u[h-1][p][1],u[h][p][1]);return l}var t=k,n=xa,r=ba,a=ma,i=va,o=ya;return e.values=function(n){return arguments.length?(t=n,e):t},e.order=function(t){return arguments.length?(n="function"==typeof t?t:ks.get(t)||xa,e):n},e.offset=function(t){return arguments.length?(r="function"==typeof t?t:Ms.get(t)||ba,e):r},e.x=function(t){return arguments.length?(i=t,e):i},e.y=function(t){return arguments.length?(o=t,e):o},e.out=function(t){return arguments.length?(a=t,e):a},e};var ks=ho.map({"inside-out":function(e){var t,n,r=e.length,a=e.map(_a),i=e.map(wa),o=ho.range(r).sort(function(e,t){return a[e]-a[t]}),l=0,s=0,c=[],u=[];for(t=0;t<r;++t)n=o[t],l<s?(l+=i[n],c.push(n)):(s+=i[n],u.push(n));return u.reverse().concat(c)},reverse:function(e){return ho.range(e.length).reverse()},default:xa}),Ms=ho.map({silhouette:function(e){var t,n,r,a=e.length,i=e[0].length,o=[],l=0,s=[];for(n=0;n<i;++n){for(t=0,r=0;t<a;t++)r+=e[t][n][1];r>l&&(l=r),o.push(r)}for(n=0;n<i;++n)s[n]=(l-o[n])/2;return s},wiggle:function(e){var t,n,r,a,i,o,l,s,c,u=e.length,f=e[0],d=f.length,h=[];for(h[0]=s=c=0,n=1;n<d;++n){for(t=0,a=0;t<u;++t)a+=e[t][n][1];for(t=0,i=0,l=f[n][0]-f[n-1][0];t<u;++t){for(r=0,o=(e[t][n][1]-e[t][n-1][1])/(2*l);r<t;++r)o+=(e[r][n][1]-e[r][n-1][1])/l;i+=o*e[t][n][1]}h[n]=s-=a?i/a*l:0,s<c&&(c=s)}for(n=0;n<d;++n)h[n]-=c;return h},expand:function(e){var t,n,r,a=e.length,i=e[0].length,o=1/a,l=[];for(n=0;n<i;++n){for(t=0,r=0;t<a;t++)r+=e[t][n][1];if(r)for(t=0;t<a;t++)e[t][n][1]/=r;else for(t=0;t<a;t++)e[t][n][1]=o}for(n=0;n<i;++n)l[n]=0;return l},zero:ba});ho.layout.histogram=function(){function e(e,i){for(var o,l,s=[],c=e.map(n,this),u=r.call(this,c,i),f=a.call(this,u,c,i),i=-1,d=c.length,h=f.length-1,p=t?1:1/d;++i<h;)o=s[i]=[],o.dx=f[i+1]-(o.x=f[i]),o.y=0;if(h>0)for(i=-1;++i<d;)(l=c[i])>=u[0]&&l<=u[1]&&(o=s[ho.bisect(f,l,1,h)-1],o.y+=p,o.push(e[i]));return s}var t=!0,n=Number,r=Ta,a=Ma;return e.value=function(t){return arguments.length?(n=t,e):n},e.range=function(t){return arguments.length?(r=ze(t),e):r},e.bins=function(t){return arguments.length?(a="number"==typeof t?function(e){return Aa(e,t)}:ze(t),e):a},e.frequency=function(n){return arguments.length?(t=!!n,e):t},e},ho.layout.pack=function(){function e(e,i){var o=n.call(this,e,i),l=o[0],s=a[0],c=a[1],u=null==t?Math.sqrt:"function"==typeof t?t:function(){return t};if(l.x=l.y=0,fa(l,function(e){e.r=+u(e.value)}),fa(l,za),r){var f=r*(t?1:Math.max(2*l.r/s,2*l.r/c))/2;fa(l,function(e){e.r+=f}),fa(l,za),fa(l,function(e){e.r-=f})}return Ia(l,s/2,c/2,t?1:1/Math.max(2*l.r/s,2*l.r/c)),o}var t,n=ho.layout.hierarchy().sort(Sa),r=0,a=[1,1];return e.size=function(t){return arguments.length?(a=t,e):a},e.radius=function(n){return arguments.length?(t=null==n||"function"==typeof n?n:+n,e):t},e.padding=function(t){return arguments.length?(r=+t,e):r},ca(e,n)},ho.layout.tree=function(){function e(e,a){var u=o.call(this,e,a),f=u[0],d=t(f);if(fa(d,n),d.parent.m=-d.z,ua(d,r),c)ua(f,i);else{var h=f,p=f,g=f;ua(f,function(e){e.x<h.x&&(h=e),e.x>p.x&&(p=e),e.depth>g.depth&&(g=e)});var v=l(h,p)/2-h.x,y=s[0]/(p.x+l(p,h)/2+v),m=s[1]/(g.depth||1);ua(f,function(e){e.x=(e.x+v)*y,e.y=e.depth*m})}return u}function t(e){for(var t,n={A:null,children:[e]},r=[n];null!=(t=r.pop());)for(var a,i=t.children,o=0,l=i.length;o<l;++o)r.push((i[o]=a={_:i[o],parent:t,children:(a=i[o].children)&&a.slice()||[],A:null,a:null,z:0,m:0,c:0,s:0,t:null,i:o}).a=a);return n.children[0]}function n(e){var t=e.children,n=e.parent.children,r=e.i?n[e.i-1]:null;if(t.length){Ba(e);var i=(t[0].z+t[t.length-1].z)/2;r?(e.z=r.z+l(e._,r._),e.m=e.z-i):e.z=i}else r&&(e.z=r.z+l(e._,r._));e.parent.A=a(e,r,e.parent.A||n[0])}function r(e){e._.x=e.z+e.parent.m,e.m+=e.parent.m}function a(e,t,n){if(t){for(var r,a=e,i=e,o=t,s=a.parent.children[0],c=a.m,u=i.m,f=o.m,d=s.m;o=Ra(o),a=Na(a),o&&a;)s=Na(s),i=Ra(i),i.a=e,r=o.z+f-a.z-c+l(o._,a._),r>0&&(Fa(qa(o,e,n),e,r),c+=r,u+=r),f+=o.m,c+=a.m,d+=s.m,u+=i.m;o&&!Ra(i)&&(i.t=o,i.m+=f-u),a&&!Na(s)&&(s.t=a,s.m+=c-d,n=e)}return n}function i(e){e.x*=s[0],e.y=e.depth*s[1]}var o=ho.layout.hierarchy().sort(null).value(null),l=Ea,s=[1,1],c=null;return e.separation=function(t){return arguments.length?(l=t,e):l},e.size=function(t){return arguments.length?(c=null==(s=t)?i:null,e):c?null:s},e.nodeSize=function(t){return arguments.length?(c=null==(s=t)?null:i,e):c?s:null},ca(e,o)},ho.layout.cluster=function(){function e(e,i){var o,l=t.call(this,e,i),s=l[0],c=0;fa(s,function(e){var t=e.children;t&&t.length?(e.x=Va(t),e.y=Ha(t)):(e.x=o?c+=n(e,o):0,e.y=0,o=e)});var u=Ua(s),f=Ga(s),d=u.x-n(u,f)/2,h=f.x+n(f,u)/2;return fa(s,a?function(e){e.x=(e.x-s.x)*r[0],e.y=(s.y-e.y)*r[1]}:function(e){e.x=(e.x-d)/(h-d)*r[0],e.y=(1-(s.y?e.y/s.y:1))*r[1]}),l}var t=ho.layout.hierarchy().sort(null).value(null),n=Ea,r=[1,1],a=!1;return e.separation=function(t){return arguments.length?(n=t,e):n},e.size=function(t){return arguments.length?(a=null==(r=t),e):a?null:r},e.nodeSize=function(t){return arguments.length?(a=null!=(r=t),e):a?r:null},ca(e,t)},ho.layout.treemap=function(){function e(e,t){for(var n,r,a=-1,i=e.length;++a<i;)r=(n=e[a]).value*(t<0?0:t),n.area=isNaN(r)||r<=0?0:r}function t(n){var i=n.children;if(i&&i.length){var o,l,s,c=f(n),u=[],d=i.slice(),p=1/0,g="slice"===h?c.dx:"dice"===h?c.dy:"slice-dice"===h?1&n.depth?c.dy:c.dx:Math.min(c.dx,c.dy);for(e(d,c.dx*c.dy/n.value),u.area=0;(s=d.length)>0;)u.push(o=d[s-1]),u.area+=o.area,"squarify"!==h||(l=r(u,g))<=p?(d.pop(),p=l):(u.area-=u.pop().area,a(u,g,c,!1),g=Math.min(c.dx,c.dy),u.length=u.area=0,p=1/0);u.length&&(a(u,g,c,!0),u.length=u.area=0),i.forEach(t)}}function n(t){var r=t.children;if(r&&r.length){var i,o=f(t),l=r.slice(),s=[];for(e(l,o.dx*o.dy/t.value),s.area=0;i=l.pop();)s.push(i),s.area+=i.area,null!=i.z&&(a(s,i.z?o.dx:o.dy,o,!l.length),s.length=s.area=0);r.forEach(n)}}function r(e,t){for(var n,r=e.area,a=0,i=1/0,o=-1,l=e.length;++o<l;)(n=e[o].area)&&(n<i&&(i=n),n>a&&(a=n));return r*=r,t*=t,r?Math.max(t*a*p/r,r/(t*i*p)):1/0}function a(e,t,n,r){var a,i=-1,o=e.length,l=n.x,c=n.y,u=t?s(e.area/t):0;if(t==n.dx){for((r||u>n.dy)&&(u=n.dy);++i<o;)a=e[i],a.x=l,a.y=c,a.dy=u,l+=a.dx=Math.min(n.x+n.dx-l,u?s(a.area/u):0);a.z=!0,a.dx+=n.x+n.dx-l,n.y+=u,n.dy-=u}else{for((r||u>n.dx)&&(u=n.dx);++i<o;)a=e[i],a.x=l,a.y=c,a.dx=u,c+=a.dy=Math.min(n.y+n.dy-c,u?s(a.area/u):0);a.z=!1,a.dy+=n.y+n.dy-c,n.x+=u,n.dx-=u}}function i(r){var a=o||l(r),i=a[0];return i.x=i.y=0,i.value?(i.dx=c[0],i.dy=c[1]):i.dx=i.dy=0,o&&l.revalue(i),e([i],i.dx*i.dy/i.value),(o?n:t)(i),d&&(o=a),a}var o,l=ho.layout.hierarchy(),s=Math.round,c=[1,1],u=null,f=Xa,d=!1,h="squarify",p=.5*(1+Math.sqrt(5));return i.size=function(e){return arguments.length?(c=e,i):c},i.padding=function(e){function t(t){var n=e.call(i,t,t.depth);return null==n?Xa(t):Ya(t,"number"==typeof n?[n,n,n,n]:n)}function n(t){return Ya(t,e)}if(!arguments.length)return u;var r;return f=null==(u=e)?Xa:"function"==(r=typeof e)?t:"number"===r?(e=[e,e,e,e],n):n,i},i.round=function(e){return arguments.length?(s=e?Math.round:Number,i):s!=Number},i.sticky=function(e){return arguments.length?(d=e,o=null,i):d},i.ratio=function(e){return arguments.length?(p=e,i):p},i.mode=function(e){return arguments.length?(h=e+"",i):h},ca(i,l)},ho.random={normal:function(e,t){var n=arguments.length;return n<2&&(t=1),n<1&&(e=0),function(){var n,r,a;do{n=2*Math.random()-1,r=2*Math.random()-1,a=n*n+r*r}while(!a||a>1);return e+t*n*Math.sqrt(-2*Math.log(a)/a)}},logNormal:function(){var e=ho.random.normal.apply(ho,arguments);return function(){return Math.exp(e())}},bates:function(e){var t=ho.random.irwinHall(e);return function(){return t()/e}},irwinHall:function(e){return function(){for(var t=0,n=0;n<e;n++)t+=Math.random();return t}}},ho.scale={};var As={floor:k,ceil:k};ho.scale.linear=function(){return ei([0,1],[0,1],Mr,!1)};var Ts={s:1,g:1,p:1,r:1,e:1};ho.scale.log=function(){return si(ho.scale.linear().domain([0,1]),10,!0,[1,10])};var Ss=ho.format(".0e"),Ls={floor:function(e){return-Math.ceil(-e)},ceil:function(e){return-Math.floor(-e)}};ho.scale.pow=function(){return ci(ho.scale.linear(),1,[0,1])},ho.scale.sqrt=function(){return ho.scale.pow().exponent(.5)},ho.scale.ordinal=function(){return fi([],{t:"range",a:[[]]})},ho.scale.category10=function(){return ho.scale.ordinal().range(Cs)},ho.scale.category20=function(){return ho.scale.ordinal().range(Os)},ho.scale.category20b=function(){return ho.scale.ordinal().range(zs)},ho.scale.category20c=function(){return ho.scale.ordinal().range(js)};var Cs=[2062260,16744206,2924588,14034728,9725885,9197131,14907330,8355711,12369186,1556175].map(Me),Os=[2062260,11454440,16744206,16759672,2924588,10018698,14034728,16750742,9725885,12955861,9197131,12885140,14907330,16234194,8355711,13092807,12369186,14408589,1556175,10410725].map(Me),zs=[3750777,5395619,7040719,10264286,6519097,9216594,11915115,13556636,9202993,12426809,15186514,15190932,8666169,11356490,14049643,15177372,8077683,10834324,13528509,14589654].map(Me),js=[3244733,7057110,10406625,13032431,15095053,16616764,16625259,16634018,3253076,7652470,10607003,13101504,7695281,10394312,12369372,14342891,6513507,9868950,12434877,14277081].map(Me);ho.scale.quantile=function(){return di([],[])},ho.scale.quantize=function(){return hi(0,1,[0,1])},ho.scale.threshold=function(){return pi([.5],[0,1])},ho.scale.identity=function(){return gi([0,1])},ho.svg={},ho.svg.arc=function(){function e(){var e=Math.max(0,+n.apply(this,arguments)),c=Math.max(0,+r.apply(this,arguments)),u=o.apply(this,arguments)-Go,f=l.apply(this,arguments)-Go,d=Math.abs(f-u),h=u>f?0:1;if(c<e&&(p=c,c=e,e=p),d>=Uo)return t(c,h)+(e?t(e,1-h):"")+"Z";var p,g,v,y,m,x,b,_,w,k,M,A,T=0,S=0,L=[];if((y=(+s.apply(this,arguments)||0)/2)&&(v=i===Ds?Math.sqrt(e*e+c*c):+i.apply(this,arguments),h||(S*=-1),c&&(S=oe(v/c*Math.sin(y))),e&&(T=oe(v/e*Math.sin(y)))),c){m=c*Math.cos(u+S),x=c*Math.sin(u+S),b=c*Math.cos(f-S),_=c*Math.sin(f-S);var C=Math.abs(f-u-2*S)<=Ho?0:1;if(S&&wi(m,x,b,_)===h^C){var O=(u+f)/2;m=c*Math.cos(O),x=c*Math.sin(O),b=_=null}}else m=x=0;if(e){w=e*Math.cos(f-T),k=e*Math.sin(f-T),M=e*Math.cos(u+T),A=e*Math.sin(u+T);var z=Math.abs(u-f+2*T)<=Ho?0:1;if(T&&wi(w,k,M,A)===1-h^z){var j=(u+f)/2;w=e*Math.cos(j),k=e*Math.sin(j),M=A=null}}else w=k=0;if(d>Bo&&(p=Math.min(Math.abs(c-e)/2,+a.apply(this,arguments)))>.001){g=e<c^h?0:1;var D=p,I=p;if(d<Ho){var P=null==M?[w,k]:null==b?[m,x]:Fn([m,x],[M,A],[b,_],[w,k]),E=m-P[0],N=x-P[1],R=b-P[0],F=_-P[1],B=1/Math.sin(Math.acos((E*R+N*F)/(Math.sqrt(E*E+N*N)*Math.sqrt(R*R+F*F)))/2),q=Math.sqrt(P[0]*P[0]+P[1]*P[1]);I=Math.min(p,(e-q)/(B-1)),D=Math.min(p,(c-q)/(B+1))}if(null!=b){var H=ki(null==M?[w,k]:[M,A],[m,x],c,D,h),V=ki([b,_],[w,k],c,D,h);p===D?L.push("M",H[0],"A",D,",",D," 0 0,",g," ",H[1],"A",c,",",c," 0 ",1-h^wi(H[1][0],H[1][1],V[1][0],V[1][1]),",",h," ",V[1],"A",D,",",D," 0 0,",g," ",V[0]):L.push("M",H[0],"A",D,",",D," 0 1,",g," ",V[0])}else L.push("M",m,",",x);if(null!=M){var U=ki([m,x],[M,A],e,-I,h),G=ki([w,k],null==b?[m,x]:[b,_],e,-I,h);p===I?L.push("L",G[0],"A",I,",",I," 0 0,",g," ",G[1],"A",e,",",e," 0 ",h^wi(G[1][0],G[1][1],U[1][0],U[1][1]),",",1-h," ",U[1],"A",I,",",I," 0 0,",g," ",U[0]):L.push("L",G[0],"A",I,",",I," 0 0,",g," ",U[0])}else L.push("L",w,",",k)}else L.push("M",m,",",x),null!=b&&L.push("A",c,",",c," 0 ",C,",",h," ",b,",",_),L.push("L",w,",",k),null!=M&&L.push("A",e,",",e," 0 ",z,",",1-h," ",M,",",A);return L.push("Z"),L.join("")}function t(e,t){return"M0,"+e+"A"+e+","+e+" 0 1,"+t+" 0,"+-e+"A"+e+","+e+" 0 1,"+t+" 0,"+e}var n=yi,r=mi,a=vi,i=Ds,o=xi,l=bi,s=_i;return e.innerRadius=function(t){return arguments.length?(n=ze(t),e):n},e.outerRadius=function(t){return arguments.length?(r=ze(t),e):r},e.cornerRadius=function(t){return arguments.length?(a=ze(t),e):a},e.padRadius=function(t){return arguments.length?(i=t==Ds?Ds:ze(t),e):i},e.startAngle=function(t){return arguments.length?(o=ze(t),e):o},e.endAngle=function(t){return arguments.length?(l=ze(t),e):l},e.padAngle=function(t){return arguments.length?(s=ze(t),e):s},e.centroid=function(){var e=(+n.apply(this,arguments)+ +r.apply(this,arguments))/2,t=(+o.apply(this,arguments)+ +l.apply(this,arguments))/2-Go;return[Math.cos(t)*e,Math.sin(t)*e]},e};var Ds="auto";ho.svg.line=function(){return Mi(k)};var Is=ho.map({linear:Ai,"linear-closed":Ti,step:Si,"step-before":Li,"step-after":Ci,basis:Pi,"basis-open":Ei,"basis-closed":Ni,bundle:Ri,cardinal:ji,"cardinal-open":Oi,"cardinal-closed":zi,monotone:Ui});Is.forEach(function(e,t){t.key=e,t.closed=/-closed$/.test(e)});var Ps=[0,2/3,1/3,0],Es=[0,1/3,2/3,0],Ns=[0,1/6,2/3,1/6];ho.svg.line.radial=function(){var e=Mi(Gi);return e.radius=e.x,delete e.x,e.angle=e.y,delete e.y,e},Li.reverse=Ci,Ci.reverse=Li,ho.svg.area=function(){return Xi(k)},ho.svg.area.radial=function(){var e=Xi(Gi);return e.radius=e.x,delete e.x,e.innerRadius=e.x0,delete e.x0,e.outerRadius=e.x1,delete e.x1,e.angle=e.y,delete e.y,e.startAngle=e.y0,delete e.y0,e.endAngle=e.y1,delete e.y1,e},ho.svg.chord=function(){function e(e,l){var s=t(this,i,e,l),c=t(this,o,e,l);return"M"+s.p0+r(s.r,s.p1,s.a1-s.a0)+(n(s,c)?a(s.r,s.p1,s.r,s.p0):a(s.r,s.p1,c.r,c.p0)+r(c.r,c.p1,c.a1-c.a0)+a(c.r,c.p1,s.r,s.p0))+"Z"}function t(e,t,n,r){var a=t.call(e,n,r),i=l.call(e,a,r),o=s.call(e,a,r)-Go,u=c.call(e,a,r)-Go;return{r:i,a0:o,a1:u,p0:[i*Math.cos(o),i*Math.sin(o)],p1:[i*Math.cos(u),i*Math.sin(u)]}}function n(e,t){return e.a0==t.a0&&e.a1==t.a1}function r(e,t,n){return"A"+e+","+e+" 0 "+ +(n>Ho)+",1 "+t}function a(e,t,n,r){return"Q 0,0 "+r}var i=Mn,o=An,l=Yi,s=xi,c=bi;return e.radius=function(t){return arguments.length?(l=ze(t),e):l},e.source=function(t){return arguments.length?(i=ze(t),e):i},e.target=function(t){return arguments.length?(o=ze(t),e):o},e.startAngle=function(t){return arguments.length?(s=ze(t),e):s},e.endAngle=function(t){return arguments.length?(c=ze(t),e):c},e},ho.svg.diagonal=function(){function e(e,a){var i=t.call(this,e,a),o=n.call(this,e,a),l=(i.y+o.y)/2,s=[i,{x:i.x,y:l},{x:o.x,y:l},o];return s=s.map(r),"M"+s[0]+"C"+s[1]+" "+s[2]+" "+s[3]}var t=Mn,n=An,r=Zi;return e.source=function(n){return arguments.length?(t=ze(n),e):t},e.target=function(t){return arguments.length?(n=ze(t),e):n},e.projection=function(t){return arguments.length?(r=t,e):r},e},ho.svg.diagonal.radial=function(){var e=ho.svg.diagonal(),t=Zi,n=e.projection;return e.projection=function(e){return arguments.length?n(Wi(t=e)):t},e},ho.svg.symbol=function(){function e(e,r){return(Rs.get(t.call(this,e,r))||Ji)(n.call(this,e,r))}var t=$i,n=Qi;return e.type=function(n){return arguments.length?(t=ze(n),e):t},e.size=function(t){return arguments.length?(n=ze(t),e):n},e};var Rs=ho.map({circle:Ji,cross:function(e){var t=Math.sqrt(e/5)/2;return"M"+-3*t+","+-t+"H"+-t+"V"+-3*t+"H"+t+"V"+-t+"H"+3*t+"V"+t+"H"+t+"V"+3*t+"H"+-t+"V"+t+"H"+-3*t+"Z"},diamond:function(e){var t=Math.sqrt(e/(2*Bs)),n=t*Bs;return"M0,"+-t+"L"+n+",0 0,"+t+" "+-n+",0Z"},square:function(e){var t=Math.sqrt(e)/2;return"M"+-t+","+-t+"L"+t+","+-t+" "+t+","+t+" "+-t+","+t+"Z"},"triangle-down":function(e){var t=Math.sqrt(e/Fs),n=t*Fs/2;return"M0,"+n+"L"+t+","+-n+" "+-t+","+-n+"Z"},"triangle-up":function(e){var t=Math.sqrt(e/Fs),n=t*Fs/2;return"M0,"+-n+"L"+t+","+n+" "+-t+","+n+"Z"}});ho.svg.symbolTypes=Rs.keys();var Fs=Math.sqrt(3),Bs=Math.tan(30*Xo);jo.transition=function(e){for(var t,n,r=qs||++Gs,a=ro(e),i=[],o=Hs||{time:Date.now(),ease:zr,delay:0,duration:250},l=-1,s=this.length;++l<s;){i.push(t=[]);for(var c=this[l],u=-1,f=c.length;++u<f;)(n=c[u])&&ao(n,u,a,r,o),t.push(n)}return eo(i,a,r)},jo.interrupt=function(e){return this.each(null==e?Vs:Ki(ro(e)))};var qs,Hs,Vs=Ki(ro()),Us=[],Gs=0;Us.call=jo.call,Us.empty=jo.empty,Us.node=jo.node,Us.size=jo.size,ho.transition=function(e,t){return e&&e.transition?qs?e.transition(t):e:ho.selection().transition(e)},ho.transition.prototype=Us,Us.select=function(e){var t,n,r,a=this.id,i=this.namespace,o=[];e=D(e);for(var l=-1,s=this.length;++l<s;){o.push(t=[]);for(var c=this[l],u=-1,f=c.length;++u<f;)(r=c[u])&&(n=e.call(r,r.__data__,u,l))?("__data__"in r&&(n.__data__=r.__data__),ao(n,u,i,a,r[i][a]),t.push(n)):t.push(null)}return eo(o,i,a)},Us.selectAll=function(e){var t,n,r,a,i,o=this.id,l=this.namespace,s=[];e=I(e);for(var c=-1,u=this.length;++c<u;)for(var f=this[c],d=-1,h=f.length;++d<h;)if(r=f[d]){i=r[l][o],n=e.call(r,r.__data__,d,c),s.push(t=[]);for(var p=-1,g=n.length;++p<g;)(a=n[p])&&ao(a,p,l,o,i),t.push(a)}return eo(s,l,o)},Us.filter=function(e){var t,n,r,a=[];"function"!=typeof e&&(e=X(e));for(var i=0,o=this.length;i<o;i++){a.push(t=[]);for(var n=this[i],l=0,s=n.length;l<s;l++)(r=n[l])&&e.call(r,r.__data__,l,i)&&t.push(r)}return eo(a,this.namespace,this.id)},Us.tween=function(e,t){var n=this.id,r=this.namespace;return arguments.length<2?this.node()[r][n].tween.get(e):Z(this,null==t?function(t){t[r][n].tween.remove(e)}:function(a){a[r][n].tween.set(e,t)})},Us.attr=function(e,t){function n(){this.removeAttribute(l)}function r(){this.removeAttributeNS(l.space,l.local)}function a(e){return null==e?n:(e+="",function(){var t,n=this.getAttribute(l);return n!==e&&(t=o(n,e),function(e){this.setAttribute(l,t(e))})})}function i(e){return null==e?r:(e+="",function(){var t,n=this.getAttributeNS(l.space,l.local);return n!==e&&(t=o(n,e),function(e){this.setAttributeNS(l.space,l.local,t(e))})})}if(arguments.length<2){for(t in e)this.attr(t,e[t]);return this}var o="transform"==e?Jr:Mr,l=ho.ns.qualify(e);return to(this,"attr."+e,t,l.local?i:a)},Us.attrTween=function(e,t){function n(e,n){var r=t.call(this,e,n,this.getAttribute(a));return r&&function(e){this.setAttribute(a,r(e))}}function r(e,n){var r=t.call(this,e,n,this.getAttributeNS(a.space,a.local));return r&&function(e){this.setAttributeNS(a.space,a.local,r(e))}}var a=ho.ns.qualify(e);return this.tween("attr."+e,a.local?r:n)},Us.style=function(e,t,n){function r(){this.style.removeProperty(e)}function a(t){return null==t?r:(t+="",function(){var r,a=o(this).getComputedStyle(this,null).getPropertyValue(e);return a!==t&&(r=Mr(a,t),function(t){this.style.setProperty(e,r(t),n)})})}var i=arguments.length;if(i<3){if("string"!=typeof e){i<2&&(t="");for(n in e)this.style(n,e[n],t);return this}n=""}return to(this,"style."+e,t,a)},Us.styleTween=function(e,t,n){function r(r,a){var i=t.call(this,r,a,o(this).getComputedStyle(this,null).getPropertyValue(e));return i&&function(t){this.style.setProperty(e,i(t),n)}}return arguments.length<3&&(n=""),this.tween("style."+e,r)},Us.text=function(e){return to(this,"text",e,no)},Us.remove=function(){var e=this.namespace;return this.each("end.transition",function(){var t;this[e].count<2&&(t=this.parentNode)&&t.removeChild(this)})},Us.ease=function(e){var t=this.id,n=this.namespace;return arguments.length<1?this.node()[n][t].ease:("function"!=typeof e&&(e=ho.ease.apply(ho,arguments)),Z(this,function(r){r[n][t].ease=e}))},Us.delay=function(e){var t=this.id,n=this.namespace;return arguments.length<1?this.node()[n][t].delay:Z(this,"function"==typeof e?function(r,a,i){r[n][t].delay=+e.call(r,r.__data__,a,i)}:(e=+e,function(r){r[n][t].delay=e}))},Us.duration=function(e){var t=this.id,n=this.namespace;return arguments.length<1?this.node()[n][t].duration:Z(this,"function"==typeof e?function(r,a,i){r[n][t].duration=Math.max(1,e.call(r,r.__data__,a,i))}:(e=Math.max(1,e),function(r){r[n][t].duration=e}))},Us.each=function(e,t){var n=this.id,r=this.namespace;if(arguments.length<2){var a=Hs,i=qs;try{qs=n,Z(this,function(t,a,i){Hs=t[r][n],e.call(t,t.__data__,a,i)})}finally{Hs=a,qs=i}}else Z(this,function(a){var i=a[r][n];(i.event||(i.event=ho.dispatch("start","end","interrupt"))).on(e,t)});return this},Us.transition=function(){for(var e,t,n,r,a=this.id,i=++Gs,o=this.namespace,l=[],s=0,c=this.length;s<c;s++){l.push(e=[]);for(var t=this[s],u=0,f=t.length;u<f;u++)(n=t[u])&&(r=n[o][a],ao(n,u,o,i,{time:r.time,ease:r.ease,delay:r.delay+r.duration,duration:r.duration})),e.push(n)}return eo(l,o,i)},ho.svg.axis=function(){function e(e){e.each(function(){var e,c=ho.select(this),u=this.__chart__||n,f=this.__chart__=n.copy(),d=null==s?f.ticks?f.ticks.apply(f,l):f.domain():s,h=null==t?f.tickFormat?f.tickFormat.apply(f,l):k:t,p=c.selectAll(".tick").data(d,f),g=p.enter().insert("g",".domain").attr("class","tick").style("opacity",Bo),v=ho.transition(p.exit()).style("opacity",Bo).remove(),y=ho.transition(p.order()).style("opacity",1),m=Math.max(a,0)+o,x=Wa(f),b=c.selectAll(".domain").data([0]),_=(b.enter().append("path").attr("class","domain"),ho.transition(b));g.append("line"),g.append("text");var w,M,A,T,S=g.select("line"),L=y.select("line"),C=p.select("text").text(h),O=g.select("text"),z=y.select("text"),j="top"===r||"left"===r?-1:1;if("bottom"===r||"top"===r?(e=io,w="x",A="y",M="x2",T="y2",C.attr("dy",j<0?"0em":".71em").style("text-anchor","middle"),_.attr("d","M"+x[0]+","+j*i+"V0H"+x[1]+"V"+j*i)):(e=oo,w="y",A="x",M="y2",T="x2",C.attr("dy",".32em").style("text-anchor",j<0?"end":"start"),_.attr("d","M"+j*i+","+x[0]+"H0V"+x[1]+"H"+j*i)),S.attr(T,j*a),O.attr(A,j*m),L.attr(M,0).attr(T,j*a),z.attr(w,0).attr(A,j*m),f.rangeBand){var D=f,I=D.rangeBand()/2;u=f=function(e){return D(e)+I}}else u.rangeBand?u=f:v.call(e,f,u);g.call(e,u,f),y.call(e,f,f)})}var t,n=ho.scale.linear(),r=Xs,a=6,i=6,o=3,l=[10],s=null;return e.scale=function(t){return arguments.length?(n=t,e):n},e.orient=function(t){return arguments.length?(r=t in Ys?t+"":Xs,e):r},e.ticks=function(){return arguments.length?(l=go(arguments),e):l},e.tickValues=function(t){return arguments.length?(s=t,e):s},e.tickFormat=function(n){return arguments.length?(t=n,e):t},e.tickSize=function(t){var n=arguments.length;return n?(a=+t,i=+arguments[n-1],e):a},e.innerTickSize=function(t){return arguments.length?(a=+t,e):a},e.outerTickSize=function(t){return arguments.length?(i=+t,e):i},e.tickPadding=function(t){return arguments.length?(o=+t,e):o},e.tickSubdivide=function(){return arguments.length&&e},e};var Xs="bottom",Ys={top:1,right:1,bottom:1,left:1};ho.svg.brush=function(){function e(i){i.each(function(){var i=ho.select(this).style("pointer-events","all").style("-webkit-tap-highlight-color","rgba(0,0,0,0)").on("mousedown.brush",a).on("touchstart.brush",a),o=i.selectAll(".background").data([0]);o.enter().append("rect").attr("class","background").style("visibility","hidden").style("cursor","crosshair"),i.selectAll(".extent").data([0]).enter().append("rect").attr("class","extent").style("cursor","move");var l=i.selectAll(".resize").data(g,k);l.exit().remove(),l.enter().append("g").attr("class",function(e){return"resize "+e}).style("cursor",function(e){return Zs[e]}).append("rect").attr("x",function(e){return/[ew]$/.test(e)?-3:null}).attr("y",function(e){return/^[ns]/.test(e)?-3:null}).attr("width",6).attr("height",6).style("visibility","hidden"),l.style("display",e.empty()?"none":null);var s,f=ho.transition(i),d=ho.transition(o);c&&(s=Wa(c),d.attr("x",s[0]).attr("width",s[1]-s[0]),n(f)),u&&(s=Wa(u),d.attr("y",s[0]).attr("height",s[1]-s[0]),r(f)),t(f)})}function t(e){e.selectAll(".resize").attr("transform",function(e){return"translate("+f[+/e$/.test(e)]+","+d[+/^s/.test(e)]+")"})}function n(e){e.select(".extent").attr("x",f[0]),e.selectAll(".extent,.n>rect,.s>rect").attr("width",f[1]-f[0])}function r(e){e.select(".extent").attr("y",d[0]),e.selectAll(".extent,.e>rect,.w>rect").attr("height",d[1]-d[0])}function a(){function a(){32==ho.event.keyCode&&(L||(x=null,z[0]-=f[1],z[1]-=d[1],L=2),C())}function g(){32==ho.event.keyCode&&2==L&&(z[0]+=f[1],z[1]+=d[1],L=0,C())}function v(){var e=ho.mouse(_),a=!1;b&&(e[0]+=b[0],e[1]+=b[1]),L||(ho.event.altKey?(x||(x=[(f[0]+f[1])/2,(d[0]+d[1])/2]),z[0]=f[+(e[0]<x[0])],z[1]=d[+(e[1]<x[1])]):x=null),T&&y(e,c,0)&&(n(M),a=!0),S&&y(e,u,1)&&(r(M),a=!0),a&&(t(M),k({type:"brush",mode:L?"move":"resize"}))}function y(e,t,n){var r,a,o=Wa(t),s=o[0],c=o[1],u=z[n],g=n?d:f,v=g[1]-g[0];if(L&&(s-=u,c-=v+u),r=(n?p:h)?Math.max(s,Math.min(c,e[n])):e[n],L?a=(r+=u)+v:(x&&(u=Math.max(s,Math.min(c,2*x[n]-r))),u<r?(a=r,r=u):a=u),g[0]!=r||g[1]!=a)return n?l=null:i=null,g[0]=r,g[1]=a,!0}function m(){v(),M.style("pointer-events","all").selectAll(".resize").style("display",e.empty()?"none":null),ho.select("body").style("cursor",null),j.on("mousemove.brush",null).on("mouseup.brush",null).on("touchmove.brush",null).on("touchend.brush",null).on("keydown.brush",null).on("keyup.brush",null),O(),k({type:"brushend"})}var x,b,_=this,w=ho.select(ho.event.target),k=s.of(_,arguments),M=ho.select(_),A=w.datum(),T=!/^(n|s)$/.test(A)&&c,S=!/^(e|w)$/.test(A)&&u,L=w.classed("extent"),O=ee(_),z=ho.mouse(_),j=ho.select(o(_)).on("keydown.brush",a).on("keyup.brush",g);if(ho.event.changedTouches?j.on("touchmove.brush",v).on("touchend.brush",m):j.on("mousemove.brush",v).on("mouseup.brush",m),M.interrupt().selectAll("*").interrupt(),L)z[0]=f[0]-z[0],z[1]=d[0]-z[1];else if(A){var D=+/w$/.test(A),I=+/^n/.test(A);b=[f[1-D]-z[0],d[1-I]-z[1]],z[0]=f[D],z[1]=d[I]}else ho.event.altKey&&(x=z.slice());M.style("pointer-events","none").selectAll(".resize").style("display",null),ho.select("body").style("cursor",w.style("cursor")),k({type:"brushstart"}),v()}var i,l,s=z(e,"brushstart","brush","brushend"),c=null,u=null,f=[0,0],d=[0,0],h=!0,p=!0,g=Ws[0];return e.event=function(e){e.each(function(){var e=s.of(this,arguments),t={x:f,y:d,i:i,j:l},n=this.__chart__||t;this.__chart__=t,qs?ho.select(this).transition().each("start.brush",function(){i=n.i,l=n.j,f=n.x,d=n.y,e({type:"brushstart"})}).tween("brush:brush",function(){var n=Ar(f,t.x),r=Ar(d,t.y);return i=l=null,function(a){f=t.x=n(a),d=t.y=r(a),e({type:"brush",mode:"resize"})}}).each("end.brush",function(){i=t.i,l=t.j,e({type:"brush",mode:"resize"}),e({type:"brushend"})}):(e({type:"brushstart"}),e({type:"brush",mode:"resize"}),e({type:"brushend"}))})},e.x=function(t){return arguments.length?(c=t,g=Ws[!c<<1|!u],e):c},e.y=function(t){return arguments.length?(u=t,g=Ws[!c<<1|!u],e):u},e.clamp=function(t){return arguments.length?(c&&u?(h=!!t[0],p=!!t[1]):c?h=!!t:u&&(p=!!t),e):c&&u?[h,p]:c?h:u?p:null},e.extent=function(t){var n,r,a,o,s;return arguments.length?(c&&(n=t[0],r=t[1],u&&(n=n[0],r=r[0]),i=[n,r],c.invert&&(n=c(n),r=c(r)),r<n&&(s=n,n=r,r=s),n==f[0]&&r==f[1]||(f=[n,r])),u&&(a=t[0],o=t[1],c&&(a=a[1],o=o[1]),l=[a,o],u.invert&&(a=u(a),o=u(o)),o<a&&(s=a,a=o,o=s),a==d[0]&&o==d[1]||(d=[a,o])),e):(c&&(i?(n=i[0],r=i[1]):(n=f[0],r=f[1],c.invert&&(n=c.invert(n),r=c.invert(r)),r<n&&(s=n,n=r,r=s))),u&&(l?(a=l[0],o=l[1]):(a=d[0],o=d[1],u.invert&&(a=u.invert(a),o=u.invert(o)),o<a&&(s=a,a=o,o=s))),c&&u?[[n,a],[r,o]]:c?[n,r]:u&&[a,o])},e.clear=function(){return e.empty()||(f=[0,0],d=[0,0],i=l=null),e},e.empty=function(){return!!c&&f[0]==f[1]||!!u&&d[0]==d[1]},ho.rebind(e,s,"on")};var Zs={n:"ns-resize",e:"ew-resize",s:"ns-resize",w:"ew-resize",nw:"nwse-resize",ne:"nesw-resize",se:"nwse-resize",sw:"nesw-resize"},Ws=[["n","e","s","w","nw","ne","se","sw"],["e","w"],["n","s"],[]],Qs=gl.format=_l.timeFormat,$s=Qs.utc,Js=$s("%Y-%m-%dT%H:%M:%S.%LZ");Qs.iso=Date.prototype.toISOString&&+new Date("2000-01-01T00:00:00.000Z")?lo:Js,lo.parse=function(e){var t=new Date(e);return isNaN(t)?null:t},lo.toString=Js.toString,gl.second=Ge(function(e){return new vl(1e3*Math.floor(e/1e3))},function(e,t){e.setTime(e.getTime()+1e3*Math.floor(t))},function(e){return e.getSeconds()}),gl.seconds=gl.second.range,gl.seconds.utc=gl.second.utc.range,gl.minute=Ge(function(e){return new vl(6e4*Math.floor(e/6e4))},function(e,t){e.setTime(e.getTime()+6e4*Math.floor(t))},function(e){return e.getMinutes()}),gl.minutes=gl.minute.range,gl.minutes.utc=gl.minute.utc.range,gl.hour=Ge(function(e){var t=e.getTimezoneOffset()/60;return new vl(36e5*(Math.floor(e/36e5-t)+t))},function(e,t){e.setTime(e.getTime()+36e5*Math.floor(t))},function(e){return e.getHours()}),gl.hours=gl.hour.range,gl.hours.utc=gl.hour.utc.range,gl.month=Ge(function(e){return e=gl.day(e),e.setDate(1),e},function(e,t){e.setMonth(e.getMonth()+t)},function(e){return e.getMonth()}),gl.months=gl.month.range,gl.months.utc=gl.month.utc.range;var Ks=[1e3,5e3,15e3,3e4,6e4,3e5,9e5,18e5,36e5,108e5,216e5,432e5,864e5,1728e5,6048e5,2592e6,7776e6,31536e6],ec=[[gl.second,1],[gl.second,5],[gl.second,15],[gl.second,30],[gl.minute,1],[gl.minute,5],[gl.minute,15],[gl.minute,30],[gl.hour,1],[gl.hour,3],[gl.hour,6],[gl.hour,12],[gl.day,1],[gl.day,2],[gl.week,1],[gl.month,1],[gl.month,3],[gl.year,1]],tc=Qs.multi([[".%L",function(e){return e.getMilliseconds()}],[":%S",function(e){return e.getSeconds()}],["%I:%M",function(e){return e.getMinutes()}],["%I %p",function(e){return e.getHours()}],["%a %d",function(e){return e.getDay()&&1!=e.getDate()}],["%b %d",function(e){return 1!=e.getDate()}],["%B",function(e){return e.getMonth()}],["%Y",It]]),nc={range:function(e,t,n){return ho.range(Math.ceil(e/n)*n,+t,n).map(co)},floor:k,ceil:k};ec.year=gl.year,gl.scale=function(){return so(ho.scale.linear(),ec,tc)};var rc=ec.map(function(e){return[e[0].utc,e[1]]}),ac=$s.multi([[".%L",function(e){return e.getUTCMilliseconds()}],[":%S",function(e){return e.getUTCSeconds()}],["%I:%M",function(e){return e.getUTCMinutes()}],["%I %p",function(e){return e.getUTCHours()}],["%a %d",function(e){return e.getUTCDay()&&1!=e.getUTCDate()}],["%b %d",function(e){return 1!=e.getUTCDate()}],["%B",function(e){return e.getUTCMonth()}],["%Y",It]]);rc.year=gl.year.utc,gl.scale.utc=function(){return so(ho.scale.linear(),rc,ac)},ho.text=je(function(e){return e.responseText}),ho.json=function(e,t){return De(e,"application/json",uo,t)},ho.html=function(e,t){return De(e,"text/html",fo,t)},ho.xml=je(function(e){return e.responseXML}),this.d3=ho,r=ho,void 0!==(a="function"==typeof r?r.call(t,n,t,e):r)&&(e.exports=a)}()},function(e,t,n){"use strict";function r(e){for(var t,n=e.length,r=0;r<n;r++)if(((t=e.charCodeAt(r))<9||t>13)&&32!==t&&133!==t&&160!==t&&5760!==t&&6158!==t&&(t<8192||t>8205)&&8232!==t&&8233!==t&&8239!==t&&8287!==t&&8288!==t&&12288!==t&&65279!==t)return!1;return!0}e.exports=function(e){var t=typeof e;if("string"===t){var n=e;if(0===(e=+e)&&r(n))return!1}else if("number"!==t)return!1;return e-e<1}},function(e,t,n){"use strict";function r(e){if(i(e)||"string"!=typeof e)return e;var t=e.trim();if("rgb"!==t.substr(0,3))return e;var n=t.match(/^rgba?\s*\(([^()]*)\)$/);if(!n)return e;var r=n[1].trim().split(/\s*[\s,]\s*/),a="a"===t.charAt(3)&&4===r.length;if(!a&&3!==r.length)return e;for(var o=0;o<r.length;o++){if(!r[o].length)return e;if(r[o]=Number(r[o]),!(r[o]>=0))return e;if(3===o)r[o]>1&&(r[o]=1);else if(r[o]>=1)return e}var l=Math.round(255*r[0])+", "+Math.round(255*r[1])+", "+Math.round(255*r[2]);return a?"rgba("+l+", "+r[3]+")":"rgb("+l+")"}var a=n(75),i=n(59),o=e.exports={},l=n(79);o.defaults=l.defaults;var s=o.defaultLine=l.defaultLine;o.lightLine=l.lightLine;var c=o.background=l.background;o.tinyRGB=function(e){var t=e.toRgb();return"rgb("+Math.round(t.r)+", "+Math.round(t.g)+", "+Math.round(t.b)+")"},o.rgb=function(e){return o.tinyRGB(a(e))},o.opacity=function(e){return e?a(e).getAlpha():0},o.addOpacity=function(e,t){var n=a(e).toRgb();return"rgba("+Math.round(n.r)+", "+Math.round(n.g)+", "+Math.round(n.b)+", "+t+")"},o.combine=function(e,t){var n=a(e).toRgb();if(1===n.a)return a(e).toRgbString();var r=a(t||c).toRgb(),i=1===r.a?r:{r:255*(1-r.a)+r.r*r.a,g:255*(1-r.a)+r.g*r.a,b:255*(1-r.a)+r.b*r.a},o={r:i.r*(1-n.a)+n.r*n.a,g:i.g*(1-n.a)+n.g*n.a,b:i.b*(1-n.a)+n.b*n.a};return a(o).toRgbString()},o.contrast=function(e,t,n){var r=a(e);return 1!==r.getAlpha()&&(r=a(o.combine(e,c))),(r.isDark()?t?r.lighten(t):c:n?r.darken(n):s).toString()},o.stroke=function(e,t){var n=a(t);e.style({stroke:o.tinyRGB(n),"stroke-opacity":n.getAlpha()})},o.fill=function(e,t){var n=a(t);e.style({fill:o.tinyRGB(n),"fill-opacity":n.getAlpha()})},o.clean=function(e){if(e&&"object"==typeof e){var t,n,a,i,l=Object.keys(e);for(t=0;t<l.length;t++)if(a=l[t],i=e[a],"color"===a.substr(a.length-5))if(Array.isArray(i))for(n=0;n<i.length;n++)i[n]=r(i[n]);else e[a]=r(i);else if("colorscale"===a.substr(a.length-10)&&Array.isArray(i))for(n=0;n<i.length;n++)Array.isArray(i[n])&&(i[n][1]=r(i[n][1]));else if(Array.isArray(i)){var s=i[0];if(!Array.isArray(s)&&s&&"object"==typeof s)for(n=0;n<i.length;n++)o.clean(i[n])}else i&&"object"==typeof i&&o.clean(i)}}},function(e,t,n){"use strict";function r(e){if(e.layoutAttributes){var n=e.layoutAttributes._arrayAttrRegexps;if(n)for(var r=0;r<n.length;r++)u(t.layoutArrayRegexes,n[r])}}function a(e,n){var r=t.componentsRegistry[e].schema;if(r&&r.traces){var a=r.traces[n];a&&h(t.modules[n]._module.attributes,a)}}function i(e,n){var r=t.componentsRegistry[e].schema;if(r&&r.transforms){var a=r.transforms[n];a&&h(t.transformsRegistry[n].attributes,a)}}function o(e,n){var r=t.componentsRegistry[e].schema;if(r&&r.subplots){var a=t.subplotsRegistry[n],i=a.layoutAttributes,o="subplot"===a.attr?a.name:a.attr;Array.isArray(o)&&(o=o[0]);var l=r.subplots[o];i&&l&&h(i,l)}}function l(e){return"object"==typeof e&&(e=e.type),e}var s=n(100),c=n(138),u=n(173),f=n(67),d=f.extendFlat,h=f.extendDeepAll,p=n(116),g=n(102);t.modules={},t.allCategories={},t.allTypes=[],t.subplotsRegistry={},t.transformsRegistry={},t.componentsRegistry={},t.layoutArrayContainers=[],t.layoutArrayRegexes=[],t.traceLayoutAttributes={},t.register=function(e,n,r,i){if(t.modules[n])return void s.log("Type "+n+" already registered");for(var o={},l=0;l<r.length;l++)o[r[l]]=!0,t.allCategories[r[l]]=!0;t.modules[n]={_module:e,categories:o},i&&Object.keys(i).length&&(t.modules[n].meta=i),t.allTypes.push(n);for(var c in t.componentsRegistry)a(c,n);e.layoutAttributes&&d(t.traceLayoutAttributes,e.layoutAttributes)},t.registerSubplot=function(e){var n=e.name;if(t.subplotsRegistry[n])return void s.log("Plot type "+n+" already registered.");r(e),t.subplotsRegistry[n]=e;for(var a in t.componentsRegistry)o(a,e.name)},t.registerComponent=function(e){var n=e.name;t.componentsRegistry[n]=e,e.layoutAttributes&&(e.layoutAttributes._isLinkedToArray&&u(t.layoutArrayContainers,n),r(e));for(var l in t.modules)a(n,l);for(var s in t.subplotsRegistry)o(n,s);for(var c in t.transformsRegistry)i(n,c);e.schema&&e.schema.layout&&h(g,e.schema.layout)},t.registerTransform=function(e){t.transformsRegistry[e.name]=e;for(var n in t.componentsRegistry)i(n,e.name)},t.getModule=function(e){if(void 0!==e.r)return s.warn("Tried to put a polar trace on an incompatible graph of cartesian data. Ignoring this dataset.",e),!1;var n=t.modules[l(e)];return!!n&&n._module},t.traceIs=function(e,n){if("various"===(e=l(e)))return!1;var r=t.modules[e];return r||(e&&"area"!==e&&s.log("Unrecognized trace type "+e+"."),r=t.modules[p.type.dflt]),!!r.categories[n]},t.getTransformIndices=function(e,t){for(var n=[],r=e.transforms||[],a=0;a<r.length;a++)r[a].type===t&&n.push(a);return n},t.hasTransform=function(e,t){for(var n=e.transforms||[],r=0;r<n.length;r++)if(n[r].type===t)return!0;return!1},t.getComponentMethod=function(e,n){var r=t.componentsRegistry[e];return r?r[n]||c:c}},function(e,t,n){"use strict";function r(e,t,n,r,a,i,o,l){if(c.traceIs(n,"symbols")){var s=m(n);t.attr("d",function(e){var t;t="various"===e.ms||"various"===i.size?3:y.isBubble(n)?s(e.ms):(i.size||6)/2,e.mrc=t;var r=x.symbolNumber(e.mx||i.symbol)||0,a=r%100;return e.om=r%200>=100,x.symbolFuncs[a](t)+(r>=200?w:"")}).style("opacity",function(e){return(e.mo+1||i.opacity+1)-1})}var f,d,h,p=!1;if(e.so?(h=o.outlierwidth,d=o.outliercolor,f=i.outliercolor):(h=(e.mlw+1||o.width+1||(e.trace?e.trace.marker.line.width:0)+1)-1,d="mlc"in e?e.mlcc=a(e.mlc):Array.isArray(o.color)?u.defaultLine:o.color,Array.isArray(i.color)&&(f=u.defaultLine,p=!0),f="mc"in e?e.mcc=r(e.mc):i.color||"rgba(0,0,0,0)"),e.om)t.call(u.stroke,f).style({"stroke-width":(h||1)+"px",fill:"none"});else{t.style("stroke-width",h+"px");var g=i.gradient,v=e.mgt;if(v?p=!0:v=g&&g.type,v&&"none"!==v){var b=e.mgc;b?p=!0:b=g.color;var _="g"+l._fullLayout._uid+"-"+n.uid;p&&(_+="-"+e.i),t.call(x.gradient,l,_,v,f,b)}else t.call(u.fill,f);h&&t.call(u.stroke,d)}}function a(e,t,n,r){var a=e[0]-t[0],i=e[1]-t[1],l=n[0]-t[0],s=n[1]-t[1],c=Math.pow(a*a+i*i,T/2),u=Math.pow(l*l+s*s,T/2),f=(u*u*a-c*c*l)*r,d=(u*u*i-c*c*s)*r,h=3*u*(c+u),p=3*c*(c+u);return[[o.round(t[0]+(h&&f/h),2),o.round(t[1]+(h&&d/h),2)],[o.round(t[0]-(p&&f/p),2),o.round(t[1]-(p&&d/p),2)]]}function i(e){var t=e.getAttribute("data-unformatted");if(null!==t)return t+e.getAttribute("data-math")+e.getAttribute("text-anchor")+e.getAttribute("style")}var o=n(58),l=n(59),s=n(75),c=n(61),u=n(60),f=n(184),d=n(57),h=n(70),p=n(103),g=n(71),v=g.LINE_SPACING,y=n(72),m=n(258),x=e.exports={};x.font=function(e,t,n,r){d.isPlainObject(t)&&(r=t.color,n=t.size,t=t.family),t&&e.style("font-family",t),n+1&&e.style("font-size",n+"px"),r&&e.call(u.fill,r)},x.setPosition=function(e,t,n){e.attr("x",t).attr("y",n)},x.setSize=function(e,t,n){e.attr("width",t).attr("height",n)},x.setRect=function(e,t,n,r,a){e.call(x.setPosition,t,n).call(x.setSize,r,a)},x.translatePoint=function(e,t,n,r){var a=n.c2p(e.x),i=r.c2p(e.y);return!!(l(a)&&l(i)&&t.node())&&("text"===t.node().nodeName?t.attr("x",a).attr("y",i):t.attr("transform","translate("+a+","+i+")"),!0)},x.translatePoints=function(e,t,n){e.each(function(e){var r=o.select(this);x.translatePoint(e,r,t,n)})},x.hideOutsideRangePoint=function(e,t,n,r){t.attr("display",n.isPtWithinRange(e)&&r.isPtWithinRange(e)?null:"none")},x.hideOutsideRangePoints=function(e,t){if(t._hasClipOnAxisFalse){var n=t.xaxis,r=t.yaxis;e.each(function(e){x.hideOutsideRangePoint(e,o.select(this),n,r)})}},x.crispRound=function(e,t,n){return t&&l(t)?e._context.staticPlot?t:t<1?1:Math.round(t):n||0},x.singleLineStyle=function(e,t,n,r,a){t.style("fill","none");var i=(((e||[])[0]||{}).trace||{}).line||{},o=n||i.width||0,l=a||i.dash||"";u.stroke(t,r||i.color),x.dashLine(t,l,o)},x.lineGroupStyle=function(e,t,n,r){e.style("fill","none").each(function(e){var a=(((e||[])[0]||{}).trace||{}).line||{},i=t||a.width||0,l=r||a.dash||"";o.select(this).call(u.stroke,n||a.color).call(x.dashLine,l,i)})},x.dashLine=function(e,t,n){n=+n||0,t=x.dashStyle(t,n),e.style({"stroke-dasharray":t,"stroke-width":n+"px"})},x.dashStyle=function(e,t){t=+t||1;var n=Math.max(t,3);return"solid"===e?e="":"dot"===e?e=n+"px,"+n+"px":"dash"===e?e=3*n+"px,"+3*n+"px":"longdash"===e?e=5*n+"px,"+5*n+"px":"dashdot"===e?e=3*n+"px,"+n+"px,"+n+"px,"+n+"px":"longdashdot"===e&&(e=5*n+"px,"+2*n+"px,"+n+"px,"+2*n+"px"),e},x.singleFillStyle=function(e){var t=o.select(e.node()),n=t.data(),r=(((n[0]||[])[0]||{}).trace||{}).fillcolor;r&&e.call(u.fill,r)},x.fillGroupStyle=function(e){e.style("stroke-width",0).each(function(t){var n=o.select(this);try{n.call(u.fill,t[0].trace.fillcolor)}catch(t){d.error(t,e),n.remove()}})};var b=n(259);x.symbolNames=[],x.symbolFuncs=[],x.symbolNeedLines={},x.symbolNoDot={},x.symbolList=[],Object.keys(b).forEach(function(e){var t=b[e];x.symbolList=x.symbolList.concat([t.n,e,t.n+100,e+"-open"]),x.symbolNames[t.n]=e,x.symbolFuncs[t.n]=t.f,t.needLine&&(x.symbolNeedLines[t.n]=!0),t.noDot?x.symbolNoDot[t.n]=!0:x.symbolList=x.symbolList.concat([t.n+200,e+"-dot",t.n+300,e+"-open-dot"])});var _=x.symbolNames.length,w="M0,0.5L0.5,0L0,-0.5L-0.5,0Z";x.symbolNumber=function(e){if("string"==typeof e){var t=0;e.indexOf("-open")>0&&(t=100,e=e.replace("-open","")),e.indexOf("-dot")>0&&(t+=200,e=e.replace("-dot","")),e=x.symbolNames.indexOf(e),e>=0&&(e+=t)}return e%100>=_||e>=400?0:Math.floor(Math.max(e,0))};var k={x1:1,x2:0,y1:0,y2:0},M={x1:0,x2:0,y1:1,y2:0};x.gradient=function(e,t,n,r,a,i){var l=t._fullLayout._defs.select(".gradients").selectAll("#"+n).data([r+a+i],d.identity);l.exit().remove(),l.enter().append("radial"===r?"radialGradient":"linearGradient").each(function(){var e=o.select(this);"horizontal"===r?e.attr(k):"vertical"===r&&e.attr(M),e.attr("id",n);var t=s(a),l=s(i);e.append("stop").attr({offset:"0%","stop-color":u.tinyRGB(l),"stop-opacity":l.getAlpha()}),e.append("stop").attr({offset:"100%","stop-color":u.tinyRGB(t),"stop-opacity":t.getAlpha()})}),e.style({fill:"url(#"+n+")","fill-opacity":null})},x.initGradients=function(e){var t=e._fullLayout._defs.selectAll(".gradients").data([0]);t.enter().append("g").classed("gradients",!0),t.selectAll("linearGradient,radialGradient").remove()},x.singlePointStyle=function(e,t,n,a,i,o){var l=n.marker;r(e,t,n,a,i,l,l.line,o)},x.pointStyle=function(e,t,n){if(e.size()){var r=t.marker,a=x.tryColorscale(r,""),i=x.tryColorscale(r,"line");e.each(function(e){x.singlePointStyle(e,o.select(this),t,a,i,n)})}},x.tryColorscale=function(e,t){var n=t?d.nestedProperty(e,t).get():e,r=n.colorscale,a=n.color;return r&&Array.isArray(a)?f.makeColorScaleFunc(f.extractScale(r,n.cmin,n.cmax)):d.identity};var A={start:1,end:-1,middle:0,bottom:1,top:-1};x.textPointStyle=function(e,t,n){e.each(function(e){var r=o.select(this),a=d.extractOption(e,t,"tx","text");if(!a)return void r.remove();var i=e.tp||t.textposition,s=-1!==i.indexOf("top")?"top":-1!==i.indexOf("bottom")?"bottom":"middle",c=-1!==i.indexOf("left")?"end":-1!==i.indexOf("right")?"start":"middle",u=e.ts||t.textfont.size,f=e.mrc?e.mrc/.8+1:0;u=l(u)&&u>0?u:0,r.call(x.font,e.tf||t.textfont.family,u,e.tc||t.textfont.color).attr("text-anchor",c).text(a).call(h.convertToTspans,n);var p=o.select(this.parentNode),g=(h.lineCount(r)-1)*v+1,y=A[c]*f,m=.75*u+A[s]*f+(A[s]-1)*g*u/2;p.attr("transform","translate("+y+","+m+")")})};var T=.5;x.smoothopen=function(e,t){if(e.length<3)return"M"+e.join("L");var n,r="M"+e[0],i=[];for(n=1;n<e.length-1;n++)i.push(a(e[n-1],e[n],e[n+1],t));for(r+="Q"+i[0][0]+" "+e[1],n=2;n<e.length-1;n++)r+="C"+i[n-2][1]+" "+i[n-1][0]+" "+e[n];return r+="Q"+i[e.length-3][1]+" "+e[e.length-1]},x.smoothclosed=function(e,t){if(e.length<3)return"M"+e.join("L")+"Z";var n,r="M"+e[0],i=e.length-1,o=[a(e[i],e[0],e[1],t)];for(n=1;n<i;n++)o.push(a(e[n-1],e[n],e[n+1],t));for(o.push(a(e[i-1],e[i],e[0],t)),n=1;n<=i;n++)r+="C"+o[n-1][1]+" "+o[n][0]+" "+e[n];return r+="C"+o[i][1]+" "+o[0][0]+" "+e[0]+"Z"};var S={hv:function(e,t){return"H"+o.round(t[0],2)+"V"+o.round(t[1],2)},vh:function(e,t){return"V"+o.round(t[1],2)+"H"+o.round(t[0],2)},hvh:function(e,t){return"H"+o.round((e[0]+t[0])/2,2)+"V"+o.round(t[1],2)+"H"+o.round(t[0],2)},vhv:function(e,t){return"V"+o.round((e[1]+t[1])/2,2)+"H"+o.round(t[0],2)+"V"+o.round(t[1],2)}},L=function(e,t){return"L"+o.round(t[0],2)+","+o.round(t[1],2)};x.steps=function(e){var t=S[e]||L;return function(e){for(var n="M"+o.round(e[0][0],2)+","+o.round(e[0][1],2),r=1;r<e.length;r++)n+=t(e[r-1],e[r]);return n}},x.makeTester=function(){var e=o.select("body").selectAll("#js-plotly-tester").data([0]);e.enter().append("svg").attr("id","js-plotly-tester").attr(p.svgAttrs).style({position:"absolute",left:"-10000px",top:"-10000px",width:"9000px",height:"9000px","z-index":"1"});var t=e.selectAll(".js-reference-point").data([0]);t.enter().append("path").classed("js-reference-point",!0).attr("d","M0,0H1V1H0Z").style({"stroke-width":0,fill:"black"}),x.tester=e,x.testref=t},x.savedBBoxes={};var C=0;x.bBox=function(e,t,n){n||(n=i(e));var r;if(n){if(r=x.savedBBoxes[n])return d.extendFlat({},r)}else if(1===e.childNodes.length){var a=e.childNodes[0];if(n=i(a)){var l=+a.getAttribute("x")||0,s=+a.getAttribute("y")||0,c=a.getAttribute("transform");if(!c){var u=x.bBox(a,!1,n);return l&&(u.left+=l,u.right+=l),s&&(u.top+=s,u.bottom+=s),u}if(n+="~"+l+"~"+s+"~"+c,r=x.savedBBoxes[n])return d.extendFlat({},r)}}var f,p;t?f=e:(p=x.tester.node(),f=e.cloneNode(!0),p.appendChild(f)),o.select(f).attr("transform",null).call(h.positionText,0,0);var g=f.getBoundingClientRect(),v=x.testref.node().getBoundingClientRect();t||p.removeChild(f);var y={height:g.height,width:g.width,left:g.left-v.left,top:g.top-v.top,right:g.right-v.left,bottom:g.bottom-v.top};return C>=1e4&&(x.savedBBoxes={},C=0),n&&(x.savedBBoxes[n]=y),C++,d.extendFlat({},y)},x.setClipUrl=function(e,t){if(!t)return void e.attr("clip-path",null);var n="#"+t,r=o.select("base");r.size()&&r.attr("href")&&(n=window.location.href.split("#")[0]+n),e.attr("clip-path","url("+n+")")},x.getTranslate=function(e){var t=/.*\btranslate\((-?\d*\.?\d*)[^-\d]*(-?\d*\.?\d*)[^\d].*/,n=e.attr?"attr":"getAttribute",r=e[n]("transform")||"",a=r.replace(t,function(e,t,n){return[t,n].join(" ")}).split(" ");return{x:+a[0]||0,y:+a[1]||0}},x.setTranslate=function(e,t,n){var r=/(\btranslate\(.*?\);?)/,a=e.attr?"attr":"getAttribute",i=e.attr?"attr":"setAttribute",o=e[a]("transform")||"";return t=t||0,n=n||0,o=o.replace(r,"").trim(),o+=" translate("+t+", "+n+")",o=o.trim(),e[i]("transform",o),o},x.getScale=function(e){var t=/.*\bscale\((\d*\.?\d*)[^\d]*(\d*\.?\d*)[^\d].*/,n=e.attr?"attr":"getAttribute",r=e[n]("transform")||"",a=r.replace(t,function(e,t,n){return[t,n].join(" ")}).split(" ");return{x:+a[0]||1,y:+a[1]||1}},x.setScale=function(e,t,n){var r=/(\bscale\(.*?\);?)/,a=e.attr?"attr":"getAttribute",i=e.attr?"attr":"setAttribute",o=e[a]("transform")||"";return t=t||1,n=n||1,o=o.replace(r,"").trim(),o+=" scale("+t+", "+n+")",o=o.trim(),e[i]("transform",o),o},x.setPointGroupScale=function(e,t,n){var r,a,i;return t=t||1,n=n||1,a=1===t&&1===n?"":" scale("+t+","+n+")",i=/\s*sc.*/,e.each(function(){r=(this.getAttribute("transform")||"").replace(i,""),r+=a,r=r.trim(),this.setAttribute("transform",r)}),a};var O=/translate\([^)]*\)\s*$/;x.setTextPointsScale=function(e,t,n){e.each(function(){var e,r=o.select(this),a=r.select("text");if(a.node()){var i=parseFloat(a.attr("x")||0),l=parseFloat(a.attr("y")||0),s=(r.attr("transform")||"").match(O);e=1===t&&1===n?[]:["translate("+i+","+l+")","scale("+t+","+n+")","translate("+-i+","+-l+")"],s&&e.push(s),r.attr("transform",e.join(" "))}})}},function(e,t,n){"use strict";function r(e){return+e}function a(e){return String(e)}function i(e,t,n,r,a){function i(t){return(1+100*(t-e)/n.dtick)%100<2}for(var o=0,l=0,s=0,c=0,u=0;u<t.length;u++)t[u]%1==0?s++:k(t[u])||c++,i(t[u])&&o++,i(t[u]+n.dtick/2)&&l++;var f=t.length-c;if(s===f&&"date"!==n.type)n.dtick<1?e=r-.5*n.dtick:(e-=.5)+n.dtick<r&&(e+=n.dtick);else if(l<.1*f&&(o>.3*f||i(r)||i(a))){var d=n.dtick/2;e+=e+d<r?d:-d}return e}function o(e,t,n,r,a){var i=A.findExactDates(t,a);if(i.exactDays>.8){var o=Number(n.substr(1));i.exactYears>.8&&o%12==0?e=B.tickIncrement(e,"M6","reverse")+1.5*I:i.exactMonths>.8?e=B.tickIncrement(e,"M1","reverse")+15.5*I:e-=I/2;var l=B.tickIncrement(e,n);if(l<=r)return l}return e}function l(e){var t,n,r=e.tickvals,a=e.ticktext,i=new Array(r.length),o=A.simpleMap(e.range,e.r2l),l=1.0001*o[0]-1e-4*o[1],s=1.0001*o[1]-1e-4*o[0],c=Math.min(l,s),f=Math.max(l,s),d=0;Array.isArray(a)||(a=[]);var h="category"===e.type?e.d2l_noadd:e.d2l;for("log"===e.type&&"L"!==String(e.dtick).charAt(0)&&(e.dtick="L"+Math.pow(10,Math.floor(Math.min(e.range[0],e.range[1]))-1)),n=0;n<r.length;n++)(t=h(r[n]))>c&&t<f&&(void 0===a[n]?i[d]=B.tickText(e,t):i[d]=u(e,t,String(a[n])),d++);return d<r.length&&i.splice(d,r.length-d),i}function s(e,t,n){return t*A.roundUp(e/t,n)}function c(e){var t=e.dtick;if(e._tickexponent=0,k(t)||"string"==typeof t||(t=1),"category"===e.type&&(e._tickround=null),"date"===e.type){var n=e.r2l(e.tick0),r=e.l2r(n).replace(/(^-|i)/g,""),a=r.length;if("M"===String(t).charAt(0))a>10||"01-01"!==r.substr(5)?e._tickround="d":e._tickround=+t.substr(1)%12==0?"y":"m";else if(t>=I&&a<=10||t>=15*I)e._tickround="d";else if(t>=E&&a<=16||t>=P)e._tickround="M";else if(t>=N&&a<=19||t>=E)e._tickround="S";else{var i=e.l2r(n+t).replace(/^-/,"").length;e._tickround=Math.max(a,i)-20}}else if(k(t)||"L"===t.charAt(0)){var o=e.range.map(e.r2d||Number);k(t)||(t=Number(t.substr(1))),e._tickround=2-Math.floor(Math.log(t)/Math.LN10+.01);var l=Math.max(Math.abs(o[0]),Math.abs(o[1])),s=Math.floor(Math.log(l)/Math.LN10+.01);Math.abs(s)>3&&(g(e.exponentformat)&&!v(s)?e._tickexponent=3*Math.round((s-1)/3):e._tickexponent=s)}else e._tickround=null}function u(e,t,n){var r=e.tickfont||{};return{x:t,dx:0,dy:0,text:n||"",fontSize:r.size,font:r.family,fontColor:r.color}}function f(e,t,n,r){var a=e._tickround,i=n&&e.hoverformat||e.tickformat;r&&(a=k(a)?4:{y:"m",m:"d",d:"M",M:"S",S:4}[a]);var o,l=A.formatDate(t.x,i,a,e.calendar),s=l.indexOf("\n");-1!==s&&(o=l.substr(s+1),l=l.substr(0,s)),r&&("00:00:00"===l||"00:00"===l?(l=o,o=""):8===l.length&&(l=l.replace(/:00$/,""))),o&&(n?"d"===a?l+=", "+o:l=o+(l?", "+l:""):e._inCalcTicks&&o===e._prevDateHead||(l+="<br>"+o,e._prevDateHead=o)),t.text=l}function d(e,t,n,r,a){var i=e.dtick,o=t.x;if("never"===a&&(a=""),!r||"string"==typeof i&&"L"===i.charAt(0)||(i="L3"),e.tickformat||"string"==typeof i&&"L"===i.charAt(0))t.text=y(Math.pow(10,o),e,a,r);else if(k(i)||"D"===i.charAt(0)&&A.mod(o+.01,1)<.1){var l=Math.round(o);-1!==["e","E","power"].indexOf(e.exponentformat)||g(e.exponentformat)&&v(l)?(t.text=0===l?1:1===l?"10":l>1?"10<sup>"+l+"</sup>":"10<sup>"+R+-l+"</sup>",t.fontSize*=1.25):(t.text=y(Math.pow(10,o),e,"","fakehover"),"D1"===i&&"y"===e._id.charAt(0)&&(t.dy-=t.fontSize/6))}else{if("D"!==i.charAt(0))throw"unrecognized dtick "+String(i);t.text=String(Math.round(Math.pow(10,A.mod(o,1)))),t.fontSize*=.75}if("D1"===e.dtick){var s=String(t.text).charAt(0);"0"!==s&&"1"!==s||("y"===e._id.charAt(0)?t.dx-=t.fontSize/4:(t.dy+=t.fontSize/2,t.dx+=(e.range[1]>e.range[0]?1:-1)*t.fontSize*(o<0?.5:.25)))}}function h(e,t){var n=e._categories[Math.round(t.x)];void 0===n&&(n=""),t.text=String(n)}function p(e,t,n,r,a){"never"===a?a="":"all"===e.showexponent&&Math.abs(t.x/e.dtick)<1e-6&&(a="hide"),t.text=y(t.x,e,a,r)}function g(e){return"SI"===e||"B"===e}function v(e){return e>14||e<-15}function y(e,t,n,r){var a=e<0,i=t._tickround,o=n||t.exponentformat||"B",l=t._tickexponent,s=t.tickformat,u=t.separatethousands;if(r){var f={exponentformat:t.exponentformat,dtick:"none"===t.showexponent?t.dtick:k(e)?Math.abs(e)||1:1,range:"none"===t.showexponent?t.range.map(t.r2d):[0,e||1]};c(f),i=(Number(f._tickround)||0)+4,l=f._tickexponent,t.hoverformat&&(s=t.hoverformat)}if(s)return w.format(s)(e).replace(/-/g,R);var d=Math.pow(10,-i)/2;if("none"===o&&(l=0),(e=Math.abs(e))<d)e="0",a=!1;else{if(e+=d,l&&(e*=Math.pow(10,-l),i+=l),0===i)e=String(Math.floor(e));else if(i<0){e=String(Math.round(e)),e=e.substr(0,e.length+i);for(var h=i;h<0;h++)e+="0"}else{e=String(e);var p=e.indexOf(".")+1;p&&(e=e.substr(0,p+i).replace(/\.?0+$/,""))}e=A.numSeparate(e,t._separators,u)}if(l&&"hide"!==o){g(o)&&v(l)&&(o="power");var y;y=l<0?R+-l:"power"!==o?"+"+l:String(l),"e"===o?e+="e"+y:"E"===o?e+="E"+y:"power"===o?e+="×10<sup>"+y+"</sup>":"B"===o&&9===l?e+="B":g(o)&&(e+=Q[l/3+5])}return a?R+e:e}function m(e,t){var n,r,a=[];for(n=0;n<t.length;n++){var i=[],o=e._fullData[t[n]].xaxis,l=e._fullData[t[n]].yaxis;if(o&&l){for(r=0;r<a.length;r++)-1===a[r].x.indexOf(o)&&-1===a[r].y.indexOf(l)||i.push(r);if(i.length){var s,c=a[i[0]];if(i.length>1)for(r=1;r<i.length;r++)s=a[i[r]],x(c.x,s.x),x(c.y,s.y);x(c.x,[o]),x(c.y,[l])}else a.push({x:[o],y:[l]})}}return a}function x(e,t){for(var n=0;n<t.length;n++)-1===e.indexOf(t[n])&&e.push(t[n])}function b(e,t,n){var r,a,i=[],o=[],l=e.layout;for(r=0;r<t.length;r++)i.push(B.getFromId(e,t[r]));for(r=0;r<n.length;r++)o.push(B.getFromId(e,n[r]));var s=Object.keys(i[0]),c=["anchor","domain","overlaying","position","side","tickangle"],u=["linear","log"];for(r=0;r<s.length;r++){var f=s[r],d=i[0][f],h=o[0][f],p=!0,g=!1,v=!1;if("_"!==f.charAt(0)&&"function"!=typeof d&&-1===c.indexOf(f)){for(a=1;a<i.length&&p;a++){var y=i[a][f];"type"===f&&-1!==u.indexOf(d)&&-1!==u.indexOf(y)&&d!==y?g=!0:y!==d&&(p=!1)}for(a=1;a<o.length&&p;a++){var m=o[a][f];"type"===f&&-1!==u.indexOf(h)&&-1!==u.indexOf(m)&&h!==m?v=!0:o[a][f]!==h&&(p=!1)}p&&(g&&(l[i[0]._name].type="linear"),v&&(l[o[0]._name].type="linear"),_(l,f,i,o))}}for(r=0;r<e._fullLayout.annotations.length;r++){var x=e._fullLayout.annotations[r];-1!==t.indexOf(x.xref)&&-1!==n.indexOf(x.yref)&&A.swapAttrs(l.annotations[r],["?"])}}function _(e,t,n,r){var a,i=A.nestedProperty,o=i(e[n[0]._name],t).get(),l=i(e[r[0]._name],t).get();for("title"===t&&("Click to enter X axis title"===o&&(o="Click to enter Y axis title"),"Click to enter Y axis title"===l&&(l="Click to enter X axis title")),a=0;a<n.length;a++)i(e,n[a]._name+"."+t).set(l);for(a=0;a<r.length;a++)i(e,r[a]._name+"."+t).set(o)}var w=n(58),k=n(59),M=n(61),A=n(57),T=n(70),S=n(152),L=n(60),C=n(62),O=n(69),z=O.FP_SAFE,j=O.ONEAVGYEAR,D=O.ONEAVGMONTH,I=O.ONEDAY,P=O.ONEHOUR,E=O.ONEMIN,N=O.ONESEC,R=O.MINUS_SIGN,F=n(71).MID_SHIFT,B=e.exports={};B.layoutAttributes=n(80),B.supplyLayoutDefaults=n(262),B.setConvert=n(192);var q=n(190),H=n(73);B.id2name=H.id2name,B.cleanId=H.cleanId,B.list=H.list,B.listIds=H.listIds,B.getFromId=H.getFromId,B.getFromTrace=H.getFromTrace,B.coerceRef=function(e,t,n,r,a,i){var o=r.charAt(r.length-1),l=B.listIds(n,o),s=r+"ref",c={};return a||(a=l[0]||i),i||(i=a),c[s]={valType:"enumerated",values:l.concat(i?[i]:[]),dflt:a},A.coerce(e,t,c,s)},B.coercePosition=function(e,t,n,r,a,i){var o,l;if("paper"===r||"pixel"===r)o=A.ensureNumber,l=n(a,i);else{var s=B.getFromId(t,r);i=s.fraction2r(i),l=n(a,i),o=s.cleanPos}e[a]=o(l)},B.cleanPosition=function(e,t,n){return("paper"===n||"pixel"===n?A.ensureNumber:B.getFromId(t,n).cleanPos)(e)};var V=B.getDataConversions=function(e,t,n,i){var o,l="x"===n||"y"===n||"z"===n?n:i;if(Array.isArray(l)){if(o={type:q(i),_categories:[]},B.setConvert(o),"category"===o.type)for(var s=0;s<i.length;s++)o.d2c(i[s])}else o=B.getFromTrace(e,t,l);return o?{d2c:o.d2c,c2d:o.c2d}:"ids"===l?{d2c:a,c2d:a}:{d2c:r,c2d:r}};B.getDataToCoordFunc=function(e,t,n,r){return V(e,t,n,r).d2c},B.counterLetter=function(e){var t=e.charAt(0);return"x"===t?"y":"y"===t?"x":void 0},B.minDtick=function(e,t,n,r){-1===["log","category"].indexOf(e.type)&&r?void 0===e._minDtick?(e._minDtick=t,e._forceTick0=n):e._minDtick&&((e._minDtick/t+1e-6)%1<2e-6&&((n-e._forceTick0)/t%1+1.000001)%1<2e-6?(e._minDtick=t,e._forceTick0=n):((t/e._minDtick+1e-6)%1>2e-6||((n-e._forceTick0)/e._minDtick%1+1.000001)%1>2e-6)&&(e._minDtick=0)):e._minDtick=0},B.getAutoRange=function(e){var t,n=[],r=e._min[0].val,a=e._max[0].val;for(t=1;t<e._min.length&&r===a;t++)r=Math.min(r,e._min[t].val);for(t=1;t<e._max.length&&r===a;t++)a=Math.max(a,e._max[t].val);var i,o,l,s,c,u,f,d=0,h=!1;if(e.range){var p=A.simpleMap(e.range,e.r2l);h=p[1]<p[0]}for("reversed"===e.autorange&&(h=!0,e.autorange=!0),t=0;t<e._min.length;t++)for(o=e._min[t],i=0;i<e._max.length;i++)l=e._max[i],f=l.val-o.val,u=e._length-o.pad-l.pad,f>0&&u>0&&f/u>d&&(s=o,c=l,d=f/u);if(r===a){var g=r-1,v=r+1;n="tozero"===e.rangemode?r<0?[g,0]:[0,v]:"nonnegative"===e.rangemode?[Math.max(0,g),Math.max(0,v)]:[g,v]}else d&&("linear"!==e.type&&"-"!==e.type||("tozero"===e.rangemode?(s.val>=0&&(s={val:0,pad:0}),c.val<=0&&(c={val:0,pad:0})):"nonnegative"===e.rangemode&&(s.val-d*s.pad<0&&(s={val:0,pad:0}),c.val<0&&(c={val:1,pad:0})),d=(c.val-s.val)/(e._length-s.pad-c.pad)),n=[s.val-d*s.pad,c.val+d*c.pad]);return n[0]===n[1]&&("tozero"===e.rangemode?n=n[0]<0?[n[0],0]:n[0]>0?[0,n[0]]:[0,1]:(n=[n[0]-1,n[0]+1],"nonnegative"===e.rangemode&&(n[0]=Math.max(0,n[0])))),h&&n.reverse(),A.simpleMap(n,e.l2r||Number)},B.doAutoRange=function(e){e._length||e.setScale();var t=e._min&&e._max&&e._min.length&&e._max.length;if(e.autorange&&t){e.range=B.getAutoRange(e),e._r=e.range.slice(),e._rl=A.simpleMap(e._r,e.r2l);var n=e._input;n.range=e.range.slice(),n.autorange=e.autorange}},B.saveRangeInitial=function(e,t){for(var n=B.list(e,"",!0),r=!1,a=0;a<n.length;a++){var i=n[a],o=void 0===i._rangeInitial,l=o||!(i.range[0]===i._rangeInitial[0]&&i.range[1]===i._rangeInitial[1]);(o&&!1===i.autorange||t&&l)&&(i._rangeInitial=i.range.slice(),r=!0)}return r},B.saveShowSpikeInitial=function(e,t){for(var n=B.list(e,"",!0),r=!1,a="on",i=0;i<n.length;i++){var o=n[i],l=void 0===o._showSpikeInitial,s=l||!(o.showspikes===o._showspikes);(l||t&&s)&&(o._showSpikeInitial=o.showspikes,r=!0),"on"!==a||o.showspikes||(a="off")}return e._fullLayout._cartesianSpikesEnabled=a,r},B.expand=function(e,t,n){function r(e){if(Array.isArray(e))return function(t){return Math.max(Number(e[t]||0),0)};var t=Math.max(Number(e||0),0);return function(){return t}}function a(n){function r(e){return k(e)&&Math.abs(e)<z}if(s=t[n],k(s)){if(f=x(n)+y,d=b(n)+y,p=s-w(n),g=s+_(n),"log"===e.type&&p<g/10&&(p=g/10),c=e.c2l(p),u=e.c2l(g),m&&(c=Math.min(0,c),u=Math.max(0,u)),r(c)){for(h=!0,o=0;o<e._min.length&&h;o++)l=e._min[o],l.val<=c&&l.pad>=d?h=!1:l.val>=c&&l.pad<=d&&(e._min.splice(o,1),o--);h&&e._min.push({val:c,pad:m&&0===c?0:d})}if(r(u)){for(h=!0,o=0;o<e._max.length&&h;o++)l=e._max[o],l.val>=u&&l.pad>=f?h=!1:l.val<=u&&l.pad<=f&&(e._max.splice(o,1),o--);h&&e._max.push({val:u,pad:m&&0===u?0:f})}}}if((e.autorange||!!A.nestedProperty(e,"rangeslider.autorange").get())&&t){e._min||(e._min=[]),e._max||(e._max=[]),n||(n={}),e._m||e.setScale();var i,o,l,s,c,u,f,d,h,p,g,v=t.length,y=n.padded?.05*e._length:0,m=n.tozero&&("linear"===e.type||"-"===e.type);y&&"domain"===e.constrain&&e._inputDomain&&(y*=(e._inputDomain[1]-e._inputDomain[0])/(e.domain[1]-e.domain[0]));var x=r((e._m>0?n.ppadplus:n.ppadminus)||n.ppad||0),b=r((e._m>0?n.ppadminus:n.ppadplus)||n.ppad||0),_=r(n.vpadplus||n.vpad),w=r(n.vpadminus||n.vpad);for(i=0;i<6;i++)a(i);for(i=v-1;i>5;i--)a(i)}},B.autoBin=function(e,t,n,r,a){var l=A.aggNums(Math.min,null,e),s=A.aggNums(Math.max,null,e);if(a||(a=t.calendar),"category"===t.type)return{start:l-.5,end:s+.5,size:1,_count:s-l+1};var c;if(n)c=(s-l)/n;else{var u=A.distinctVals(e),f=Math.pow(10,Math.floor(Math.log(u.minDiff)/Math.LN10)),d=f*A.roundUp(u.minDiff/f,[.9,1.9,4.9,9.9],!0);c=Math.max(d,2*A.stdev(e)/Math.pow(e.length,r?.25:.4)),k(c)||(c=1)}var h;h="log"===t.type?{type:"linear",range:[l,s]}:{type:t.type,range:A.simpleMap([l,s],t.c2r,0,a),calendar:a},B.setConvert(h),B.autoTicks(h,c);var p,g,v=B.tickIncrement(B.tickFirst(h),h.dtick,"reverse",a);if("number"==typeof h.dtick)v=i(v,e,h,l,s),g=1+Math.floor((s-v)/h.dtick),p=v+g*h.dtick;else for("M"===h.dtick.charAt(0)&&(v=o(v,e,h.dtick,l,a)),p=v,g=0;p<=s;)p=B.tickIncrement(p,h.dtick,!1,a),g++;return{start:t.c2r(v,0,a),end:t.c2r(p,0,a),size:h.dtick,_count:g}},B.calcTicks=function(e){var t=A.simpleMap(e.range,e.r2l);if("auto"===e.tickmode||!e.dtick){var n,r=e.nticks;r||("category"===e.type?(n=e.tickfont?1.2*(e.tickfont.size||12):15,r=e._length/n):(n="y"===e._id.charAt(0)?40:80,r=A.constrain(e._length/n,4,9)+1)),"array"===e.tickmode&&(r*=100),B.autoTicks(e,Math.abs(t[1]-t[0])/r),e._minDtick>0&&e.dtick<2*e._minDtick&&(e.dtick=e._minDtick,e.tick0=e.l2r(e._forceTick0))}if(e.tick0||(e.tick0="date"===e.type?"2000-01-01":0),c(e),"array"===e.tickmode)return l(e);e._tmin=B.tickFirst(e);var a=t[1]<t[0],i=[],o=1.0001*t[1]-1e-4*t[0];"category"===e.type&&(o=a?Math.max(-.5,o):Math.min(e._categories.length-.5,o));for(var s=null,u=Math.max(1e3,e._length||0),f=e._tmin;(a?f>=o:f<=o)&&!(i.length>u||f===s);f=B.tickIncrement(f,e.dtick,a,e.calendar))s=f,i.push(f);e._tmax=i[i.length-1],e._prevDateHead="",e._inCalcTicks=!0;for(var d=new Array(i.length),h=0;h<i.length;h++)d[h]=B.tickText(e,i[h]);return e._inCalcTicks=!1,d};var U=[2,5,10],G=[1,2,3,6,12],X=[1,2,5,10,15,30],Y=[1,2,3,7,14],Z=[-.046,0,.301,.477,.602,.699,.778,.845,.903,.954,1],W=[-.301,0,.301,.699,1];B.autoTicks=function(e,t){var n;if("date"===e.type){e.tick0=A.dateTick0(e.calendar);var r=2*t;r>j?(t/=j,n=Math.pow(10,Math.floor(Math.log(t)/Math.LN10)),e.dtick="M"+12*s(t,n,U)):r>D?(t/=D,e.dtick="M"+s(t,1,G)):r>I?(e.dtick=s(t,I,Y),e.tick0=A.dateTick0(e.calendar,!0)):r>P?e.dtick=s(t,P,G):r>E?e.dtick=s(t,E,X):r>N?e.dtick=s(t,N,X):(n=Math.pow(10,Math.floor(Math.log(t)/Math.LN10)),e.dtick=s(t,n,U))}else if("log"===e.type){e.tick0=0;var a=A.simpleMap(e.range,e.r2l);if(t>.7)e.dtick=Math.ceil(t);else if(Math.abs(a[1]-a[0])<1){var i=1.5*Math.abs((a[1]-a[0])/t);t=Math.abs(Math.pow(10,a[1])-Math.pow(10,a[0]))/i,n=Math.pow(10,Math.floor(Math.log(t)/Math.LN10)),e.dtick="L"+s(t,n,U)}else e.dtick=t>.3?"D2":"D1"}else"category"===e.type?(e.tick0=0,e.dtick=Math.ceil(Math.max(t,1))):(e.tick0=0,n=Math.pow(10,Math.floor(Math.log(t)/Math.LN10)),e.dtick=s(t,n,U));if(0===e.dtick&&(e.dtick=1),!k(e.dtick)&&"string"!=typeof e.dtick){var o=e.dtick;throw e.dtick=1,"ax.dtick error: "+String(o)}},B.tickIncrement=function(e,t,n,r){var a=n?-1:1;if(k(t))return e+a*t;var i=t.charAt(0),o=a*Number(t.substr(1));if("M"===i)return A.incrementMonth(e,o,r);if("L"===i)return Math.log(Math.pow(10,e)+o)/Math.LN10;if("D"===i){var l="D2"===t?W:Z,s=e+.01*a,c=A.roundUp(A.mod(s,1),l,n);return Math.floor(s)+Math.log(w.round(Math.pow(10,c),1))/Math.LN10}throw"unrecognized dtick "+String(t)},B.tickFirst=function(e){var t=e.r2l||Number,n=A.simpleMap(e.range,t),r=n[1]<n[0],a=r?Math.floor:Math.ceil,i=1.0001*n[0]-1e-4*n[1],o=e.dtick,l=t(e.tick0);if(k(o)){var s=a((i-l)/o)*o+l;return"category"===e.type&&(s=A.constrain(s,0,e._categories.length-1)),s}var c=o.charAt(0),u=Number(o.substr(1));if("M"===c){for(var f,d,h,p=0,g=l;p<10;){if(((f=B.tickIncrement(g,o,r,e.calendar))-i)*(g-i)<=0)return r?Math.min(g,f):Math.max(g,f);d=(i-(g+f)/2)/(f-g),h=c+(Math.abs(Math.round(d))||1)*u,g=B.tickIncrement(g,h,d<0?!r:r,e.calendar),p++}return A.error("tickFirst did not converge",e),g}if("L"===c)return Math.log(a((Math.pow(10,i)-l)/u)*u+l)/Math.LN10;if("D"===c){var v="D2"===o?W:Z,y=A.roundUp(A.mod(i,1),v,r);return Math.floor(i)+Math.log(w.round(Math.pow(10,y),1))/Math.LN10}throw"unrecognized dtick "+String(o)},B.tickText=function(e,t,n){function r(r){var a;return void 0===r||(n?"none"===r:(a={first:e._tmin,last:e._tmax}[r],"all"!==r&&t!==a))}var a,i,o=u(e,t),l="array"===e.tickmode,s=n||l,c="category"===e.type?e.d2l_noadd:e.d2l;if(l&&Array.isArray(e.ticktext)){var g=A.simpleMap(e.range,e.r2l),v=Math.abs(g[1]-g[0])/1e4;for(i=0;i<e.ticktext.length&&!(Math.abs(t-c(e.tickvals[i]))<v);i++);if(i<e.ticktext.length)return o.text=String(e.ticktext[i]),o}return a=n?"never":"none"!==e.exponentformat&&r(e.showexponent)?"hide":"","date"===e.type?f(e,o,n,s):"log"===e.type?d(e,o,n,s,a):"category"===e.type?h(e,o):p(e,o,n,s,a),e.tickprefix&&!r(e.showtickprefix)&&(o.text=e.tickprefix+o.text),e.ticksuffix&&!r(e.showticksuffix)&&(o.text+=e.ticksuffix),o};var Q=["f","p","n","μ","m","","k","M","G","T"];B.subplotMatch=/^x([0-9]*)y([0-9]*)$/,B.getSubplots=function(e,t){var n,r,a,i=[],o=e._fullData||e.data||[];for(n=0;n<o.length;n++){var l=o[n];if(!1!==l.visible&&"legendonly"!==l.visible&&(M.traceIs(l,"cartesian")||M.traceIs(l,"gl2d"))){a=(l.xaxis||"x")+(l.yaxis||"y"),-1===i.indexOf(a)&&i.push(a)}}var s=B.list(e,"",!0);for(n=0;n<s.length;n++){var c=s[n],u=c._id.charAt(0),f="free"===c.anchor?"x"===u?"y":"x":c.anchor,d=B.getFromId(e,f),h=!1;for(r=0;r<i.length;r++)if(function(e,t){return-1!==e.indexOf(t._id)}(i[r],c)){h=!0;break}"free"===c.anchor&&h||d&&(a="x"===u?c._id+d._id:d._id+c._id,-1===i.indexOf(a)&&i.push(a))}var p=B.subplotMatch,g=[];for(n=0;n<i.length;n++)a=i[n],p.test(a)&&g.push(a);return g.sort(function(e,t){var n=e.match(p),r=t.match(p);return n[1]===r[1]?+(n[2]||1)-(r[2]||1):+(n[1]||0)-(r[1]||0)}),t?B.findSubplotsWithAxis(g,t):g},B.findSubplotsWithAxis=function(e,t){for(var n=new RegExp("x"===t._id.charAt(0)?"^"+t._id+"y":t._id+"$"),r=[],a=0;a<e.length;a++){var i=e[a];n.test(i)&&r.push(i)}return r},B.makeClipPaths=function(e){var t,n,r=e._fullLayout,a={_offset:0,_length:r.width,_id:""},i={_offset:0,_length:r.height,_id:""},o=B.list(e,"x",!0),l=B.list(e,"y",!0),s=[];for(t=0;t<o.length;t++)for(s.push({x:o[t],y:i}),n=0;n<l.length;n++)0===t&&s.push({x:a,y:l[n]}),s.push({x:o[t],y:l[n]});var c=r._clips.selectAll(".axesclip").data(s,function(e){return e.x._id+e.y._id});c.enter().append("clipPath").classed("axesclip",!0).attr("id",function(e){return"clip"+r._uid+e.x._id+e.y._id}).append("rect"),c.exit().remove(),c.each(function(e){w.select(this).select("rect").attr({x:e.x._offset||0,y:e.y._offset||0,width:e.x._length||1,height:e.y._length||1})})},B.doTicks=function(e,t,n){function r(e){var t=c.l2p(e.x);return t>1&&t<c._length-1}function a(e,t){var n=e.selectAll("path."+_).data("inside"===c.ticks?U:x,b);t&&c.ticks?(n.enter().append("path").classed(_,1).classed("ticks",1).classed("crisp",1).call(L.stroke,c.tickcolor).style("stroke-width",N+"px").attr("d",t),n.attr("transform",h),n.exit().remove()):n.remove()}function i(n,r){function a(e,t){e.each(function(e){var n=m(t),r=w.select(this),a=r.select(".text-math-group"),i=h(e)+(k(t)&&0!=+t?" rotate("+t+","+d(e)+","+(p(e)-e.fontSize/2)+")":"");if(a.empty())r.select("text").attr({transform:i,"text-anchor":n});else{var o=C.bBox(a.node()).width*{end:-.5,start:.5}[n];a.attr("transform",i+(o?"translate("+o+",0)":""))}})}function i(){return z.length&&Promise.all(z)}function l(){if(a(f,c.tickangle),"x"===y&&!k(c.tickangle)&&("log"!==c.type||"D"!==String(c.dtick).charAt(0))){var e=[];for(f.each(function(t){var n=w.select(this),r=n.select(".text-math-group"),a=c.l2p(t.x);r.empty()&&(r=n.select("text"));var i=C.bBox(r.node());e.push({top:0,bottom:10,height:10,left:a-i.width/2,right:a+i.width/2+2,width:i.width+2})}),v=0;v<e.length-1;v++)if(A.bBoxIntersect(e[v],e[v+1])){O=30;break}if(O){Math.abs((x[x.length-1].x-x[0].x)*c._m)/(x.length-1)<2.5*L&&(O=90),a(f,O)}c._lastangle=O}return o(),t+" done"}function s(){function t(e,t){e[0]=Math.min(e[0],t[0]),e[1]=Math.max(e[1],t[1])}if(c.showticklabels){var r=e.getBoundingClientRect(),a=n.node().getBoundingClientRect();c._boundingBox={width:a.width,height:a.height,left:a.left-r.left,right:a.right-r.left,top:a.top-r.top,bottom:a.bottom-r.top}}else{var i,o=u._size;"x"===y?(i="free"===c.anchor?o.t+o.h*(1-c.position):o.t+o.h*(1-c._anchorAxis.domain[{bottom:0,top:1}[c.side]]),c._boundingBox={top:i,bottom:i,left:c._offset,rigth:c._offset+c._length,width:c._length,height:0}):(i="free"===c.anchor?o.l+o.w*c.position:o.l+o.w*c._anchorAxis.domain[{left:0,right:1}[c.side]],c._boundingBox={left:i,right:i,bottom:c._offset+c._length,top:c._offset,height:c._length,width:0})}if(g){var l=c._counterSpan=[1/0,-1/0];for(v=0;v<g.length;v++){var s=u._plots[g[v]],f=s["x"===y?"yaxis":"xaxis"];t(l,[f._offset,f._offset+f._length])}"free"===c.anchor&&t(l,"x"===y?[c._boundingBox.bottom,c._boundingBox.top]:[c._boundingBox.right,c._boundingBox.left])}}var f=n.selectAll("g."+_).data(x,b);if(!k(r))return f.remove(),void o();if(!c.showticklabels)return f.remove(),o(),void s();var d,p,m,M,S;"x"===y?(S="bottom"===q?1:-1,d=function(e){return e.dx+I*S},M=r+(D+j)*S,p=function(e){return e.dy+M+e.fontSize*("bottom"===q?1:-.2)},m=function(e){return k(e)&&0!==e&&180!==e?e*S<0?"end":"start":"middle"}):(S="right"===q?1:-1,p=function(e){return e.dy+e.fontSize*F-I*S},d=function(e){return e.dx+r+(D+j+(90===Math.abs(c.tickangle)?e.fontSize/2:0))*S},m=function(e){return k(e)&&90===Math.abs(e)?"middle":"right"===q?"start":"end"});var L=0,O=0,z=[];f.enter().append("g").classed(_,1).append("text").attr("text-anchor","middle").each(function(t){var n=w.select(this),r=e._promises.length;n.call(T.positionText,d(t),p(t)).call(C.font,t.font,t.fontSize,t.fontColor).text(t.text).call(T.convertToTspans,e),r=e._promises[r],r?z.push(e._promises.pop().then(function(){a(n,c.tickangle)})):a(n,c.tickangle)}),f.exit().remove(),f.each(function(e){L=Math.max(L,e.fontSize)}),a(f,c._lastangle||c.tickangle);var P=A.syncOrAsync([i,l,s]);return P&&P.then&&e._promises.push(P),P}function o(){if(!n){var r,a,i,o,l=H.getFromId(e,t),s=w.select(e).selectAll("g."+t+"tick"),c={selection:s,side:l.side},f=t.charAt(0),d=e._fullLayout._size,h=l.titlefont.size;if(s.size()){var p=C.getTranslate(s.node().parentNode);c.offsetLeft=p.x,c.offsetTop=p.y}var g=10+1.5*h+(l.linewidth?l.linewidth-1:0);"x"===f?(a="free"===l.anchor?{_offset:d.t+(1-(l.position||0))*d.h,_length:0}:H.getFromId(e,l.anchor),i=l._offset+l._length/2,o="top"===l.side?-g-h*(l.showticklabels?1:0):a._length+g+h*(l.showticklabels?1.5:.5),o+=a._offset,l.rangeslider&&l.rangeslider.visible&&l._boundingBox&&(o+=(u.height-u.margin.b-u.margin.t)*l.rangeslider.thickness+l._boundingBox.height),c.side||(c.side="bottom")):(a="free"===l.anchor?{_offset:d.l+(l.position||0)*d.w,_length:0}:H.getFromId(e,l.anchor),o=l._offset+l._length/2,i="right"===l.side?a._length+g+h*(l.showticklabels?1:.5):-g-h*(l.showticklabels?.5:0),i+=a._offset,r={rotate:"-90",offset:0},c.side||(c.side="left")),S.draw(e,t+"title",{propContainer:l,propName:l._name+".title",dfltName:f.toUpperCase()+" axis",avoid:c,transform:r,attributes:{x:i,y:o,"text-anchor":"middle"}})}}function l(e,t){return!0===e.visible&&e.xaxis+e.yaxis===t&&(!(!M.traceIs(e,"bar")||e.orientation!=={x:"h",y:"v"}[y])||e.fill&&e.fill.charAt(e.fill.length-1)===y)}function s(t,n,a){var i=t.gridlayer,o=t.zerolinelayer,s=t["hidegrid"+y]?[]:U,u=c._gridpath||"M0,0"+("x"===y?"v":"h")+n._length,f=i.selectAll("path."+O).data(!1===c.showgrid?[]:s,b);if(f.enter().append("path").classed(O,1).classed("crisp",1).attr("d",u).each(function(e){c.zeroline&&("linear"===c.type||"-"===c.type)&&Math.abs(e.x)<c.dtick/100&&w.select(this).remove()}),f.attr("transform",h).call(L.stroke,c.gridcolor||"#ddd").style("stroke-width",P+"px"),f.exit().remove(),o){for(var d=!1,p=0;p<e._fullData.length;p++)if(l(e._fullData[p],a)){d=!0;break}var g=A.simpleMap(c.range,c.r2l),v=g[0]*g[1]<=0&&c.zeroline&&("linear"===c.type||"-"===c.type)&&s.length&&(d||r({x:0})||!c.showline),m=o.selectAll("path."+z).data(v?[{x:0}]:[]);m.enter().append("path").classed(z,1).classed("zl",1).classed("crisp",1).attr("d",u),m.attr("transform",h).call(L.stroke,c.zerolinecolor||L.defaultLine).style("stroke-width",E+"px"),m.exit().remove()}}var c,u=e._fullLayout,f=!1;if("object"==typeof t)c=t,t=c._id,f=!0;else if(c=B.getFromId(e,t),"redraw"===t&&u._paper.selectAll("g.subplot").each(function(e){var t=u._plots[e],n=t.xaxis,r=t.yaxis;t.xaxislayer.selectAll("."+n._id+"tick").remove(),t.yaxislayer.selectAll("."+r._id+"tick").remove(),t.gridlayer.selectAll("path").remove(),t.zerolinelayer.selectAll("path").remove(),u._infolayer.select(".g-"+n._id+"title").remove(),u._infolayer.select(".g-"+r._id+"title").remove()}),!t||"redraw"===t)return A.syncOrAsync(B.list(e,"",!0).map(function(n){return function(){if(n._id){var r=B.doTicks(e,n._id);return"redraw"===t&&(n._r=n.range.slice(),n._rl=A.simpleMap(n._r,n.r2l)),r}}}));c.tickformat||(-1===["none","e","E","power","SI","B"].indexOf(c.exponentformat)&&(c.exponentformat="e"),-1===["all","first","last","none"].indexOf(c.showexponent)&&(c.showexponent="all")),c.setScale();var d,h,p,g,v,y=t.charAt(0),m=B.counterLetter(t),x=B.calcTicks(c),b=function(e){return[e.text,e.x,c.mirror].join("_")},_=t+"tick",O=t+"grid",z=t+"zl",j=(c.linewidth||1)/2,D="outside"===c.ticks?c.ticklen:0,I=0,P=C.crispRound(e,c.gridwidth,1),E=C.crispRound(e,c.zerolinewidth,P),N=C.crispRound(e,c.tickwidth,1);if(c._counterangle&&"outside"===c.ticks){var R=c._counterangle*Math.PI/180;D=c.ticklen*Math.cos(R)+1,I=c.ticklen*Math.sin(R)}if(c.showticklabels&&("outside"===c.ticks||c.showline)&&(D+=.2*c.tickfont.size),"x"===y)d=["bottom","top"],h=function(e){return"translate("+c.l2p(e.x)+",0)"},p=function(e,t){if(c._counterangle){var n=c._counterangle*Math.PI/180;return"M0,"+e+"l"+Math.sin(n)*t+","+Math.cos(n)*t}return"M0,"+e+"v"+t};else{if("y"!==y)return void A.warn("Unrecognized doTicks axis:",t);d=["left","right"],h=function(e){return"translate(0,"+c.l2p(e.x)+")"},p=function(e,t){if(c._counterangle){var n=c._counterangle*Math.PI/180;return"M"+e+",0l"+Math.cos(n)*t+","+-Math.sin(n)*t}return"M"+e+",0h"+t}}var q=c.side||d[0],V=[-1,1,q===d[1]?1:-1];if("inside"!==c.ticks==("x"===y)&&(V=V.map(function(e){return-e})),c.visible){var U=x.filter(r);if(f){if(a(c._axislayer,p(c._pos+j*V[2],V[2]*c.ticklen)),c._counteraxis){s({gridlayer:c._gridlayer,zerolinelayer:c._zerolinelayer},c._counteraxis)}return i(c._axislayer,c._pos)}g=B.getSubplots(e,c);var G=g.map(function(e){var t=u._plots[e];if(u._has("cartesian")){var n=t[y+"axislayer"],r=c._linepositions[e]||[],o=t[m+"axis"],l=o._id===c.anchor,f=[!1,!1,!1],h="";if("allticks"===c.mirror?f=[!0,!0,!1]:l&&("ticks"===c.mirror?f=[!0,!0,!1]:f[d.indexOf(q)]=!0),c.mirrors)for(v=0;v<2;v++){var g=c.mirrors[o._id+d[v]];"ticks"!==g&&"labels"!==g||(f[v]=!0)}return void 0!==r[2]&&(f[2]=!0),f.forEach(function(e,t){var n=r[t],a=V[t];e&&k(n)&&(h+=p(n+j*a,a*c.ticklen))}),a(n,h),s(t,o,e),i(n,r[3])}}).filter(function(e){return e&&e.then});return G.length?Promise.all(G):0}},B.swap=function(e,t){for(var n=m(e,t),r=0;r<n.length;r++)b(e,n[r].x,n[r].y)}},function(e,t,n){"use strict";t.defaultConfig=n(137),t.Plots=n(65),t.Axes=n(63),t.ModeBar=n(194),n(275)},function(e,t,n){"use strict";function r(e,t){t.text("");var n=t.append("a").attr({"xlink:xlink:href":"#",class:"link--impt link--embedview","font-weight":"bold"}).text(e._context.linkText+" "+String.fromCharCode(187));if(e._context.sendData)n.on("click",function(){v.sendDataToCloud(e)});else{var r=window.location.pathname.split("/"),a=window.location.search;n.attr({"xlink:xlink:show":"new","xlink:xlink:href":"/"+r[2].split(".")[0]+"/"+r[1]+a})}}function a(e,t){var n,r,a=e.trace,i=a._arrayAttrs,o={};for(n=0;n<i.length;n++)r=i[n],o[r]=h.nestedProperty(a,r).get().slice();for(e.trace=t,n=0;n<i.length;n++)r=i[n],h.nestedProperty(e.trace,r).set(o[r])}function i(e,t,n,r){for(var a=e.transforms,i=[e],o=0;o<a.length;o++){var l=a[o],s=_[l.type];s&&s.transform&&(i=s.transform(i,{transform:l,fullTrace:e,fullData:t,layout:n,fullLayout:r,transformIndex:o}))}return i}function o(e){var t,n={left:0,right:0,bottom:0,top:0};if(e)for(t in e)e.hasOwnProperty(t)&&(n.left+=e[t].left||0,n.right+=e[t].right||0,n.bottom+=e[t].bottom||0,n.top+=e[t].top||0);return n}function l(e){for(var t=0;t<e.length;t++){e[t]._categories=e[t]._initialCategories.slice(),e[t]._categoriesMap={};for(var n=0;n<e[t]._categories.length;n++)e[t]._categoriesMap[e[t]._categories[n]]=n}}var s=n(58),c=n(59),u=n(64),f=n(115),d=n(61),h=n(57),p=n(60),g=n(69).BADNUM,v=e.exports={},y=n(144),m=n(182),x=h.relinkPrivateKeys;h.extendFlat(v,d),v.attributes=n(116),v.attributes.type.values=v.allTypes,v.fontAttrs=n(68),v.layoutAttributes=n(102),v.fontWeight="normal";var b=v.subplotsRegistry,_=v.transformsRegistry,w=n(104),k=n(270);v.executeAPICommand=k.executeAPICommand,v.computeAPICommandBindings=k.computeAPICommandBindings,v.manageCommandObserver=k.manageCommandObserver,v.hasSimpleAPICommandBindings=k.hasSimpleAPICommandBindings,v.findSubplotIds=function(e,t){var n=[];if(!v.subplotsRegistry[t])return n;for(var r=v.subplotsRegistry[t].attr,a=0;a<e.length;a++){var i=e[a];v.traceIs(i,t)&&-1===n.indexOf(i[r])&&n.push(i[r])}return n},v.getSubplotIds=function(e,t){var n=v.subplotsRegistry[t];if(!n)return[];if(!("cartesian"!==t||e._has&&e._has("cartesian")))return[];if(!("gl2d"!==t||e._has&&e._has("gl2d")))return[];if("cartesian"===t||"gl2d"===t)return Object.keys(e._plots||{});for(var r=n.attrRegex,a=Object.keys(e),i=[],o=0;o<a.length;o++){var l=a[o];r.test(l)&&i.push(l)}var s=n.idRoot.length;return i.sort(function(e,t){return+(e.substr(s)||1)-+(t.substr(s)||1)}),i},v.getSubplotData=function(e,t,n){if(!v.subplotsRegistry[t])return[];for(var r,a=v.subplotsRegistry[t].attr,i=[],o=0;o<e.length;o++)if(r=e[o],"gl2d"===t&&v.traceIs(r,"gl2d")){var l=u.Axes.subplotMatch,s="x"+n.match(l)[1],c="y"+n.match(l)[2];r[a[0]]===s&&r[a[1]]===c&&i.push(r)}else r[a]===n&&i.push(r);return i},v.getSubplotCalcData=function(e,t,n){if(!v.subplotsRegistry[t])return[];for(var r=v.subplotsRegistry[t].attr,a=[],i=0;i<e.length;i++){var o=e[i];o[0].trace[r]===n&&a.push(o)}return a},v.redrawText=function(e){if(!(e.data&&e.data[0]&&e.data[0].r))return new Promise(function(t){setTimeout(function(){d.getComponentMethod("annotations","draw")(e),d.getComponentMethod("legend","draw")(e),(e.calcdata||[]).forEach(function(e){e[0]&&e[0].t&&e[0].t.cb&&e[0].t.cb()}),t(v.previousPromises(e))},300)})},v.resize=function(e){return new Promise(function(t,n){e&&!function(e){var t=window.getComputedStyle(e).display;return!t||"none"===t}(e)||n(new Error("Resize must be passed a displayed plot div element.")),e._redrawTimer&&clearTimeout(e._redrawTimer),e._redrawTimer=setTimeout(function(){if(e.layout.width&&e.layout.height)return void t(e);delete e.layout.width,delete e.layout.height;var n=e.changed;e.autoplay=!0,u.relayout(e,{autosize:!0}).then(function(){e.changed=n,t(e)})},100)})},v.previousPromises=function(e){if((e._promises||[]).length)return Promise.all(e._promises).then(function(){e._promises=[]})},v.addLinks=function(e){if(e._context.showLink||e._context.showSources){var t=e._fullLayout,n=t._paper.selectAll("text.js-plot-link-container").data([0]);n.enter().append("text").classed("js-plot-link-container",!0).style({"font-family":'"Open Sans", Arial, sans-serif',"font-size":"12px",fill:p.defaultLine,"pointer-events":"all"}).each(function(){var e=s.select(this);e.append("tspan").classed("js-link-to-tool",!0),e.append("tspan").classed("js-link-spacer",!0),e.append("tspan").classed("js-sourcelinks",!0)});var a=n.node(),i={y:t._paper.attr("height")-9};document.body.contains(a)&&a.getComputedTextLength()>=t.width-20?(i["text-anchor"]="start",i.x=5):(i["text-anchor"]="end",i.x=t._paper.attr("width")-7),n.attr(i);var o=n.select(".js-link-to-tool"),l=n.select(".js-link-spacer"),c=n.select(".js-sourcelinks");e._context.showSources&&e._context.showSources(e),e._context.showLink&&r(e,o),l.text(o.text()&&c.text()?" - ":"")}},v.sendDataToCloud=function(e){e.emit("plotly_beforeexport");var t=window.PLOTLYENV&&window.PLOTLYENV.BASE_URL||"https://plot.ly",n=s.select(e).append("div").attr("id","hiddenform").style("display","none"),r=n.append("form").attr({action:t+"/external",method:"post",target:"_blank"});return r.append("input").attr({type:"text",name:"data"}).node().value=v.graphJson(e,!1,"keepdata"),r.node().submit(),n.remove(),e.emit("plotly_afterexport"),!1},v.supplyDefaults=function(e){var t,n=e._fullLayout||{},r=e._fullLayout={},i=e.layout||{},o=e._fullData||[],l=e._fullData=[],s=e.data||[];if(e._transitionData||v.createTransitionData(e),n._initialAutoSizeIsDone){var c=n.width,f=n.height;v.supplyLayoutGlobalDefaults(i,r),i.width||(r.width=c),i.height||(r.height=f)}else{v.supplyLayoutGlobalDefaults(i,r);var d=!i.width||!i.height,h=r.autosize,p=e._context&&e._context.autosizable;d&&(h||p)?v.plotAutoSize(e,i,r):d&&v.sanitizeMargins(e),!h&&d&&(i.width=r.width,i.height=r.height)}r._initialAutoSizeIsDone=!0,r._dataLength=s.length,r._globalTransforms=(e._context||{}).globalTransforms,v.supplyDataDefaults(s,l,i,r),r._has=v._hasPlotType.bind(r);var g=r._modules;for(t=0;t<g.length;t++){var y=g[t];y.cleanData&&y.cleanData(l)}if(o.length===s.length)for(t=0;t<l.length;t++)x(l[t],o[t]);v.supplyLayoutModuleDefaults(i,r,l,e._transitionData),r._hasCartesian=r._has("cartesian"),r._hasGeo=r._has("geo"),r._hasGL3D=r._has("gl3d"),r._hasGL2D=r._has("gl2d"),r._hasTernary=r._has("ternary"),r._hasPie=r._has("pie"),v.cleanPlot(l,r,o,n),v.linkSubplots(l,r,o,n),x(r,n),v.doAutoMargin(e);var m=u.Axes.list(e);for(t=0;t<m.length;t++){m[t].setScale()}if((e.calcdata||[]).length===l.length)for(t=0;t<l.length;t++){var b=l[t],_=e.calcdata[t][0];_&&_.trace&&(_.trace._hasCalcTransform?a(_,b):_.trace=b)}},v.createTransitionData=function(e){e._transitionData||(e._transitionData={}),e._transitionData._frames||(e._transitionData._frames=[]),e._transitionData._frameHash||(e._transitionData._frameHash={}),e._transitionData._counter||(e._transitionData._counter=0),e._transitionData._interruptCallbacks||(e._transitionData._interruptCallbacks=[])},v._hasPlotType=function(e){for(var t=this._basePlotModules||[],n=0;n<t.length;n++){if(t[n].name===e)return!0}return!1},v.cleanPlot=function(e,t,n,r){var a,i,o=r._basePlotModules||[];for(a=0;a<o.length;a++){var l=o[a];l.clean&&l.clean(e,t,n,r)}var s=!!r._paper,c=!!r._infolayer;e:for(a=0;a<n.length;a++){var u=n[a],f=u.uid;for(i=0;i<e.length;i++){var d=e[i];if(f===d.uid)continue e}var h=".hm"+f+",.contour"+f+",.carpet"+f+",#clip"+f+",.trace"+f;s&&r._paper.selectAll(h).remove(),c&&(r._infolayer.selectAll(".cb"+f).remove(),r._infolayer.selectAll("g.rangeslider-container").selectAll(h).remove())}r._zoomlayer&&r._zoomlayer.selectAll(".select-outline").remove()},v.linkSubplots=function(e,t,n,r){var a,i=r._plots||{},o=t._plots={},l={_fullData:e,_fullLayout:t},s=u.Axes.getSubplots(l);for(a=0;a<s.length;a++){var c,f=s[a],d=i[f],h=u.Axes.getFromId(l,f,"x"),p=u.Axes.getFromId(l,f,"y");d?(c=o[f]=d,c._scene2d&&c._scene2d.updateRefs(t),c.xaxis.layer!==h.layer&&(c.xlines.attr("d",null),c.xaxislayer.selectAll("*").remove()),c.yaxis.layer!==p.layer&&(c.ylines.attr("d",null),c.yaxislayer.selectAll("*").remove())):(c=o[f]={},c.id=f),c.xaxis=h,c.yaxis=p,c._hasClipOnAxisFalse=!1;for(var g=0;g<e.length;g++){var v=e[g];if(v.xaxis===c.xaxis._id&&v.yaxis===c.yaxis._id&&!1===v.cliponaxis){c._hasClipOnAxisFalse=!0;break}}}var y=u.Axes.list(l,null,!0);for(a=0;a<y.length;a++){var m=y[a],x=null;m.overlaying&&(x=u.Axes.getFromId(l,m.overlaying))&&x.overlaying&&(m.overlaying=!1,x=null),m._mainAxis=x||m,x&&(m.domain=x.domain.slice()),m._anchorAxis="free"===m.anchor?null:u.Axes.getFromId(l,m.anchor)}},v.clearExpandedTraceDefaultColors=function(e){function t(e,t,a,i){r[i]=t,r.length=i+1,"color"===e.valType&&void 0===e.dflt&&n.push(r.join("."))}var n,r,a;for(r=[],n=e._module._colorAttrs,n||(e._module._colorAttrs=n=[],f.crawl(e._module.attributes,t)),a=0;a<n.length;a++){h.nestedProperty(e,"_input."+n[a]).get()||h.nestedProperty(e,n[a]).set(null)}},v.supplyDataDefaults=function(e,t,n,r){function a(e){t.push(e);var n=e._module;n&&(h.pushUnique(c,n),h.pushUnique(u,e._module.basePlotModule),f++)}var o,l,s,c=r._modules=[],u=r._basePlotModules=[],f=0;r._transformModules=[];var p={},g=[];for(o=0;o<e.length;o++){if(s=e[o],l=v.supplyTraceDefaults(s,f,r,o),l.index=o,l._input=s,l._expandedIndex=f,l.transforms&&l.transforms.length)for(var y=i(l,t,n,r),m=0;m<y.length;m++){var b=y[m],_=v.supplyTraceDefaults(b,f,r,o);x(_,b),b.uid=_.uid=l.uid+m,_.index=o,_._input=s,_._fullInput=l,_._expandedIndex=f,_._expandedInput=b,a(_)}else l._fullInput=l,l._expandedInput=l,a(l);d.traceIs(l,"carpetAxis")&&(p[l.carpet]=l),d.traceIs(l,"carpetDependent")&&g.push(o)}for(o=0;o<g.length;o++)if(l=t[g[o]],l.visible){var w=p[l.carpet];l._carpet=w,w&&w.visible?(l.xaxis=w.xaxis,l.yaxis=w.yaxis):l.visible=!1}},v.supplyAnimationDefaults=function(e){function t(t,n){return h.coerce(e||{},r,y,t,n)}e=e||{};var n,r={};if(t("mode"),t("direction"),t("fromcurrent"),Array.isArray(e.frame))for(r.frame=[],n=0;n<e.frame.length;n++)r.frame[n]=v.supplyAnimationFrameDefaults(e.frame[n]||{});else r.frame=v.supplyAnimationFrameDefaults(e.frame||{});if(Array.isArray(e.transition))for(r.transition=[],n=0;n<e.transition.length;n++)r.transition[n]=v.supplyAnimationTransitionDefaults(e.transition[n]||{});else r.transition=v.supplyAnimationTransitionDefaults(e.transition||{});return r},v.supplyAnimationFrameDefaults=function(e){function t(t,r){return h.coerce(e||{},n,y.frame,t,r)}var n={};return t("duration"),t("redraw"),n},v.supplyAnimationTransitionDefaults=function(e){function t(t,r){return h.coerce(e||{},n,y.transition,t,r)}var n={};return t("duration"),t("easing"),n},v.supplyFrameDefaults=function(e){function t(t,r){return h.coerce(e,n,m,t,r)}var n={};return t("group"),t("name"),t("traces"),t("baseframe"),t("data"),t("layout"),n},v.supplyTraceDefaults=function(e,t,n,r){function a(t,n){return h.coerce(e,o,v.attributes,t,n)}function i(t,n){if(v.traceIs(o,t))return h.coerce(e,o,v.subplotsRegistry[t].attributes,n)}var o={},l=p.defaults[t%p.defaults.length],s=a("visible");a("type"),a("uid"),a("name","trace "+r);for(var c=Object.keys(b),u=0;u<c.length;u++){var f=c[u];if(-1===["cartesian","gl2d"].indexOf(f)){var g=b[f].attr;g&&i(f,g)}}if(s){a("customdata"),a("ids");var y=v.getModule(o);o._module=y,v.traceIs(o,"showLegend")&&(a("showlegend"),a("legendgroup")),d.getComponentMethod("fx","supplyDefaults")(e,o,l,n),y&&(y.supplyDefaults(e,o,l,n),h.coerceHoverinfo(e,o,n)),v.traceIs(o,"noOpacity")||a("opacity"),i("cartesian","xaxis"),i("cartesian","yaxis"),i("gl2d","xaxis"),i("gl2d","yaxis"),v.traceIs(o,"notLegendIsolatable")&&(o.visible=!!o.visible),v.supplyTransformDefaults(e,o,n)}return o},v.supplyTransformDefaults=function(e,t,n){var r=n._globalTransforms||[],a=n._transformModules||[];if(Array.isArray(e.transforms)||0!==r.length)for(var i=e.transforms||[],o=r.concat(i),l=t.transforms=[],s=0;s<o.length;s++){var c,u=o[s],f=u.type,d=_[f],p=!(u._module&&u._module===d),g=d&&"function"==typeof d.transform;d||h.warn("Unrecognized transform type "+f+"."),d&&d.supplyDefaults&&(p||g)?(c=d.supplyDefaults(u,t,n,e),c.type=f,c._module=d,h.pushUnique(a,d)):c=h.extendFlat({},u),l.push(c)}},v.supplyLayoutGlobalDefaults=function(e,t){function n(n,r){return h.coerce(e,t,v.layoutAttributes,n,r)}var r=h.coerceFont(n,"font");n("title"),h.coerceFont(n,"titlefont",{family:r.family,size:Math.round(1.4*r.size),color:r.color}),n("autosize",!(e.width&&e.height)),n("width"),n("height"),n("margin.l"),n("margin.r"),n("margin.t"),n("margin.b"),n("margin.pad"),n("margin.autoexpand"),e.width&&e.height&&v.sanitizeMargins(t),n("paper_bgcolor"),n("separators"),n("hidesources"),n("smith"),d.getComponentMethod("calendars","handleDefaults")(e,t,"calendar"),d.getComponentMethod("fx","supplyLayoutGlobalDefaults")(e,t,n)},v.plotAutoSize=function(e,t,n){var r,a,i=e._context||{},l=i.frameMargins,s=h.isPlotDiv(e);if(s&&e.emit("plotly_autosize"),i.fillFrame)r=window.innerWidth,a=window.innerHeight,document.body.style.overflow="hidden";else if(c(l)&&l>0){var u=o(e._boundingBoxMargins),f=u.left+u.right,d=u.bottom+u.top,p=1-2*l,g=n._container&&n._container.node?n._container.node().getBoundingClientRect():{width:n.width,height:n.height};r=Math.round(p*(g.width-f)),a=Math.round(p*(g.height-d))}else{var y=s?window.getComputedStyle(e):{};r=parseFloat(y.width)||n.width,a=parseFloat(y.height)||n.height}var m=v.layoutAttributes.width.min,x=v.layoutAttributes.height.min;r<m&&(r=m),a<x&&(a=x);var b=!t.width&&Math.abs(n.width-r)>1,_=!t.height&&Math.abs(n.height-a)>1;(_||b)&&(b&&(n.width=r),_&&(n.height=a)),e._initialAutoSize||(e._initialAutoSize={width:r,height:a}),v.sanitizeMargins(n)},v.supplyLayoutModuleDefaults=function(e,t,n,r){var a,i;u.Axes.supplyLayoutDefaults(e,t,n);var o=t._basePlotModules;for(a=0;a<o.length;a++)i=o[a],"cartesian"!==i.name&&i.supplyLayoutDefaults&&i.supplyLayoutDefaults(e,t,n);var l=t._modules;for(a=0;a<l.length;a++)i=l[a],i.supplyLayoutDefaults&&i.supplyLayoutDefaults(e,t,n);var s=t._transformModules;for(a=0;a<s.length;a++)i=s[a],i.supplyLayoutDefaults&&i.supplyLayoutDefaults(e,t,n,r);var c=Object.keys(d.componentsRegistry);for(a=0;a<c.length;a++)i=d.componentsRegistry[c[a]],i.supplyLayoutDefaults&&i.supplyLayoutDefaults(e,t,n)},v.purge=function(e){var t=e._fullLayout||{};void 0!==t._glcontainer&&t._glcontainer.remove(),void 0!==t._geocontainer&&t._geocontainer.remove(),t._modeBar&&t._modeBar.destroy(),e._transitionData&&(e._transitionData._interruptCallbacks&&(e._transitionData._interruptCallbacks.length=0),e._transitionData._animationRaf&&window.cancelAnimationFrame(e._transitionData._animationRaf)),delete e.data,delete e.layout,delete e._fullData,delete e._fullLayout,delete e.calcdata,delete e.framework,delete e.empty,delete e.fid,delete e.undoqueue,delete e.undonum,delete e.autoplay,delete e.changed,delete e._promises,delete e._redrawTimer,delete e.firstscatter,delete e._hmlumcount,delete e._hmpixcount,delete e.numboxes,delete e._transitionData,delete e._transitioning,delete e._initialAutoSize,delete e._transitioningWithDuration,delete e._dragging,delete e._dragged,delete e._hoverdata,delete e._snapshotInProgress,delete e._editing,delete e._replotPending,delete e._mouseDownTime,delete e._legendMouseDownTime,e.removeAllListeners&&e.removeAllListeners()},v.style=function(e){for(var t=e._fullLayout._modules,n=0;n<t.length;n++){var r=t[n];r.style&&r.style(e)}},v.sanitizeMargins=function(e){if(e&&e.margin){var t,n=e.width,r=e.height,a=e.margin,i=n-(a.l+a.r),o=r-(a.t+a.b);i<0&&(t=(n-1)/(a.l+a.r),a.l=Math.floor(t*a.l),a.r=Math.floor(t*a.r)),o<0&&(t=(r-1)/(a.t+a.b),a.t=Math.floor(t*a.t),a.b=Math.floor(t*a.b))}},v.autoMargin=function(e,t,n){var r=e._fullLayout;if(r._pushmargin||(r._pushmargin={}),!1!==r.margin.autoexpand){if(n){var a=void 0===n.pad?12:n.pad;n.l+n.r>.5*r.width&&(n.l=n.r=0),n.b+n.t>.5*r.height&&(n.b=n.t=0),r._pushmargin[t]={l:{val:n.x,size:n.l+a},r:{val:n.x,size:n.r+a},b:{val:n.y,size:n.b+a},t:{val:n.y,size:n.t+a}}}else delete r._pushmargin[t];r._replotting||v.doAutoMargin(e)}},v.doAutoMargin=function(e){var t=e._fullLayout;t._size||(t._size={}),t._pushmargin||(t._pushmargin={});var n=t._size,r=JSON.stringify(n),a=Math.max(t.margin.l||0,0),i=Math.max(t.margin.r||0,0),o=Math.max(t.margin.t||0,0),l=Math.max(t.margin.b||0,0),s=t._pushmargin;if(!1!==t.margin.autoexpand){s.base={l:{val:0,size:a},r:{val:1,size:i},t:{val:1,size:o},b:{val:0,size:l}};for(var f=Object.keys(s),d=0;d<f.length;d++)for(var h=f[d],p=s[h].l||{},g=s[h].b||{},v=p.val,y=p.size,m=g.val,x=g.size,b=0;b<f.length;b++){var _=f[b];if(c(y)&&s[_].r){var w=s[_].r.val,k=s[_].r.size;if(w>v){var M=(y*w+(k-t.width)*v)/(w-v),A=(k*(1-v)+(y-t.width)*(1-w))/(w-v);M>=0&&A>=0&&M+A>a+i&&(a=M,i=A)}}if(c(x)&&s[_].t){var T=s[_].t.val,S=s[_].t.size;if(T>m){var L=(x*T+(S-t.height)*m)/(T-m),C=(S*(1-m)+(x-t.height)*(1-T))/(T-m);L>=0&&C>=0&&L+C>l+o&&(l=L,o=C)}}}}if(n.l=Math.round(a),n.r=Math.round(i),n.t=Math.round(o),n.b=Math.round(l),n.p=Math.round(t.margin.pad),n.w=Math.round(t.width)-n.l-n.r,n.h=Math.round(t.height)-n.t-n.b,!t._replotting&&"{}"!==r&&r!==JSON.stringify(t._size))return u.plot(e)},v.graphJson=function(e,t,n,r,a){function i(e){if("function"==typeof e)return null;if(h.isPlainObject(e)){var t,r,a={};for(t in e)if("function"!=typeof e[t]&&-1===["_","["].indexOf(t.charAt(0))){if("keepdata"===n){if("src"===t.substr(t.length-3))continue}else if("keepstream"===n){if("string"==typeof(r=e[t+"src"])&&r.indexOf(":")>0&&!h.isPlainObject(e.stream))continue}else if("keepall"!==n&&"string"==typeof(r=e[t+"src"])&&r.indexOf(":")>0)continue;a[t]=i(e[t])}return a}return Array.isArray(e)?e.map(i):h.isJSDate(e)?h.ms2DateTimeLocal(+e):e}(a&&t&&!e._fullData||a&&!t&&!e._fullLayout)&&v.supplyDefaults(e);var o=a?e._fullData:e.data,l=a?e._fullLayout:e.layout,s=(e._transitionData||{})._frames,c={data:(o||[]).map(function(e){var n=i(e);return t&&delete n.fit,n})};return t||(c.layout=i(l)),e.framework&&e.framework.isPolar&&(c=e.framework.getConfig()),s&&(c.frames=i(s)),"object"===r?c:JSON.stringify(c)},v.modifyFrames=function(e,t){var n,r,a,i=e._transitionData._frames,o=e._transitionData._frameHash;for(n=0;n<t.length;n++)switch(r=t[n],r.type){case"replace":a=r.value;var l=(i[r.index]||{}).name,s=a.name;i[r.index]=o[s]=a,s!==l&&(delete o[l],o[s]=a);break;case"insert":a=r.value,o[a.name]=a,i.splice(r.index,0,a);break;case"delete":a=i[r.index],delete o[a.name],i.splice(r.index,1)}return Promise.resolve()},v.computeFrame=function(e,t){var n,r,a,i,o=e._transitionData._frameHash;if(!t)throw new Error("computeFrame must be given a string frame name");var l=o[t.toString()];if(!l)return!1;for(var s=[l],c=[l.name];l.baseframe&&(l=o[l.baseframe.toString()])&&-1===c.indexOf(l.name);)s.push(l),c.push(l.name);for(var u={};l=s.pop();)if(l.layout&&(u.layout=v.extendLayout(u.layout,l.layout)),l.data){if(u.data||(u.data=[]),!(r=l.traces))for(r=[],n=0;n<l.data.length;n++)r[n]=n;for(u.traces||(u.traces=[]),n=0;n<l.data.length;n++)void 0!==(a=r[n])&&null!==a&&(i=u.traces.indexOf(a),-1===i&&(i=u.data.length,u.traces[i]=a),u.data[i]=v.extendTrace(u.data[i],l.data[n]))}return u},v.recomputeFrameHash=function(e){for(var t=e._transitionData._frameHash={},n=e._transitionData._frames,r=0;r<n.length;r++){var a=n[r];a&&a.name&&(t[a.name]=a)}},v.extendObjectWithContainers=function(e,t,n){var r,a,i,o,l,s,c,u,f=h.extendDeepNoArrays({},t||{}),d=h.expandObjectPaths(f),p={};if(n&&n.length)for(i=0;i<n.length;i++)r=h.nestedProperty(d,n[i]),a=r.get(),void 0===a?h.nestedProperty(p,n[i]).set(null):(r.set(null),h.nestedProperty(p,n[i]).set(a));if(e=h.extendDeepNoArrays(e||{},d),n&&n.length)for(i=0;i<n.length;i++)if(l=h.nestedProperty(p,n[i]),c=l.get()){for(s=h.nestedProperty(e,n[i]),u=s.get(),Array.isArray(u)||(u=[],s.set(u)),o=0;o<c.length;o++){var g=c[o];u[o]=null===g?null:v.extendObjectWithContainers(u[o],g)}s.set(u)}return e},v.dataArrayContainers=["transforms"],v.layoutArrayContainers=d.layoutArrayContainers,v.extendTrace=function(e,t){return v.extendObjectWithContainers(e,t,v.dataArrayContainers)},v.extendLayout=function(e,t){return v.extendObjectWithContainers(e,t,v.layoutArrayContainers)},v.transition=function(e,t,n,r,a,i){function o(){var r;for(r=0;r<m.length;r++){var a=m[r],i=e._fullData[a],o=i._module;o&&(o.animatable&&x.push(a),e.data[m[r]]=v.extendTrace(e.data[m[r]],t[r]))}var l=h.expandObjectPaths(h.extendDeepNoArrays({},n)),s=/^[xy]axis[0-9]*$/;for(var c in l)s.test(c)&&delete l[c].range;return v.extendLayout(e.layout,l),delete e.calcdata,v.supplyDefaults(e),v.doCalcdata(e),w.calc(e),Promise.resolve()}function l(e){var t=Promise.resolve();if(!e)return t;for(;e.length;)t=t.then(e.shift());return t}function s(e){if(e)for(;e.length;)e.shift()}function c(){return e.emit("plotly_transitioning",[]),new Promise(function(t){function r(){return s++,function(){c++,b||c!==s||f(t)}}e._transitioning=!0,i.duration>0&&(e._transitioningWithDuration=!0),e._transitionData._interruptCallbacks.push(function(){b=!0}),a.redraw&&e._transitionData._interruptCallbacks.push(function(){return u.redraw(e)}),e._transitionData._interruptCallbacks.push(function(){e.emit("plotly_transitioninterrupted",[])});var o,l,s=0,c=0,d=e._fullLayout._basePlotModules,p=!1;if(n)for(l=0;l<d.length;l++)if(d[l].transitionAxes){var g=h.expandObjectPaths(n);p=d[l].transitionAxes(e,g,i,r)||p}for(p?(o=h.extendFlat({},i),o.duration=0):o=i,l=0;l<d.length;l++)d[l].plot(e,x,o,r);setTimeout(r())})}function f(t){if(e._transitionData)return s(e._transitionData._interruptCallbacks),Promise.resolve().then(function(){if(a.redraw)return u.redraw(e)}).then(function(){e._transitioning=!1,e._transitioningWithDuration=!1,e.emit("plotly_transitioned",[])}).then(t)}function d(){if(e._transitionData)return e._transitioning=!1,l(e._transitionData._interruptCallbacks)}var p,g,y=Array.isArray(t)?t.length:0,m=r.slice(0,y),x=[],b=!1;for(p=0;p<m.length;p++){g=m[p];var _=e._fullData[g],k=_._module;if(k&&!k.animatable){var M={};for(var A in t[p])M[A]=[t[p][A]]}}var T=[v.previousPromises,d,o,v.rehover,c],S=h.syncOrAsync(T,e);return S&&S.then||(S=Promise.resolve()),S.then(function(){return e})},v.doCalcdata=function(e,t){var n,r,a,i,o=u.Axes.list(e),s=e._fullData,c=e._fullLayout,h=new Array(s.length),p=(e.calcdata||[]).slice(0);for(e.calcdata=h,e.firstscatter=!0,e.numboxes=0,e._hmpixcount=0,e._hmlumcount=0,c._piecolormap={},c._piedefaultcolorcount=0,a=0;a<s.length;a++)Array.isArray(t)&&-1===t.indexOf(a)&&(h[a]=p[a]);for(a=0;a<s.length;a++)n=s[a],n._arrayAttrs=f.findArrayAttributes(n);l(o);var v=!1;for(a=0;a<s.length;a++)if(n=s[a],!0===n.visible&&n.transforms)for(r=n._module,r&&r.calc&&r.calc(e,n),i=0;i<n.transforms.length;i++){var y=n.transforms[i];r=_[y.type],r&&r.calcTransform&&(n._hasCalcTransform=!0,v=!0,r.calcTransform(e,n,y))}if(v){for(a=0;a<o.length;a++)o[a]._min=[],o[a]._max=[],o[a]._categories=[],o[a]._categoriesMap={};l(o)}for(a=0;a<s.length;a++){var m=[];n=s[a],!0===n.visible&&(r=n._module)&&r.calc&&(m=r.calc(e,n)),Array.isArray(m)&&m[0]||(m=[{x:g,y:g}]),m[0].t||(m[0].t={}),m[0].trace=n,h[a]=m}d.getComponentMethod("fx","calc")(e)},v.rehover=function(e){e._fullLayout._rehover&&e._fullLayout._rehover()},v.generalUpdatePerTraceModule=function(e,t,n){var r,a=e.traceHash,i={};for(r=0;r<t.length;r++){var o=t[r],l=o[0].trace;l.visible&&(i[l.type]=i[l.type]||[],i[l.type].push(o))}var s=Object.keys(a),c=Object.keys(i);for(r=0;r<s.length;r++){var u=s[r];if(-1===c.indexOf(u)){var f=a[u][0];f[0].trace.visible=!1,i[u]=[f]}}for(c=Object.keys(i),r=0;r<c.length;r++){var d=i[c[r]];d[0][0].trace._module.plot(e,function(e){for(var t=[],n=0;n<e.length;n++){var r=e[n];!0===r[0].trace.visible&&t.push(r)}return t}(d),n)}e.traceHash=i}},function(e,t,n){"use strict";var r=n(57).counterRegex;e.exports={idRegex:{x:r("x"),y:r("y")},attrRegex:r("[xy]axis"),xAxisMatch:r("xaxis"),yAxisMatch:r("yaxis"),AX_ID_PATTERN:/^[xyz][0-9]*$/,AX_NAME_PATTERN:/^[xyz]axis[0-9]*$/,MINDRAG:8,MINSELECT:12,MINZOOM:20,DRAGGERSIZE:20,BENDPX:1.5,REDRAWDELAY:50,SELECTDELAY:100,SELECTID:"-select",DFLTRANGEX:[-1,6],DFLTRANGEY:[-1,4],traceLayerClasses:["imagelayer","maplayer","barlayer","carpetlayer","boxlayer","scatterlayer"],layerValue2layerClass:{"above traces":"above","below traces":"below"}}},function(e,t,n){"use strict";function r(e,t){var n,r;for(n=0;n<e.length;n++){if(null!==(r=e[n])&&"object"==typeof r)return!1;void 0!==r&&(t[n]=r)}return!0}function a(e,t,n,l){var s,c,u,f,d,h,p=e[0],g=e.length;if(2===g&&o(p)&&o(e[1])&&0===p.length){if(r(e[1],p))return p;p.splice(0,p.length)}for(var v=1;v<g;v++){s=e[v];for(c in s)u=p[c],f=s[c],l&&o(f)?p[c]=f:t&&f&&(i(f)||(d=o(f)))?(d?(d=!1,h=u&&o(u)?u:[]):h=u&&i(u)?u:{},p[c]=a([h,f],t,n,l)):(void 0!==f||n)&&(p[c]=f)}return p}var i=n(101),o=Array.isArray;t.extendFlat=function(){return a(arguments,!1,!1,!1)},t.extendDeep=function(){return a(arguments,!0,!1,!1)},t.extendDeepAll=function(){return a(arguments,!0,!0,!1)},t.extendDeepNoArrays=function(){return a(arguments,!0,!1,!0)}},function(e,t,n){"use strict";e.exports=function(e){var t=e.editType,n=e.colorEditType;void 0===n&&(n=t);var r={family:{valType:"string",role:"style",noBlank:!0,strict:!0,editType:t,description:["HTML font family - the typeface that will be applied by the web browser.","The web browser will only be able to apply a font if it is available on the system","which it operates. Provide multiple font families, separated by commas, to indicate","the preference in which to apply fonts if they aren't available on the system.","The plotly service (at https://plot.ly or on-premise) generates images on a server,","where only a select number of","fonts are installed and supported.","These include *Arial*, *Balto*, *Courier New*, *Droid Sans*,, *Droid Serif*,","*Droid Sans Mono*, *Gravitas One*, *Old Standard TT*, *Open Sans*, *Overpass*,","*PT Sans Narrow*, *Raleway*, *Times New Roman*."].join(" ")},size:{valType:"number",role:"style",min:1,editType:t},color:{valType:"color",role:"style",editType:n},editType:t,description:""+(e.description||"")};return e.arrayOk&&(r.family.arrayOk=!0,r.size.arrayOk=!0,r.color.arrayOk=!0),r}},function(e,t,n){"use strict";e.exports={BADNUM:void 0,FP_SAFE:Number.MAX_VALUE/1e4,ONEAVGYEAR:315576e5,ONEAVGMONTH:26298e5,ONEDAY:864e5,ONEHOUR:36e5,ONEMIN:6e4,ONESEC:1e3,EPOCHJD:2440587.5,ALMOST_EQUAL:1-1e-6,MINUS_SIGN:"−"}},function(e,t,n){"use strict";function r(e,t){return e.node().getBoundingClientRect()[t]}function a(e){return e.replace(y,"\\lt ").replace(m,"\\gt ")}function i(e,t,n){var r="math-output-"+d.randstr([],64),i=f.select("body").append("div").attr({id:r}).style({visibility:"hidden",position:"absolute"}).style({"font-size":t.fontSize+"px"}).text(a(e));MathJax.Hub.Queue(["Typeset",MathJax.Hub,i.node()],function(){var t=f.select("body").select("#MathJax_SVG_glyphs");if(i.select(".MathJax_SVG").empty()||!i.select("svg").node())d.log("There was an error in the tex syntax.",e),n();else{var r=i.select("svg").node().getBoundingClientRect();n(i.select(".MathJax_SVG"),t,r)}i.remove()})}function o(e,t){if(!e)return null;var n=e.match(t);return n&&(n[3]||n[4])}function l(e,t){if(!e)return"";for(var n=0;n<t.length;n++){var r=t[n];e=e.replace(r.regExp,r.sub)}return e}function s(e){return l(e,A)}function c(e,t){function n(){u++;var t=document.createElementNS(h.svg,"tspan");f.select(t).attr({class:"line",dy:u*g+"em"}),e.appendChild(t),i=t;var n=c;if(c=[{node:t}],n.length>1)for(var a=1;a<n.length;a++)r(n[a])}function r(e){var t,n=e.type,r={};if("a"===n){t="a";var o=e.target,l=e.href,s=e.popup;l&&(r={"xlink:xlink:show":"_blank"===o||"_"!==o.charAt(0)?"new":"replace",target:o,"xlink:xlink:href":l},s&&(r.onclick='window.open(this.href.baseVal,this.target.baseVal,"'+s+'");return false;'))}else t="tspan";e.style&&(r.style=e.style);var u=document.createElementNS(h.svg,t);if("sup"===n||"sub"===n){a(i,w),i.appendChild(u);var d=document.createElementNS(h.svg,"tspan");a(d,w),f.select(d).attr("dy",_[n]),r.dy=b[n],i.appendChild(u),i.appendChild(d)}else i.appendChild(u);f.select(u).attr(r),i=e.node=u,c.push(e)}function a(e,t){e.appendChild(document.createTextNode(t))}t=s(t).replace(T," ");var i,l=!1,c=[],u=-1;C.test(t)?n():(i=e,c=[{node:e}]);for(var p=t.split(S),v=0;v<p.length;v++){var y=p[v],m=y.match(L),M=m&&m[2].toLowerCase(),A=x[M];if("br"===M)n();else if(void 0===A)a(i,y);else if(m[1])!function(e){if(1===c.length)return void d.log("Ignoring unexpected end tag </"+e+">.",t);var n=c.pop();e!==n.type&&d.log("Start tag <"+n.type+"> doesnt match end tag <"+e+">. Pretending it did match.",t),i=c[c.length-1].node}(M);else{var P=m[4],E={type:M},N=o(P,O);if(N?(N=N.replace(I,"$1 fill:"),A&&(N+=";"+A)):A&&(N=A),N&&(E.style=N),"a"===M){l=!0;var R=o(P,z);if(R){var F=document.createElement("a");F.href=R,-1!==k.indexOf(F.protocol)&&(E.href=encodeURI(R),E.target=o(P,j)||"_blank",E.popup=o(P,D))}}r(E)}}return l}function u(e,t,n){var r,a,i,o=n.horizontalAlign,l=n.verticalAlign||"top",s=e.node().getBoundingClientRect(),c=t.node().getBoundingClientRect();return a="bottom"===l?function(){return s.bottom-r.height}:"middle"===l?function(){return s.top+(s.height-r.height)/2}:function(){return s.top},i="right"===o?function(){return s.right-r.width}:"center"===o?function(){return s.left+(s.width-r.width)/2}:function(){return s.left},function(){return r=this.node().getBoundingClientRect(),this.style({top:a()-c.top+"px",left:i()-c.left+"px","z-index":1e3}),this}}var f=n(58),d=n(57),h=n(103),p=n(257),g=n(71).LINE_SPACING,v=/([^$]*)([$]+[^$]*[$]+)([^$]*)/;t.convertToTspans=function(e,n,a){function o(){u.empty()||(d=e.attr("class")+"-math",u.select("svg."+d).remove()),e.text("").style("white-space","pre"),c(e.node(),l)&&e.style("pointer-events","all"),t.positionText(e),a&&a.call(e)}var l=e.text(),s=!e.attr("data-notex")&&"undefined"!=typeof MathJax&&l.match(v),u=f.select(e.node().parentNode);if(!u.empty()){var d=e.attr("class")?e.attr("class").split(" ")[0]:"text";return d+="-math",u.selectAll("svg."+d).remove(),u.selectAll("g."+d+"-group").remove(),e.style("display",null).attr({"data-unformatted":l,"data-math":"N"}),s?(n&&n._promises||[]).push(new Promise(function(t){e.style("display","none");var n=parseInt(e.node().style.fontSize,10);i(s[2],{fontSize:n},function(i,s,c){u.selectAll("svg."+d).remove(),u.selectAll("g."+d+"-group").remove();var f=i&&i.select("svg");if(!f||!f.node())return o(),void t();var h=u.append("g").classed(d+"-group",!0).attr({"pointer-events":"none","data-unformatted":l,"data-math":"Y"});h.node().appendChild(f.node()),s&&s.node()&&f.node().insertBefore(s.node().cloneNode(!0),f.node().firstChild),f.attr({class:d,height:c.height,preserveAspectRatio:"xMinYMin meet"}).style({overflow:"visible","pointer-events":"none"});var p=e.node().style.fill||"black";f.select("g").attr({fill:p,stroke:p});var g=r(f,"width"),v=r(f,"height"),y=+e.attr("x")-g*{start:0,middle:.5,end:1}[e.attr("text-anchor")||"start"],m=n||r(e,"height"),x=-m/4;"y"===d[0]?(h.attr({transform:"rotate("+[-90,+e.attr("x"),+e.attr("y")]+") translate("+[-g/2,x-v/2]+")"}),f.attr({x:+e.attr("x"),y:+e.attr("y")})):"l"===d[0]?f.attr({x:e.attr("x"),y:x-v/2}):"a"===d[0]?f.attr({x:0,y:x}):f.attr({x:y,y:+e.attr("y")+x-v/2}),a&&a.call(e,h),t(h)})})):o(),e}};var y=/(<|&lt;|&#60;)/g,m=/(>|&gt;|&#62;)/g,x={sup:"font-size:70%",sub:"font-size:70%",b:"font-weight:bold",i:"font-style:italic",a:"cursor:pointer",span:"",em:"font-style:italic;font-weight:bold"},b={sub:"0.3em",sup:"-0.6em"},_={sub:"-0.21em",sup:"0.42em"},w="​",k=["http:","https:","mailto:","",void 0,":"],M=new RegExp("</?("+Object.keys(x).join("|")+")( [^>]*)?/?>","g"),A=Object.keys(p.entityToUnicode).map(function(e){return{regExp:new RegExp("&"+e+";","g"),sub:p.entityToUnicode[e]}}),T=/(\r\n?|\n)/g,S=/(<[^<>]*>)/,L=/<(\/?)([^ >]*)(\s+(.*))?>/i,C=/<br(\s+.*)?>/i,O=/(^|[\s"'])style\s*=\s*("([^"]*);?"|'([^']*);?')/i,z=/(^|[\s"'])href\s*=\s*("([^"]*)"|'([^']*)')/i,j=/(^|[\s"'])target\s*=\s*("([^"\s]*)"|'([^'\s]*)')/i,D=/(^|[\s"'])popup\s*=\s*("([\w=,]*)"|'([\w=,]*)')/i,I=/(^|;)\s*color:/;t.plainText=function(e){return(e||"").replace(M," ")},t.lineCount=function(e){return e.selectAll("tspan.line").size()||1},t.positionText=function(e,t,n){return e.each(function(){function e(e,t){return void 0===t?null===(t=r.attr(e))&&(r.attr(e,0),t=0):r.attr(e,t),t}var r=f.select(this),a=e("x",t),i=e("y",n);"text"===this.nodeName&&r.selectAll("tspan.line").attr({x:a,y:i})})},t.makeEditable=function(e,t){function n(){a(),e.style({opacity:0});var t,n=s.attr("class");(t=n?"."+n.split(" ")[0]+"-math-group":"[class*=-math-group]")&&f.select(e.node().parentNode).select(t).style({opacity:0})}function r(e){var t=e.node(),n=document.createRange();n.selectNodeContents(t);var r=window.getSelection();r.removeAllRanges(),r.addRange(n),t.focus()}function a(){var n=f.select(i),a=n.select(".svg-container"),o=a.append("div"),s=e.node().style,c=parseFloat(s.fontSize||12);o.classed("plugin-editable editable",!0).style({position:"absolute","font-family":s.fontFamily||"Arial","font-size":c,color:t.fill||s.fill||"black",opacity:1,"background-color":t.background||"transparent",outline:"#ffffff33 1px solid",margin:[-c/8+1,0,0,-1].join("px ")+"px",padding:"0","box-sizing":"border-box"}).attr({contenteditable:!0}).text(t.text||e.attr("data-unformatted")).call(u(e,a,t)).on("blur",function(){i._editing=!1,e.text(this.textContent).style({opacity:1});var t,n=f.select(this).attr("class");(t=n?"."+n.split(" ")[0]+"-math-group":"[class*=-math-group]")&&f.select(e.node().parentNode).select(t).style({opacity:0});var r=this.textContent;f.select(this).transition().duration(0).remove(),f.select(document).on("mouseup",null),l.edit.call(e,r)}).on("focus",function(){var e=this;i._editing=!0,f.select(document).on("mouseup",function(){if(f.event.target===e)return!1;document.activeElement===o.node()&&o.node().blur()})}).on("keyup",function(){27===f.event.which?(i._editing=!1,e.style({opacity:1}),f.select(this).style({opacity:0}).on("blur",function(){return!1}).transition().remove(),l.cancel.call(e,this.textContent)):(l.input.call(e,this.textContent),f.select(this).call(u(e,a,t)))}).on("keydown",function(){13===f.event.which&&this.blur()}).call(r)}var i=t.gd,o=t.delegate,l=f.dispatch("edit","input","cancel"),s=o||e;if(e.style({"pointer-events":o?"none":"all"}),1!==e.size())throw new Error("boo");return t.immediate?n():s.on("click",n),f.rebind(e,l,"on")}},function(e,t,n){"use strict";e.exports={FROM_BL:{left:0,center:.5,right:1,bottom:0,middle:.5,top:1},FROM_TL:{left:0,center:.5,right:1,bottom:1,middle:.5,top:0},LINE_SPACING:1.3,MID_SHIFT:.35}},function(e,t,n){"use strict";var r=n(57);e.exports={hasLines:function(e){return e.visible&&e.mode&&-1!==e.mode.indexOf("lines")},hasMarkers:function(e){return e.visible&&e.mode&&-1!==e.mode.indexOf("markers")},hasText:function(e){return e.visible&&e.mode&&-1!==e.mode.indexOf("text")},isBubble:function(e){return r.isPlainObject(e.marker)&&Array.isArray(e.marker.size)}}},function(e,t,n){"use strict";function r(e,t,n){function r(e,n){for(var r=Object.keys(e),a=/^[xyz]axis[0-9]*/,i=[],o=0;o<r.length;o++){var l=r[o];t&&l.charAt(0)!==t||a.test(l)&&i.push(n+l)}return i.sort()}var a=e._fullLayout;if(!a)return[];var o=r(a,"");if(n)return o;for(var l=i.getSubplotIds(a,"gl3d")||[],s=0;s<l.length;s++){var c=l[s];o=o.concat(r(a[c],c+"."))}return o}var a=n(61),i=n(65),o=n(57),l=n(66);t.id2name=function(e){if("string"==typeof e&&e.match(l.AX_ID_PATTERN)){var t=e.substr(1);return"1"===t&&(t=""),e.charAt(0)+"axis"+t}},t.name2id=function(e){if(e.match(l.AX_NAME_PATTERN)){var t=e.substr(5);return"1"===t&&(t=""),e.charAt(0)+t}},t.cleanId=function(e,t){if(e.match(l.AX_ID_PATTERN)&&(!t||e.charAt(0)===t)){var n=e.substr(1).replace(/^0+/,"");return"1"===n&&(n=""),e.charAt(0)+n}},t.list=function(e,t,n){return r(e,t,n).map(function(t){return o.nestedProperty(e._fullLayout,t).get()})},t.listIds=function(e,n){return r(e,n,!0).map(t.name2id)},t.getFromId=function(e,n,r){var a=e._fullLayout;return"x"===r?n=n.replace(/y[0-9]*/,""):"y"===r&&(n=n.replace(/x[0-9]*/,"")),a[t.id2name(n)]},t.getFromTrace=function(e,n,r){var i=e._fullLayout,o=null;if(a.traceIs(n,"gl3d")){var l=n.scene;"scene"===l.substr(0,5)&&(o=i[l][r+"axis"])}else o=t.getFromId(e,n[r+"axis"]||r);return o}},function(e,t){var n=e.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=n)},function(e,t,n){var r;!function(a){function i(e,t){if(e=e||"",t=t||{},e instanceof i)return e;if(!(this instanceof i))return new i(e,t);var n=o(e);this._originalInput=e,this._r=n.r,this._g=n.g,this._b=n.b,this._a=n.a,this._roundA=U(100*this._a)/100,this._format=t.format||n.format,this._gradientType=t.gradientType,this._r<1&&(this._r=U(this._r)),this._g<1&&(this._g=U(this._g)),this._b<1&&(this._b=U(this._b)),this._ok=n.ok,this._tc_id=V++}function o(e){var t={r:0,g:0,b:0},n=1,r=null,a=null,i=null,o=!1,s=!1;return"string"==typeof e&&(e=F(e)),"object"==typeof e&&(R(e.r)&&R(e.g)&&R(e.b)?(t=l(e.r,e.g,e.b),o=!0,s="%"===String(e.r).substr(-1)?"prgb":"rgb"):R(e.h)&&R(e.s)&&R(e.v)?(r=P(e.s),a=P(e.v),t=f(e.h,r,a),o=!0,s="hsv"):R(e.h)&&R(e.s)&&R(e.l)&&(r=P(e.s),i=P(e.l),t=c(e.h,r,i),o=!0,s="hsl"),e.hasOwnProperty("a")&&(n=e.a)),n=L(n),{ok:o,format:e.format||s,r:G(255,X(t.r,0)),g:G(255,X(t.g,0)),b:G(255,X(t.b,0)),a:n}}function l(e,t,n){return{r:255*C(e,255),g:255*C(t,255),b:255*C(n,255)}}function s(e,t,n){e=C(e,255),t=C(t,255),n=C(n,255);var r,a,i=X(e,t,n),o=G(e,t,n),l=(i+o)/2;if(i==o)r=a=0;else{var s=i-o;switch(a=l>.5?s/(2-i-o):s/(i+o),i){case e:r=(t-n)/s+(t<n?6:0);break;case t:r=(n-e)/s+2;break;case n:r=(e-t)/s+4}r/=6}return{h:r,s:a,l:l}}function c(e,t,n){function r(e,t,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?e+6*(t-e)*n:n<.5?t:n<2/3?e+(t-e)*(2/3-n)*6:e}var a,i,o;if(e=C(e,360),t=C(t,100),n=C(n,100),0===t)a=i=o=n;else{var l=n<.5?n*(1+t):n+t-n*t,s=2*n-l;a=r(s,l,e+1/3),i=r(s,l,e),o=r(s,l,e-1/3)}return{r:255*a,g:255*i,b:255*o}}function u(e,t,n){e=C(e,255),t=C(t,255),n=C(n,255);var r,a,i=X(e,t,n),o=G(e,t,n),l=i,s=i-o;if(a=0===i?0:s/i,i==o)r=0;else{switch(i){case e:r=(t-n)/s+(t<n?6:0);break;case t:r=(n-e)/s+2;break;case n:r=(e-t)/s+4}r/=6}return{h:r,s:a,v:l}}function f(e,t,n){e=6*C(e,360),t=C(t,100),n=C(n,100);var r=a.floor(e),i=e-r,o=n*(1-t),l=n*(1-i*t),s=n*(1-(1-i)*t),c=r%6;return{r:255*[n,l,o,o,s,n][c],g:255*[s,n,n,l,o,o][c],b:255*[o,o,s,n,n,l][c]}}function d(e,t,n,r){var a=[I(U(e).toString(16)),I(U(t).toString(16)),I(U(n).toString(16))];return r&&a[0].charAt(0)==a[0].charAt(1)&&a[1].charAt(0)==a[1].charAt(1)&&a[2].charAt(0)==a[2].charAt(1)?a[0].charAt(0)+a[1].charAt(0)+a[2].charAt(0):a.join("")}function h(e,t,n,r,a){var i=[I(U(e).toString(16)),I(U(t).toString(16)),I(U(n).toString(16)),I(E(r))];return a&&i[0].charAt(0)==i[0].charAt(1)&&i[1].charAt(0)==i[1].charAt(1)&&i[2].charAt(0)==i[2].charAt(1)&&i[3].charAt(0)==i[3].charAt(1)?i[0].charAt(0)+i[1].charAt(0)+i[2].charAt(0)+i[3].charAt(0):i.join("")}function p(e,t,n,r){return[I(E(r)),I(U(e).toString(16)),I(U(t).toString(16)),I(U(n).toString(16))].join("")}function g(e,t){t=0===t?0:t||10;var n=i(e).toHsl();return n.s-=t/100,n.s=O(n.s),i(n)}function v(e,t){t=0===t?0:t||10;var n=i(e).toHsl();return n.s+=t/100,n.s=O(n.s),i(n)}function y(e){return i(e).desaturate(100)}function m(e,t){t=0===t?0:t||10;var n=i(e).toHsl();return n.l+=t/100,n.l=O(n.l),i(n)}function x(e,t){t=0===t?0:t||10;var n=i(e).toRgb();return n.r=X(0,G(255,n.r-U(-t/100*255))),n.g=X(0,G(255,n.g-U(-t/100*255))),n.b=X(0,G(255,n.b-U(-t/100*255))),i(n)}function b(e,t){t=0===t?0:t||10;var n=i(e).toHsl();return n.l-=t/100,n.l=O(n.l),i(n)}function _(e,t){var n=i(e).toHsl(),r=(n.h+t)%360;return n.h=r<0?360+r:r,i(n)}function w(e){var t=i(e).toHsl();return t.h=(t.h+180)%360,i(t)}function k(e){var t=i(e).toHsl(),n=t.h;return[i(e),i({h:(n+120)%360,s:t.s,l:t.l}),i({h:(n+240)%360,s:t.s,l:t.l})]}function M(e){var t=i(e).toHsl(),n=t.h;return[i(e),i({h:(n+90)%360,s:t.s,l:t.l}),i({h:(n+180)%360,s:t.s,l:t.l}),i({h:(n+270)%360,s:t.s,l:t.l})]}function A(e){var t=i(e).toHsl(),n=t.h;return[i(e),i({h:(n+72)%360,s:t.s,l:t.l}),i({h:(n+216)%360,s:t.s,l:t.l})]}function T(e,t,n){t=t||6,n=n||30;var r=i(e).toHsl(),a=360/n,o=[i(e)];for(r.h=(r.h-(a*t>>1)+720)%360;--t;)r.h=(r.h+a)%360,o.push(i(r));return o}function S(e,t){t=t||6;for(var n=i(e).toHsv(),r=n.h,a=n.s,o=n.v,l=[],s=1/t;t--;)l.push(i({h:r,s:a,v:o})),o=(o+s)%1;return l}function L(e){return e=parseFloat(e),(isNaN(e)||e<0||e>1)&&(e=1),e}function C(e,t){j(e)&&(e="100%");var n=D(e);return e=G(t,X(0,parseFloat(e))),n&&(e=parseInt(e*t,10)/100),a.abs(e-t)<1e-6?1:e%t/parseFloat(t)}function O(e){return G(1,X(0,e))}function z(e){return parseInt(e,16)}function j(e){return"string"==typeof e&&-1!=e.indexOf(".")&&1===parseFloat(e)}function D(e){return"string"==typeof e&&-1!=e.indexOf("%")}function I(e){return 1==e.length?"0"+e:""+e}function P(e){return e<=1&&(e=100*e+"%"),e}function E(e){return a.round(255*parseFloat(e)).toString(16)}function N(e){return z(e)/255}function R(e){return!!Q.CSS_UNIT.exec(e)}function F(e){e=e.replace(q,"").replace(H,"").toLowerCase();var t=!1;if(Z[e])e=Z[e],t=!0;else if("transparent"==e)return{r:0,g:0,b:0,a:0,format:"name"};var n;return(n=Q.rgb.exec(e))?{r:n[1],g:n[2],b:n[3]}:(n=Q.rgba.exec(e))?{r:n[1],g:n[2],b:n[3],a:n[4]}:(n=Q.hsl.exec(e))?{h:n[1],s:n[2],l:n[3]}:(n=Q.hsla.exec(e))?{h:n[1],s:n[2],l:n[3],a:n[4]}:(n=Q.hsv.exec(e))?{h:n[1],s:n[2],v:n[3]}:(n=Q.hsva.exec(e))?{h:n[1],s:n[2],v:n[3],a:n[4]}:(n=Q.hex8.exec(e))?{r:z(n[1]),g:z(n[2]),b:z(n[3]),a:N(n[4]),format:t?"name":"hex8"}:(n=Q.hex6.exec(e))?{r:z(n[1]),g:z(n[2]),b:z(n[3]),format:t?"name":"hex"}:(n=Q.hex4.exec(e))?{r:z(n[1]+""+n[1]),g:z(n[2]+""+n[2]),b:z(n[3]+""+n[3]),a:N(n[4]+""+n[4]),format:t?"name":"hex8"}:!!(n=Q.hex3.exec(e))&&{r:z(n[1]+""+n[1]),g:z(n[2]+""+n[2]),b:z(n[3]+""+n[3]),format:t?"name":"hex"}}function B(e){var t,n;return e=e||{level:"AA",size:"small"},t=(e.level||"AA").toUpperCase(),n=(e.size||"small").toLowerCase(),"AA"!==t&&"AAA"!==t&&(t="AA"),"small"!==n&&"large"!==n&&(n="small"),{level:t,size:n}}var q=/^\s+/,H=/\s+$/,V=0,U=a.round,G=a.min,X=a.max,Y=a.random;i.prototype={isDark:function(){return this.getBrightness()<128},isLight:function(){return!this.isDark()},isValid:function(){return this._ok},getOriginalInput:function(){return this._originalInput},getFormat:function(){return this._format},getAlpha:function(){return this._a},getBrightness:function(){var e=this.toRgb();return(299*e.r+587*e.g+114*e.b)/1e3},getLuminance:function(){var e,t,n,r,i,o,l=this.toRgb();return e=l.r/255,t=l.g/255,n=l.b/255,r=e<=.03928?e/12.92:a.pow((e+.055)/1.055,2.4),i=t<=.03928?t/12.92:a.pow((t+.055)/1.055,2.4),o=n<=.03928?n/12.92:a.pow((n+.055)/1.055,2.4),.2126*r+.7152*i+.0722*o},setAlpha:function(e){return this._a=L(e),this._roundA=U(100*this._a)/100,this},toHsv:function(){var e=u(this._r,this._g,this._b);return{h:360*e.h,s:e.s,v:e.v,a:this._a}},toHsvString:function(){var e=u(this._r,this._g,this._b),t=U(360*e.h),n=U(100*e.s),r=U(100*e.v);return 1==this._a?"hsv("+t+", "+n+"%, "+r+"%)":"hsva("+t+", "+n+"%, "+r+"%, "+this._roundA+")"},toHsl:function(){var e=s(this._r,this._g,this._b);return{h:360*e.h,s:e.s,l:e.l,a:this._a}},toHslString:function(){var e=s(this._r,this._g,this._b),t=U(360*e.h),n=U(100*e.s),r=U(100*e.l);return 1==this._a?"hsl("+t+", "+n+"%, "+r+"%)":"hsla("+t+", "+n+"%, "+r+"%, "+this._roundA+")"},toHex:function(e){return d(this._r,this._g,this._b,e)},toHexString:function(e){return"#"+this.toHex(e)},toHex8:function(e){return h(this._r,this._g,this._b,this._a,e)},toHex8String:function(e){return"#"+this.toHex8(e)},toRgb:function(){return{r:U(this._r),g:U(this._g),b:U(this._b),a:this._a}},toRgbString:function(){return 1==this._a?"rgb("+U(this._r)+", "+U(this._g)+", "+U(this._b)+")":"rgba("+U(this._r)+", "+U(this._g)+", "+U(this._b)+", "+this._roundA+")"},toPercentageRgb:function(){return{r:U(100*C(this._r,255))+"%",g:U(100*C(this._g,255))+"%",b:U(100*C(this._b,255))+"%",a:this._a}},toPercentageRgbString:function(){return 1==this._a?"rgb("+U(100*C(this._r,255))+"%, "+U(100*C(this._g,255))+"%, "+U(100*C(this._b,255))+"%)":"rgba("+U(100*C(this._r,255))+"%, "+U(100*C(this._g,255))+"%, "+U(100*C(this._b,255))+"%, "+this._roundA+")"},toName:function(){return 0===this._a?"transparent":!(this._a<1)&&(W[d(this._r,this._g,this._b,!0)]||!1)},toFilter:function(e){var t="#"+p(this._r,this._g,this._b,this._a),n=t,r=this._gradientType?"GradientType = 1, ":"";if(e){var a=i(e);n="#"+p(a._r,a._g,a._b,a._a)}return"progid:DXImageTransform.Microsoft.gradient("+r+"startColorstr="+t+",endColorstr="+n+")"},toString:function(e){var t=!!e;e=e||this._format;var n=!1,r=this._a<1&&this._a>=0;return t||!r||"hex"!==e&&"hex6"!==e&&"hex3"!==e&&"hex4"!==e&&"hex8"!==e&&"name"!==e?("rgb"===e&&(n=this.toRgbString()),"prgb"===e&&(n=this.toPercentageRgbString()),"hex"!==e&&"hex6"!==e||(n=this.toHexString()),"hex3"===e&&(n=this.toHexString(!0)),"hex4"===e&&(n=this.toHex8String(!0)),"hex8"===e&&(n=this.toHex8String()),"name"===e&&(n=this.toName()),"hsl"===e&&(n=this.toHslString()),"hsv"===e&&(n=this.toHsvString()),n||this.toHexString()):"name"===e&&0===this._a?this.toName():this.toRgbString()},clone:function(){return i(this.toString())},_applyModification:function(e,t){var n=e.apply(null,[this].concat([].slice.call(t)));return this._r=n._r,this._g=n._g,this._b=n._b,this.setAlpha(n._a),this},lighten:function(){return this._applyModification(m,arguments)},brighten:function(){return this._applyModification(x,arguments)},darken:function(){return this._applyModification(b,arguments)},desaturate:function(){return this._applyModification(g,arguments)},saturate:function(){return this._applyModification(v,arguments)},greyscale:function(){return this._applyModification(y,arguments)},spin:function(){return this._applyModification(_,arguments)},_applyCombination:function(e,t){return e.apply(null,[this].concat([].slice.call(t)))},analogous:function(){return this._applyCombination(T,arguments)},complement:function(){return this._applyCombination(w,arguments)},monochromatic:function(){return this._applyCombination(S,arguments)},splitcomplement:function(){return this._applyCombination(A,arguments)},triad:function(){return this._applyCombination(k,arguments)},tetrad:function(){return this._applyCombination(M,arguments)}},i.fromRatio=function(e,t){if("object"==typeof e){var n={};for(var r in e)e.hasOwnProperty(r)&&(n[r]="a"===r?e[r]:P(e[r]));e=n}return i(e,t)},i.equals=function(e,t){return!(!e||!t)&&i(e).toRgbString()==i(t).toRgbString()},i.random=function(){return i.fromRatio({r:Y(),g:Y(),b:Y()})},i.mix=function(e,t,n){n=0===n?0:n||50;var r=i(e).toRgb(),a=i(t).toRgb(),o=n/100;return i({r:(a.r-r.r)*o+r.r,g:(a.g-r.g)*o+r.g,b:(a.b-r.b)*o+r.b,a:(a.a-r.a)*o+r.a})},i.readability=function(e,t){var n=i(e),r=i(t);return(a.max(n.getLuminance(),r.getLuminance())+.05)/(a.min(n.getLuminance(),r.getLuminance())+.05)},i.isReadable=function(e,t,n){var r,a,o=i.readability(e,t);switch(a=!1,r=B(n),r.level+r.size){case"AAsmall":case"AAAlarge":a=o>=4.5;break;case"AAlarge":a=o>=3;break;case"AAAsmall":a=o>=7}return a},i.mostReadable=function(e,t,n){var r,a,o,l,s=null,c=0;n=n||{},a=n.includeFallbackColors,o=n.level,l=n.size;for(var u=0;u<t.length;u++)(r=i.readability(e,t[u]))>c&&(c=r,s=i(t[u]));return i.isReadable(e,s,{level:o,size:l})||!a?s:(n.includeFallbackColors=!1,i.mostReadable(e,["#fff","#000"],n))};var Z=i.names={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"0ff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000",blanchedalmond:"ffebcd",blue:"00f",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",burntsienna:"ea7e5d",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"0ff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkgrey:"a9a9a9",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkslategrey:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dimgrey:"696969",dodgerblue:"1e90ff",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"f0f",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",grey:"808080",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgray:"d3d3d3",lightgreen:"90ee90",lightgrey:"d3d3d3",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslategray:"789",lightslategrey:"789",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"0f0",limegreen:"32cd32",linen:"faf0e6",magenta:"f0f",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370db",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"db7093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",rebeccapurple:"663399",red:"f00",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",slategrey:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",wheat:"f5deb3",white:"fff",whitesmoke:"f5f5f5",yellow:"ff0",yellowgreen:"9acd32"},W=i.hexNames=function(e){var t={};for(var n in e)e.hasOwnProperty(n)&&(t[e[n]]=n);return t}(Z),Q=function(){var e="(?:[-\\+]?\\d*\\.\\d+%?)|(?:[-\\+]?\\d+%?)",t="[\\s|\\(]+("+e+")[,|\\s]+("+e+")[,|\\s]+("+e+")\\s*\\)?",n="[\\s|\\(]+("+e+")[,|\\s]+("+e+")[,|\\s]+("+e+")[,|\\s]+("+e+")\\s*\\)?";return{CSS_UNIT:new RegExp(e),rgb:new RegExp("rgb"+t),rgba:new RegExp("rgba"+n),hsl:new RegExp("hsl"+t),hsla:new RegExp("hsla"+n),hsv:new RegExp("hsv"+t),hsva:new RegExp("hsva"+n),hex3:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex6:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/,hex4:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex8:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/}}();void 0!==e&&e.exports?e.exports=i:void 0!==(r=function(){return i}.call(t,n,t,e))&&(e.exports=r)}(Math)},function(e,t,n){"use strict";function r(){var e=document.createElement("div");e.className="dragcover";var t=e.style;return t.position="fixed",t.left=0,t.right=0,t.top=0,t.bottom=0,t.zIndex=999999999,t.background="none",document.body.appendChild(e),e}function a(e){e._dragging=!1,e._replotPending&&s.plot(e)}function i(e){return o(e.changedTouches?e.changedTouches[0]:e,document.body)}var o=n(280),l=n(196),s=n(64),c=n(57),u=n(66),f=n(120),d=e.exports={};d.align=n(281),d.getCursor=n(282);var h=n(283);d.unhover=h.wrapped,d.unhoverRaw=h.raw,d.init=function(e){function t(t){m._dragged=!1,m._dragging=!0;var a=i(t);return s=a[0],h=a[1],y=t.target,p=(new Date).getTime(),p-m._mouseDownTime<b?x+=1:(x=1,m._mouseDownTime=p),e.prepFn&&e.prepFn(t,s,h),l?(v=r(),v.style.cursor=window.getComputedStyle(e.element).cursor):(v=document,g=window.getComputedStyle(document.documentElement).cursor,document.documentElement.style.cursor=window.getComputedStyle(e.element).cursor),v.addEventListener("mousemove",n),v.addEventListener("mouseup",o),v.addEventListener("mouseout",o),v.addEventListener("touchmove",n),v.addEventListener("touchend",o),c.pauseEvent(t)}function n(t){var n=i(t),r=n[0]-s,a=n[1]-h,o=e.minDrag||u.MINDRAG;return Math.abs(r)<o&&(r=0),Math.abs(a)<o&&(a=0),(r||a)&&(m._dragged=!0,d.unhover(m)),e.moveFn&&e.moveFn(r,a,m._dragged),c.pauseEvent(t)}function o(t){if(v.removeEventListener("mousemove",n),v.removeEventListener("mouseup",o),v.removeEventListener("mouseout",o),v.removeEventListener("touchmove",n),v.removeEventListener("touchend",o),l?c.removeElement(v):g&&(v.documentElement.style.cursor=g,g=null),!m._dragging)return void(m._dragged=!1);if(m._dragging=!1,(new Date).getTime()-m._mouseDownTime>b&&(x=Math.max(x-1,1)),e.doneFn&&e.doneFn(m._dragged,x,t),!m._dragged){var r;try{r=new MouseEvent("click",t)}catch(e){var s=i(t);r=document.createEvent("MouseEvents"),r.initMouseEvent("click",t.bubbles,t.cancelable,t.view,t.detail,t.screenX,t.screenY,s[0],s[1],t.ctrlKey,t.altKey,t.shiftKey,t.metaKey,t.button,t.relatedTarget)}y.dispatchEvent(r)}return a(m),m._dragged=!1,c.pauseEvent(t)}var s,h,p,g,v,y,m=e.gd,x=1,b=f.DBLCLICKDELAY;m._mouseDownTime||(m._mouseDownTime=0),e.element.style.pointerEvents="all",e.element.onmousedown=t,e.element.ontouchstart=t},d.coverSlip=r},function(e,t){var n=e.exports={version:"2.5.1"};"number"==typeof __e&&(__e=n)},function(e,t,n){e.exports=!n(82)(function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a})},function(e,t,n){"use strict";t.defaults=["#1f77b4","#ff7f0e","#2ca02c","#d62728","#9467bd","#8c564b","#e377c2","#7f7f7f","#bcbd22","#17becf"],t.defaultLine="#444",t.lightLine="#eee",t.background="#fff",t.borderLine="#BEC8D9",t.lightFraction=1e3/11},function(e,t,n){"use strict";var r=n(68),a=n(79),i=n(147).dash,o=n(67).extendFlat,l=n(66);e.exports={visible:{valType:"boolean",role:"info",editType:"plot",description:["A single toggle to hide the axis while preserving interaction like dragging.","Default is true when a cheater plot is present on the axis, otherwise","false"].join(" ")},color:{valType:"color",dflt:a.defaultLine,role:"style",editType:"ticks",description:["Sets default for all colors associated with this axis","all at once: line, font, tick, and grid colors.","Grid color is lightened by blending this with the plot background","Individual pieces can override this."].join(" ")},title:{valType:"string",role:"info",editType:"ticks",description:"Sets the title of this axis."},titlefont:r({editType:"ticks",description:["Sets this axis' title font."].join(" ")}),type:{valType:"enumerated",values:["-","linear","log","date","category"],dflt:"-",role:"info",editType:"calc",description:["Sets the axis type.","By default, plotly attempts to determined the axis type","by looking into the data of the traces that referenced","the axis in question."].join(" ")},autorange:{valType:"enumerated",values:[!0,!1,"reversed"],dflt:!0,role:"style",editType:"calc",impliedEdits:{"range[0]":void 0,"range[1]":void 0},description:["Determines whether or not the range of this axis is","computed in relation to the input data.","See `rangemode` for more info.","If `range` is provided, then `autorange` is set to *false*."].join(" ")},rangemode:{valType:"enumerated",values:["normal","tozero","nonnegative"],dflt:"normal",role:"style",editType:"calc",description:["If *normal*, the range is computed in relation to the extrema","of the input data.","If *tozero*`, the range extends to 0,","regardless of the input data","If *nonnegative*, the range is non-negative,","regardless of the input data."].join(" ")},range:{valType:"info_array",role:"info",items:[{valType:"any",editType:"plot",impliedEdits:{"^autorange":!1}},{valType:"any",editType:"plot",impliedEdits:{"^autorange":!1}}],editType:"plot",impliedEdits:{autorange:!1},description:["Sets the range of this axis.","If the axis `type` is *log*, then you must take the log of your","desired range (e.g. to set the range from 1 to 100,","set the range from 0 to 2).","If the axis `type` is *date*, it should be date strings,","like date data, though Date objects and unix milliseconds","will be accepted and converted to strings.","If the axis `type` is *category*, it should be numbers,","using the scale where each category is assigned a serial","number from zero in the order it appears."].join(" ")},fixedrange:{valType:"boolean",dflt:!1,role:"info",editType:"calc",description:["Determines whether or not this axis is zoom-able.","If true, then zoom is disabled."].join(" ")},scaleanchor:{valType:"enumerated",values:[l.idRegex.x.toString(),l.idRegex.y.toString()],role:"info",editType:"calc",description:["If set to another axis id (e.g. `x2`, `y`), the range of this axis","changes together with the range of the corresponding axis","such that the scale of pixels per unit is in a constant ratio.","Both axes are still zoomable, but when you zoom one, the other will","zoom the same amount, keeping a fixed midpoint.","`constrain` and `constraintoward` determine how we enforce the constraint.","You can chain these, ie `yaxis: {scaleanchor: *x*}, xaxis2: {scaleanchor: *y*}`","but you can only link axes of the same `type`.","The linked axis can have the opposite letter (to constrain the aspect ratio)","or the same letter (to match scales across subplots).","Loops (`yaxis: {scaleanchor: *x*}, xaxis: {scaleanchor: *y*}` or longer) are redundant","and the last constraint encountered will be ignored to avoid possible","inconsistent constraints via `scaleratio`."].join(" ")},scaleratio:{valType:"number",min:0,dflt:1,role:"info",editType:"calc",description:["If this axis is linked to another by `scaleanchor`, this determines the pixel","to unit scale ratio. For example, if this value is 10, then every unit on","this axis spans 10 times the number of pixels as a unit on the linked axis.","Use this for example to create an elevation profile where the vertical scale","is exaggerated a fixed amount with respect to the horizontal."].join(" ")},constrain:{valType:"enumerated",values:["range","domain"],dflt:"range",role:"info",editType:"calc",description:["If this axis needs to be compressed (either due to its own `scaleanchor` and","`scaleratio` or those of the other axis), determines how that happens:","by increasing the *range* (default), or by decreasing the *domain*."].join(" ")},constraintoward:{valType:"enumerated",values:["left","center","right","top","middle","bottom"],role:"info",editType:"calc",description:["If this axis needs to be compressed (either due to its own `scaleanchor` and","`scaleratio` or those of the other axis), determines which direction we push","the originally specified plot area. Options are *left*, *center* (default),","and *right* for x axes, and *top*, *middle* (default), and *bottom* for y axes."].join(" ")},tickmode:{valType:"enumerated",values:["auto","linear","array"],role:"info",editType:"ticks",impliedEdits:{tick0:void 0,dtick:void 0},description:["Sets the tick mode for this axis.","If *auto*, the number of ticks is set via `nticks`.","If *linear*, the placement of the ticks is determined by","a starting position `tick0` and a tick step `dtick`","(*linear* is the default value if `tick0` and `dtick` are provided).","If *array*, the placement of the ticks is set via `tickvals`","and the tick text is `ticktext`.","(*array* is the default value if `tickvals` is provided)."].join(" ")},nticks:{valType:"integer",min:0,dflt:0,role:"style",editType:"ticks",description:["Specifies the maximum number of ticks for the particular axis.","The actual number of ticks will be chosen automatically to be","less than or equal to `nticks`.","Has an effect only if `tickmode` is set to *auto*."].join(" ")},tick0:{valType:"any",role:"style",editType:"ticks",impliedEdits:{tickmode:"linear"},description:["Sets the placement of the first tick on this axis.","Use with `dtick`.","If the axis `type` is *log*, then you must take the log of your starting tick","(e.g. to set the starting tick to 100, set the `tick0` to 2)","except when `dtick`=*L<f>* (see `dtick` for more info).","If the axis `type` is *date*, it should be a date string, like date data.","If the axis `type` is *category*, it should be a number, using the scale where","each category is assigned a serial number from zero in the order it appears."].join(" ")},dtick:{valType:"any",role:"style",editType:"ticks",impliedEdits:{tickmode:"linear"},description:["Sets the step in-between ticks on this axis. Use with `tick0`.","Must be a positive number, or special strings available to *log* and *date* axes.","If the axis `type` is *log*, then ticks are set every 10^(n*dtick) where n","is the tick number. For example,","to set a tick mark at 1, 10, 100, 1000, ... set dtick to 1.","To set tick marks at 1, 100, 10000, ... set dtick to 2.","To set tick marks at 1, 5, 25, 125, 625, 3125, ... set dtick to log_10(5), or 0.69897000433.","*log* has several special values; *L<f>*, where `f` is a positive number,","gives ticks linearly spaced in value (but not position).","For example `tick0` = 0.1, `dtick` = *L0.5* will put ticks at 0.1, 0.6, 1.1, 1.6 etc.","To show powers of 10 plus small digits between, use *D1* (all digits) or *D2* (only 2 and 5).","`tick0` is ignored for *D1* and *D2*.","If the axis `type` is *date*, then you must convert the time to milliseconds.","For example, to set the interval between ticks to one day,","set `dtick` to 86400000.0.","*date* also has special values *M<n>* gives ticks spaced by a number of months.","`n` must be a positive integer.","To set ticks on the 15th of every third month, set `tick0` to *2000-01-15* and `dtick` to *M3*.","To set ticks every 4 years, set `dtick` to *M48*"].join(" ")},tickvals:{valType:"data_array",editType:"ticks",description:["Sets the values at which ticks on this axis appear.","Only has an effect if `tickmode` is set to *array*.","Used with `ticktext`."].join(" ")},ticktext:{valType:"data_array",editType:"ticks",description:["Sets the text displayed at the ticks position via `tickvals`.","Only has an effect if `tickmode` is set to *array*.","Used with `tickvals`."].join(" ")},ticks:{valType:"enumerated",values:["outside","inside",""],role:"style",editType:"ticks",description:["Determines whether ticks are drawn or not.","If **, this axis' ticks are not drawn.","If *outside* (*inside*), this axis' are drawn outside (inside)","the axis lines."].join(" ")},mirror:{valType:"enumerated",values:[!0,"ticks",!1,"all","allticks"],dflt:!1,role:"style",editType:"ticks+layoutstyle",description:["Determines if the axis lines or/and ticks are mirrored to","the opposite side of the plotting area.","If *true*, the axis lines are mirrored.","If *ticks*, the axis lines and ticks are mirrored.","If *false*, mirroring is disable.","If *all*, axis lines are mirrored on all shared-axes subplots.","If *allticks*, axis lines and ticks are mirrored","on all shared-axes subplots."].join(" ")},ticklen:{valType:"number",min:0,dflt:5,role:"style",editType:"ticks",description:"Sets the tick length (in px)."},tickwidth:{valType:"number",min:0,dflt:1,role:"style",editType:"ticks",description:"Sets the tick width (in px)."},tickcolor:{valType:"color",dflt:a.defaultLine,role:"style",editType:"ticks",description:"Sets the tick color."},showticklabels:{valType:"boolean",dflt:!0,role:"style",editType:"ticks",description:"Determines whether or not the tick labels are drawn."},showspikes:{valType:"boolean",dflt:!1,role:"style",editType:"modebar",description:["Determines whether or not spikes (aka droplines) are drawn for this axis.","Note: This only takes affect when hovermode = closest"].join(" ")},spikecolor:{valType:"color",dflt:null,role:"style",editType:"none",description:"Sets the spike color. If undefined, will use the series color"},spikethickness:{valType:"number",dflt:3,role:"style",editType:"none",description:"Sets the width (in px) of the zero line."},spikedash:o({},i,{dflt:"dash",editType:"none"}),spikemode:{valType:"flaglist",flags:["toaxis","across","marker"],role:"style",dflt:"toaxis",editType:"none",description:["Determines the drawing mode for the spike line","If *toaxis*, the line is drawn from the data point to the axis the ","series is plotted on.","If *across*, the line is drawn across the entire plot area, and","supercedes *toaxis*.","If *marker*, then a marker dot is drawn on the axis the series is","plotted on"].join(" ")},tickfont:r({editType:"ticks",description:"Sets the tick font."}),tickangle:{valType:"angle",dflt:"auto",role:"style",editType:"ticks",description:["Sets the angle of the tick labels with respect to the horizontal.","For example, a `tickangle` of -90 draws the tick labels","vertically."].join(" ")},tickprefix:{valType:"string",dflt:"",role:"style",editType:"ticks",description:"Sets a tick label prefix."},showtickprefix:{valType:"enumerated",values:["all","first","last","none"],dflt:"all",role:"style",editType:"ticks",description:["If *all*, all tick labels are displayed with a prefix.","If *first*, only the first tick is displayed with a prefix.","If *last*, only the last tick is displayed with a suffix.","If *none*, tick prefixes are hidden."].join(" ")},ticksuffix:{valType:"string",dflt:"",role:"style",editType:"ticks",description:"Sets a tick label suffix."},showticksuffix:{valType:"enumerated",values:["all","first","last","none"],dflt:"all",role:"style",editType:"ticks",description:"Same as `showtickprefix` but for tick suffixes."},showexponent:{valType:"enumerated",values:["all","first","last","none"],dflt:"all",role:"style",editType:"ticks",description:["If *all*, all exponents are shown besides their significands.","If *first*, only the exponent of the first tick is shown.","If *last*, only the exponent of the last tick is shown.","If *none*, no exponents appear."].join(" ")},exponentformat:{valType:"enumerated",values:["none","e","E","power","SI","B"],dflt:"B",role:"style",editType:"ticks",description:["Determines a formatting rule for the tick exponents.","For example, consider the number 1,000,000,000.","If *none*, it appears as 1,000,000,000.","If *e*, 1e+9.","If *E*, 1E+9.","If *power*, 1x10^9 (with 9 in a super script).","If *SI*, 1G.","If *B*, 1B."].join(" ")},separatethousands:{valType:"boolean",dflt:!1,role:"style",editType:"ticks",description:['If "true", even 4-digit integers are separated'].join(" ")},tickformat:{valType:"string",dflt:"",role:"style",editType:"ticks",description:["Sets the tick label formatting rule using d3 formatting mini-languages","which are very similar to those in Python. For numbers, see:","https://github.com/d3/d3-format/blob/master/README.md#locale_format","And for dates see:","https://github.com/d3/d3-time-format/blob/master/README.md#locale_format","We add one item to d3's date formatter: *%{n}f* for fractional seconds","with n digits. For example, *2016-10-13 09:15:23.456* with tickformat","*%H~%M~%S.%2f* would display *09~15~23.46*"].join(" ")},hoverformat:{valType:"string",dflt:"",role:"style",editType:"none",description:["Sets the hover text formatting rule using d3 formatting mini-languages","which are very similar to those in Python. For numbers, see:","https://github.com/d3/d3-format/blob/master/README.md#locale_format","And for dates see:","https://github.com/d3/d3-time-format/blob/master/README.md#locale_format","We add one item to d3's date formatter: *%{n}f* for fractional seconds","with n digits. For example, *2016-10-13 09:15:23.456* with tickformat","*%H~%M~%S.%2f* would display *09~15~23.46*"].join(" ")},showline:{valType:"boolean",dflt:!1,role:"style",editType:"layoutstyle",description:["Determines whether or not a line bounding this axis is drawn."].join(" ")},linecolor:{valType:"color",dflt:a.defaultLine,role:"style",editType:"layoutstyle",description:"Sets the axis line color."},linewidth:{valType:"number",min:0,dflt:1,role:"style",editType:"ticks+layoutstyle",description:"Sets the width (in px) of the axis line."},showgrid:{valType:"boolean",role:"style",editType:"ticks",description:["Determines whether or not grid lines are drawn.","If *true*, the grid lines are drawn at every tick mark."].join(" ")},gridcolor:{valType:"color",dflt:a.lightLine,role:"style",editType:"ticks",description:"Sets the color of the grid lines."},gridwidth:{valType:"number",min:0,dflt:1,role:"style",editType:"ticks",description:"Sets the width (in px) of the grid lines."},zeroline:{valType:"boolean",role:"style",editType:"ticks",description:["Determines whether or not a line is drawn at along the 0 value","of this axis.","If *true*, the zero line is drawn on top of the grid lines."].join(" ")},zerolinecolor:{valType:"color",dflt:a.defaultLine,role:"style",editType:"ticks",description:"Sets the line color of the zero line."},zerolinewidth:{valType:"number",dflt:1,role:"style",editType:"ticks",description:"Sets the width (in px) of the zero line."},anchor:{valType:"enumerated",values:["free",l.idRegex.x.toString(),l.idRegex.y.toString()],role:"info",editType:"plot",description:["If set to an opposite-letter axis id (e.g. `x2`, `y`), this axis is bound to","the corresponding opposite-letter axis.","If set to *free*, this axis' position is determined by `position`."].join(" ")},side:{valType:"enumerated",values:["top","bottom","left","right"],role:"info",editType:"plot",description:["Determines whether a x (y) axis is positioned","at the *bottom* (*left*) or *top* (*right*)","of the plotting area."].join(" ")},overlaying:{valType:"enumerated",values:["free",l.idRegex.x.toString(),l.idRegex.y.toString()],role:"info",editType:"calc",description:["If set a same-letter axis id, this axis is overlaid on top of","the corresponding same-letter axis.","If *false*, this axis does not overlay any same-letter axes."].join(" ")},layer:{valType:"enumerated",values:["above traces","below traces"],dflt:"above traces",role:"info",editType:"plot",description:["Sets the layer on which this axis is displayed.","If *above traces*, this axis is displayed above all the subplot's traces","If *below traces*, this axis is displayed below all the subplot's traces,","but above the grid lines.","Useful when used together with scatter-like traces with `cliponaxis`","set to *false* to show markers and/or text nodes above this axis."].join(" ")},domain:{valType:"info_array",role:"info",items:[{valType:"number",min:0,max:1,editType:"calc"},{valType:"number",min:0,max:1,editType:"calc"}],dflt:[0,1],editType:"calc",description:["Sets the domain of this axis (in plot fraction)."].join(" ")},position:{valType:"number",min:0,max:1,dflt:0,role:"style",editType:"plot",description:["Sets the position of this axis in the plotting space","(in normalized coordinates).","Only has an effect if `anchor` is set to *free*."].join(" ")},categoryorder:{valType:"enumerated",values:["trace","category ascending","category descending","array"],dflt:"trace",role:"info",editType:"calc",description:["Specifies the ordering logic for the case of categorical variables.","By default, plotly uses *trace*, which specifies the order that is present in the data supplied.","Set `categoryorder` to *category ascending* or *category descending* if order should be determined by","the alphanumerical order of the category names.","Set `categoryorder` to *array* to derive the ordering from the attribute `categoryarray`. If a category","is not found in the `categoryarray` array, the sorting behavior for that attribute will be identical to","the *trace* mode. The unspecified categories will follow the categories in `categoryarray`."].join(" ")},categoryarray:{valType:"data_array",role:"info",editType:"calc",description:["Sets the order in which categories on this axis appear.","Only has an effect if `categoryorder` is set to *array*.","Used with `categoryorder`."].join(" ")},editType:"calc",_deprecated:{autotick:{valType:"boolean",role:"info",editType:"ticks",description:["Obsolete.","Set `tickmode` to *auto* for old `autotick` *true* behavior.","Set `tickmode` to *linear* for `autotick` *false*."].join(" ")}}}},function(e,t){e.exports=function(e){return"object"==typeof e?null!==e:"function"==typeof e}},function(e,t){e.exports=function(e){try{return!!e()}catch(e){return!0}}},function(e,t,n){"use strict";e.exports={Greys:[[0,"rgb(0,0,0)"],[1,"rgb(255,255,255)"]],YlGnBu:[[0,"rgb(8,29,88)"],[.125,"rgb(37,52,148)"],[.25,"rgb(34,94,168)"],[.375,"rgb(29,145,192)"],[.5,"rgb(65,182,196)"],[.625,"rgb(127,205,187)"],[.75,"rgb(199,233,180)"],[.875,"rgb(237,248,217)"],[1,"rgb(255,255,217)"]],Greens:[[0,"rgb(0,68,27)"],[.125,"rgb(0,109,44)"],[.25,"rgb(35,139,69)"],[.375,"rgb(65,171,93)"],[.5,"rgb(116,196,118)"],[.625,"rgb(161,217,155)"],[.75,"rgb(199,233,192)"],[.875,"rgb(229,245,224)"],[1,"rgb(247,252,245)"]],YlOrRd:[[0,"rgb(128,0,38)"],[.125,"rgb(189,0,38)"],[.25,"rgb(227,26,28)"],[.375,"rgb(252,78,42)"],[.5,"rgb(253,141,60)"],[.625,"rgb(254,178,76)"],[.75,"rgb(254,217,118)"],[.875,"rgb(255,237,160)"],[1,"rgb(255,255,204)"]],Bluered:[[0,"rgb(0,0,255)"],[1,"rgb(255,0,0)"]],RdBu:[[0,"rgb(5,10,172)"],[.35,"rgb(106,137,247)"],[.5,"rgb(190,190,190)"],[.6,"rgb(220,170,132)"],[.7,"rgb(230,145,90)"],[1,"rgb(178,10,28)"]],Reds:[[0,"rgb(220,220,220)"],[.2,"rgb(245,195,157)"],[.4,"rgb(245,160,105)"],[1,"rgb(178,10,28)"]],Blues:[[0,"rgb(5,10,172)"],[.35,"rgb(40,60,190)"],[.5,"rgb(70,100,245)"],[.6,"rgb(90,120,245)"],[.7,"rgb(106,137,247)"],[1,"rgb(220,220,220)"]],Picnic:[[0,"rgb(0,0,255)"],[.1,"rgb(51,153,255)"],[.2,"rgb(102,204,255)"],[.3,"rgb(153,204,255)"],[.4,"rgb(204,204,255)"],[.5,"rgb(255,255,255)"],[.6,"rgb(255,204,255)"],[.7,"rgb(255,153,255)"],[.8,"rgb(255,102,204)"],[.9,"rgb(255,102,102)"],[1,"rgb(255,0,0)"]],Rainbow:[[0,"rgb(150,0,90)"],[.125,"rgb(0,0,200)"],[.25,"rgb(0,25,255)"],[.375,"rgb(0,152,255)"],[.5,"rgb(44,255,150)"],[.625,"rgb(151,255,0)"],[.75,"rgb(255,234,0)"],[.875,"rgb(255,111,0)"],[1,"rgb(255,0,0)"]],Portland:[[0,"rgb(12,51,131)"],[.25,"rgb(10,136,186)"],[.5,"rgb(242,211,56)"],[.75,"rgb(242,143,56)"],[1,"rgb(217,30,30)"]],Jet:[[0,"rgb(0,0,131)"],[.125,"rgb(0,60,170)"],[.375,"rgb(5,255,255)"],[.625,"rgb(255,255,0)"],[.875,"rgb(250,0,0)"],[1,"rgb(128,0,0)"]],Hot:[[0,"rgb(0,0,0)"],[.3,"rgb(230,0,0)"],[.6,"rgb(255,210,0)"],[1,"rgb(255,255,255)"]],Blackbody:[[0,"rgb(0,0,0)"],[.2,"rgb(230,0,0)"],[.4,"rgb(230,210,0)"],[.7,"rgb(255,255,255)"],[1,"rgb(160,200,255)"]],Earth:[[0,"rgb(0,0,130)"],[.1,"rgb(0,180,180)"],[.2,"rgb(40,210,40)"],[.4,"rgb(230,230,50)"],[.6,"rgb(120,70,20)"],[1,"rgb(255,255,255)"]],Electric:[[0,"rgb(0,0,0)"],[.15,"rgb(30,0,100)"],[.4,"rgb(120,0,100)"],[.6,"rgb(160,90,0)"],[.8,"rgb(230,200,0)"],[1,"rgb(255,250,220)"]],Viridis:[[0,"#440154"],[.06274509803921569,"#48186a"],[.12549019607843137,"#472d7b"],[.18823529411764706,"#424086"],[.25098039215686274,"#3b528b"],[.3137254901960784,"#33638d"],[.3764705882352941,"#2c728e"],[.4392156862745098,"#26828e"],[.5019607843137255,"#21918c"],[.5647058823529412,"#1fa088"],[.6274509803921569,"#28ae80"],[.6901960784313725,"#3fbc73"],[.7529411764705882,"#5ec962"],[.8156862745098039,"#84d44b"],[.8784313725490196,"#addc30"],[.9411764705882353,"#d8e219"],[1,"#fde725"]]}},function(e,t,n){"use strict";function r(e){for(var t={},n=0;n<e.length;n++)t[e[n]]=!1;return t}function a(e,t,n){var r=l({},e);for(var a in r){var o=r[a];s(o)&&(r[a]=i(o,t,n,a))}return"from-root"===n&&(r.editType=t),r}function i(e,t,n,r){if(e.valType){var o=l({},e);if(o.editType=t,Array.isArray(e.items)){o.items=new Array(e.items.length);for(var s=0;s<e.items.length;s++)o.items[s]=i(e.items[s],t,"from-root")}return o}return a(e,t,"_"===r.charAt(0)?"nested":"from-root")}var o=n(57),l=o.extendFlat,s=o.isPlainObject,c={valType:"flaglist",extras:["none"],flags:["calc","calcIfAutorange","clearAxisTypes","plot","style","colorbars"],description:["trace attributes should include an `editType` string matching this flaglist.","*calc* is the most extensive: a full `Plotly.plot` starting by clearing `gd.calcdata`","to force it to be regenerated","*calcIfAutorange* does a full `Plotly.plot`, but only clears and redoes `gd.calcdata`","if there is at least one autoranged axis.","*clearAxisTypes* resets the types of the axes this trace is on, because new data could","cause the automatic axis type detection to change. Log type will not be cleared, as that","is never automatically chosen so must have been user-specified.","*plot* calls `Plotly.plot` but without first clearing `gd.calcdata`.","*style* only calls `module.style` for all trace modules and redraws the legend.","*colorbars* only redraws colorbars."].join(" ")},u={valType:"flaglist",extras:["none"],flags:["calc","calcIfAutorange","plot","legend","ticks","layoutstyle","modebar","camera","arraydraw"],description:["layout attributes should include an `editType` string matching this flaglist.","*calc* is the most extensive: a full `Plotly.plot` starting by clearing `gd.calcdata`","to force it to be regenerated","*calcIfAutorange* does a full `Plotly.plot`, but only clears and redoes `gd.calcdata`","if there is at least one autoranged axis.","*plot* calls `Plotly.plot` but without first clearing `gd.calcdata`.","*legend* only redraws the legend.","*ticks* only redraws axis ticks, labels, and gridlines.","*layoutstyle* reapplies global and SVG cartesian axis styles.","*modebar* just updates the modebar.","*camera* just updates the camera settings for gl3d scenes.","*arraydraw* allows component arrays to invoke the redraw routines just for the","component(s) that changed."].join(" ")},f=c.flags.slice().concat(["clearCalc","fullReplot"]),d=u.flags.slice().concat("layoutReplot");e.exports={traces:c,layout:u,traceFlags:function(){return r(f)},layoutFlags:function(){return r(d)},update:function(e,t){var n=t.editType;if(n&&"none"!==n)for(var r=n.split("+"),a=0;a<r.length;a++)e[r[a]]=!0},overrideAll:a}},,function(e,t,n){var r=n(87),a=n(95);e.exports=n(78)?function(e,t,n){return r.f(e,t,a(1,n))}:function(e,t,n){return e[t]=n,e}},function(e,t,n){var r=n(88),a=n(129),i=n(130),o=Object.defineProperty;t.f=n(78)?Object.defineProperty:function(e,t,n){if(r(e),t=i(t,!0),r(n),a)try{return o(e,t,n)}catch(e){}if("get"in n||"set"in n)throw TypeError("Accessors not supported!");return"value"in n&&(e[t]=n.value),e}},function(e,t,n){var r=n(81);e.exports=function(e){if(!r(e))throw TypeError(e+" is not an object!");return e}},function(e,t){var n={}.hasOwnProperty;e.exports=function(e,t){return n.call(e,t)}},function(e,t){e.exports=function(e){if(void 0==e)throw TypeError("Can't call method on  "+e);return e}},function(e,t){var n=Math.ceil,r=Math.floor;e.exports=function(e){return isNaN(e=+e)?0:(e>0?r:n)(e)}},function(e,t,n){"use strict";e.exports=function(e,t){(e.attr("class")||"").split(" ").forEach(function(t){0===t.indexOf("cursor-")&&e.classed(t,!1)}),t&&e.classed("cursor-"+t,!0)}},function(e,t,n){"use strict";var r=n(57);e.exports=function(e,t,n){var a,i=n.name,o=t[i],l=r.isArray(e[i])?e[i]:[],s=t[i]=[];for(a=0;a<l.length;a++){var c=l[a],u={},f={};r.isPlainObject(c)||(f.itemIsNotPlainObject=!0,c={}),n.handleItemDefaults(c,u,t,n,f),u._input=c,u._index=a,s.push(u)}if(r.isArray(o)){var d=Math.min(o.length,s.length);for(a=0;a<d;a++)r.relinkPrivateKeys(s[a],o[a])}}},function(e,t,n){var r=n(74),a=n(77),i=n(107),o=n(86),l=function(e,t,n){var s,c,u,f=e&l.F,d=e&l.G,h=e&l.S,p=e&l.P,g=e&l.B,v=e&l.W,y=d?a:a[t]||(a[t]={}),m=y.prototype,x=d?r:h?r[t]:(r[t]||{}).prototype;d&&(n=t);for(s in n)(c=!f&&x&&void 0!==x[s])&&s in y||(u=c?x[s]:n[s],y[s]=d&&"function"!=typeof x[s]?n[s]:g&&c?i(u,r):v&&x[s]==u?function(e){var t=function(t,n,r){if(this instanceof e){switch(arguments.length){case 0:return new e;case 1:return new e(t);case 2:return new e(t,n)}return new e(t,n,r)}return e.apply(this,arguments)};return t.prototype=e.prototype,t}(u):p&&"function"==typeof u?i(Function.call,u):u,p&&((y.virtual||(y.virtual={}))[s]=u,e&l.R&&m&&!m[s]&&o(m,s,u)))};l.F=1,l.G=2,l.S=4,l.P=8,l.B=16,l.W=32,l.U=64,l.R=128,e.exports=l},function(e,t){e.exports=function(e,t){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:t}}},function(e,t,n){var r=n(97),a=n(90);e.exports=function(e){return r(a(e))}},function(e,t,n){var r=n(110);e.exports=Object("z").propertyIsEnumerable(0)?Object:function(e){return"String"==r(e)?e.split(""):Object(e)}},function(e,t,n){var r=n(112)("keys"),a=n(113);e.exports=function(e){return r[e]||(r[e]=a(e))}},function(e,t,n){var r=n(90);e.exports=function(e){return Object(r(e))}},function(e,t,n){"use strict";function r(e,t){if(e.apply)e.apply(e,t);else for(var n=0;n<t.length;n++)e(t[n])}var a=n(137),i=e.exports={};i.log=function(){if(a.logging>1){for(var e=["LOG:"],t=0;t<arguments.length;t++)e.push(arguments[t]);r(console.trace||console.log,e)}},i.warn=function(){if(a.logging>0){for(var e=["WARN:"],t=0;t<arguments.length;t++)e.push(arguments[t]);r(console.trace||console.log,e)}},i.error=function(){if(a.logging>0){for(var e=["ERROR:"],t=0;t<arguments.length;t++)e.push(arguments[t]);r(console.error,e)}}},function(e,t,n){"use strict";e.exports=function(e){return window&&window.process&&window.process.versions?"[object Object]"===Object.prototype.toString.call(e):"[object Object]"===Object.prototype.toString.call(e)&&Object.getPrototypeOf(e)===Object.prototype}},function(e,t,n){"use strict";var r=n(68),a=n(79),i=r({editType:"calc",description:["Sets the global font.","Note that fonts used in traces and other","layout components inherit from the global font."].join(" ")});i.family.dflt='"Open Sans", verdana, arial, sans-serif',i.size.dflt=12,i.color.dflt=a.defaultLine,e.exports={font:i,title:{valType:"string",role:"info",dflt:"Click to enter Plot title",editType:"layoutstyle",description:["Sets the plot's title."].join(" ")},titlefont:r({editType:"layoutstyle",description:"Sets the title font."}),autosize:{valType:"boolean",role:"info",dflt:!1,editType:"none",description:["Determines whether or not a layout width or height","that has been left undefined by the user","is initialized on each relayout.","Note that, regardless of this attribute,","an undefined layout width or height","is always initialized on the first call to plot."].join(" ")},width:{valType:"number",role:"info",min:10,dflt:700,editType:"none",description:["Sets the plot's width (in px)."].join(" ")},height:{valType:"number",role:"info",min:10,dflt:450,editType:"none",description:["Sets the plot's height (in px)."].join(" ")},margin:{l:{valType:"number",role:"info",min:0,dflt:80,editType:"calc",description:"Sets the left margin (in px)."},r:{valType:"number",role:"info",min:0,dflt:80,editType:"calc",description:"Sets the right margin (in px)."},t:{valType:"number",role:"info",min:0,dflt:100,editType:"calc",description:"Sets the top margin (in px)."},b:{valType:"number",role:"info",min:0,dflt:80,editType:"calc",description:"Sets the bottom margin (in px)."},pad:{valType:"number",role:"info",min:0,dflt:0,editType:"calc",description:["Sets the amount of padding (in px)","between the plotting area and the axis lines"].join(" ")},autoexpand:{valType:"boolean",role:"info",dflt:!0,editType:"calc"},editType:"calc"},paper_bgcolor:{valType:"color",role:"style",dflt:a.background,editType:"plot",description:"Sets the color of paper where the graph is drawn."},plot_bgcolor:{valType:"color",role:"style",dflt:a.background,editType:"layoutstyle",description:["Sets the color of plotting area in-between x and y axes."].join(" ")},separators:{valType:"string",role:"style",dflt:".,",editType:"plot",description:["Sets the decimal and thousand separators.","For example, *. * puts a '.' before decimals and","a space between thousands."].join(" ")},hidesources:{valType:"boolean",role:"info",dflt:!1,editType:"plot",description:["Determines whether or not a text link citing the data source is","placed at the bottom-right cored of the figure.","Has only an effect only on graphs that have been generated via","forked graphs from the plotly service (at https://plot.ly or on-premise)."].join(" ")},smith:{valType:"enumerated",role:"info",values:[!1],dflt:!1,editType:"none"},showlegend:{valType:"boolean",role:"info",editType:"legend",description:"Determines whether or not a legend is drawn."}}},function(e,t,n){"use strict";t.xmlns="http://www.w3.org/2000/xmlns/",t.svg="http://www.w3.org/2000/svg",t.xlink="http://www.w3.org/1999/xlink",t.svgAttrs={xmlns:t.svg,"xmlns:xlink":t.xlink}},function(e,t,n){"use strict";var r=e.exports={};r.attributes=n(145),r.supplyDefaults=n(189),r.calc=n(261),r.calcFromTrace=function(e,t){for(var n=e.x||[],a=e.y||[],i=n.length||a.length,o=new Array(i),l=0;l<i;l++)o[l]={x:n[l],y:a[l]};return o[0].trace=e,r.calc({calcdata:[o],_fullLayout:t}),o},r.plot=n(268),r.style=n(269),r.hoverInfo=function(e,t,n){(t.error_y||{}).visible&&(n.yerr=e.yh-e.y,t.error_y.symmetric||(n.yerrneg=e.y-e.ys)),(t.error_x||{}).visible&&(n.xerr=e.xh-e.x,t.error_x.symmetric||(n.xerrneg=e.x-e.xs))}},function(e,t,n){"use strict";function r(e){var t=l.isD3Selection(e)?e:o.select(e);t.selectAll("g.hovertext").remove(),t.selectAll(".spikeline").remove()}function a(e,t,n){return l.castOption(e,t,"hoverlabel."+n)}function i(e,t,n){function r(n){return l.coerceHoverinfo({hoverinfo:n},{_module:e._module},t)}return l.castOption(e,n,"hoverinfo",r)}var o=n(58),l=n(57),s=n(76),c=n(160),u=n(161);e.exports={moduleType:"component",name:"fx",constants:n(106),schema:{layout:u},attributes:n(139),layoutAttributes:u,supplyLayoutGlobalDefaults:n(284),supplyDefaults:n(285),supplyLayoutDefaults:n(286),calc:n(287),getDistanceFunction:c.getDistanceFunction,getClosest:c.getClosest,inbox:c.inbox,appendArrayPointValue:c.appendArrayPointValue,castHoverOption:a,castHoverinfo:i,hover:n(162).hover,unhover:s.unhover,loneHover:n(162).loneHover,loneUnhover:r,click:n(289)}},function(e,t,n){"use strict";e.exports={MAXDIST:20,YANGLE:60,HOVERARROWSIZE:6,HOVERTEXTPAD:3,HOVERFONTSIZE:13,HOVERFONT:"Arial, sans-serif",HOVERMINTIME:50,HOVERID:"-hover"}},function(e,t,n){var r=n(128);e.exports=function(e,t,n){if(r(e),void 0===t)return e;switch(n){case 1:return function(n){return e.call(t,n)};case 2:return function(n,r){return e.call(t,n,r)};case 3:return function(n,r,a){return e.call(t,n,r,a)}}return function(){return e.apply(t,arguments)}}},function(e,t,n){var r=n(81),a=n(74).document,i=r(a)&&r(a.createElement);e.exports=function(e){return i?a.createElement(e):{}}},function(e,t,n){var r=n(132),a=n(114);e.exports=Object.keys||function(e){return r(e,a)}},function(e,t){var n={}.toString;e.exports=function(e){return n.call(e).slice(8,-1)}},function(e,t,n){var r=n(91),a=Math.min;e.exports=function(e){return e>0?a(r(e),9007199254740991):0}},function(e,t,n){var r=n(74),a=r["__core-js_shared__"]||(r["__core-js_shared__"]={});e.exports=function(e){return a[e]||(a[e]={})}},function(e,t){var n=0,r=Math.random();e.exports=function(e){return"Symbol(".concat(void 0===e?"":e,")_",(++n+r).toString(36))}},function(e,t){e.exports="constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(",")},function(e,t,n){"use strict";function r(e,t){var n,r,a,i,o=e._basePlotModules;if(o){var l;for(n=0;n<o.length;n++){if(a=o[n],a.attrRegex&&a.attrRegex.test(t)){if(a.layoutAttrOverrides)return a.layoutAttrOverrides;!l&&a.layoutAttributes&&(l=a.layoutAttributes)}var s=a.baseLayoutAttrOverrides;if(s&&t in s)return s[t]}if(l)return l}var c=e._modules;if(c)for(n=0;n<c.length;n++)if((i=c[n].layoutAttributes)&&t in i)return i[t];for(r in v.componentsRegistry)if(a=v.componentsRegistry[r],!a.schema&&t===a.name)return a.layoutAttributes;return t in x?x[t]:"radialaxis"===t||"angularaxis"===t?k[t]:k.layout[t]||!1}function a(e,t,n){if(!e)return!1;if(e._isLinkedToArray)if(i(t[n]))n++;else if(n<t.length)return!1;for(;n<t.length;n++){var r=e[t[n]];if(!y.isPlainObject(r))break;if(e=r,n===t.length-1)break;if(e._isLinkedToArray){if(n++,!i(t[n]))return!1}else if("info_array"===e.valType){n++;var a=t[n];if(!i(a)||a>=e.items.length)return!1;e=e.items[a]}}return e}function i(e){return e===Math.round(e)&&e>=0}function o(e){var t,n;"area"===e?(t={attributes:w},n={}):(t=v.modules[e]._module,n=t.basePlotModule);var r={};r.type=null,T(r,m),T(r,t.attributes),n.attributes&&T(r,n.attributes),r.type=e;var a={meta:t.meta||{},attributes:u(r)};if(t.layoutAttributes){var i={};T(i,t.layoutAttributes),a.layoutAttributes=u(i)}return a}function l(){var e,t,n={};T(n,x);for(e in v.subplotsRegistry)if(t=v.subplotsRegistry[e],t.layoutAttributes)if("cartesian"===t.name)p(n,t,"xaxis"),p(n,t,"yaxis");else{var r="subplot"===t.attr?t.name:t.attr;p(n,t,r)}n=h(n);for(e in v.componentsRegistry){t=v.componentsRegistry[e];var a=t.schema;if(a&&(a.subplots||a.layout)){var i=a.subplots;if(i&&i.xaxis&&!i.yaxis)for(var o in i.xaxis)delete n.yaxis[o]}else t.layoutAttributes&&g(n,t.layoutAttributes,t.name)}return{layoutAttributes:u(n)}}function s(e){var t=v.transformsRegistry[e],n=T({},t.attributes);return Object.keys(v.componentsRegistry).forEach(function(t){var r=v.componentsRegistry[t];r.schema&&r.schema.transforms&&r.schema.transforms[e]&&Object.keys(r.schema.transforms[e]).forEach(function(t){g(n,r.schema.transforms[e][t],t)})}),{attributes:u(n)}}function c(){var e={frames:y.extendDeepAll({},b)};return u(e),e.frames}function u(e){return f(e),d(e),e}function f(e){function n(e){return{valType:"string",role:"info",description:["Sets the source reference on plot.ly for ",e,"."].join(" "),editType:"none"}}function r(e,r,a){t.isValObject(e)?"data_array"===e.valType?(e.role="data",a[r+"src"]=n(r)):!0===e.arrayOk&&(a[r+"src"]=n(r)):y.isPlainObject(e)&&(e.role="object")}t.crawl(e,r)}function d(e){function n(e,t,n){if(e){var r=e[L];r&&(delete e[L],n[t]={items:{}},n[t].items[r]=e,n[t].role="object")}}t.crawl(e,n)}function h(e){return A(e,{radialaxis:k.radialaxis,angularaxis:k.angularaxis}),A(e,k.layout),e}function p(e,t,n){var r=y.nestedProperty(e,n),a=T({},t.layoutAttributes);a[S]=!0,r.set(a)}function g(e,t,n){var r=y.nestedProperty(e,n);r.set(T(r.get()||{},t))}var v=n(61),y=n(57),m=n(116),x=n(102),b=n(182),_=n(144),w=n(251),k=n(260),M=n(84),A=y.extendFlat,T=y.extendDeepAll,S="_isSubplotObj",L="_isLinkedToArray",C=[S,L,"_arrayAttrRegexps","_deprecated"];t.IS_SUBPLOT_OBJ=S,t.IS_LINKED_TO_ARRAY=L,t.DEPRECATED="_deprecated",t.UNDERSCORE_ATTRS=C,t.get=function(){var e={};v.allTypes.concat("area").forEach(function(t){e[t]=o(t)});var t={};return Object.keys(v.transformsRegistry).forEach(function(e){t[e]=s(e)}),{defs:{valObjects:y.valObjectMeta,metaKeys:C.concat(["description","role","editType","impliedEdits"]),editType:{traces:M.traces,layout:M.layout},impliedEdits:{description:["Sometimes when an attribute is changed, other attributes","must be altered as well in order to achieve the intended","result. For example, when `range` is specified, it is","important to set `autorange` to `false` or the new `range`","value would be lost in the redraw. `impliedEdits` is the","mechanism to do this: `impliedEdits: {autorange: false}`.","Each key is a relative paths to the attribute string to","change, using *^* to ascend into the parent container,","for example `range[0]` has `impliedEdits: {*^autorange*: false}`.","A value of `undefined` means that the attribute will not be","changed, but its previous value should be recorded in case","we want to reverse this change later. For example, `autorange`","has `impliedEdits: {*range[0]*: undefined, *range[1]*:undefined}","because the range will likely be changed by redraw."].join(" ")}},traces:e,layout:l(),transforms:t,frames:c(),animation:u(_)}},t.crawl=function(e,n,r,a){var i=r||0;a=a||"",Object.keys(e).forEach(function(r){var o=e[r];if(-1===C.indexOf(r)){var l=(a?a+".":"")+r;n(o,r,e,i,l),t.isValObject(o)||y.isPlainObject(o)&&"impliedEdits"!==r&&t.crawl(o,n,i+1,l)}})},t.isValObject=function(e){return e&&void 0!==e.valType},t.findArrayAttributes=function(e){function n(t,n,o,l){if(i=i.slice(0,l).concat([n]),t&&("data_array"===t.valType||!0===t.arrayOk)&&!("colorbar"===i[l-1]&&("ticktext"===n||"tickvals"===n))){var s=r(i),c=y.nestedProperty(e,s).get();Array.isArray(c)&&a.push(s)}}function r(e){return e.join(".")}var a=[],i=[];if(t.crawl(m,n),e._module&&e._module.attributes&&t.crawl(e._module.attributes,n),e.transforms)for(var o=e.transforms,l=0;l<o.length;l++){var s=o[l],c=s._module;c&&(i=["transforms["+l+"]"],t.crawl(c.attributes,n,1))}return e._fullInput&&e._fullInput._module&&e._fullInput._module.attributes&&(t.crawl(e._fullInput._module.attributes,n),a=y.filterUnique(a)),a},t.getTraceValObject=function(e,t){var n,r,o=t[0],l=1;if("transforms"===o){if(!Array.isArray(e.transforms))return!1;var s=t[1];if(!i(s)||s>=e.transforms.length)return!1;n=(v.transformsRegistry[e.transforms[s].type]||{}).attributes,r=n&&n[t[2]],l=3}else if("area"===e.type)r=w[o];else{var c=e._module;if(c||(c=(v.modules[e.type||m.type.dflt]||{})._module),!c)return!1;if(n=c.attributes,!(r=n&&n[o])){var u=c.basePlotModule;u&&u.attributes&&(r=u.attributes[o])}r||(r=m[o])}return a(r,t,l)},t.getLayoutValObject=function(e,t){return a(r(e,t[0]),t,1)}},function(e,t,n){"use strict";var r=n(139);e.exports={type:{valType:"enumerated",role:"info",values:[],dflt:"scatter",editType:"calc+clearAxisTypes"},visible:{valType:"enumerated",values:[!0,!1,"legendonly"],role:"info",dflt:!0,editType:"calc",description:["Determines whether or not this trace is visible.","If *legendonly*, the trace is not drawn,","but can appear as a legend item","(provided that the legend itself is visible)."].join(" ")},showlegend:{valType:"boolean",role:"info",dflt:!0,editType:"style",description:["Determines whether or not an item corresponding to this","trace is shown in the legend."].join(" ")},legendgroup:{valType:"string",role:"info",dflt:"",editType:"style",description:["Sets the legend group for this trace.","Traces part of the same legend group hide/show at the same time","when toggling legend items."].join(" ")},opacity:{valType:"number",role:"style",min:0,max:1,dflt:1,editType:"style",description:"Sets the opacity of the trace."},name:{valType:"string",role:"info",editType:"style",description:["Sets the trace name.","The trace name appear as the legend item and on hover."].join(" ")},uid:{valType:"string",role:"info",dflt:"",editType:"calc"},ids:{valType:"data_array",editType:"calc",description:["Assigns id labels to each datum.","These ids for object constancy of data points during animation."].join(" ")},customdata:{valType:"data_array",editType:"calc",description:["Assigns extra data each datum.","This may be useful when listening to hover, click and selection events.","Note that, *scatter* traces also appends customdata items in the markers","DOM elements"].join(" ")},hoverinfo:{valType:"flaglist",role:"info",flags:["x","y","z","text","name"],extras:["all","none","skip"],arrayOk:!0,dflt:"all",editType:"none",description:["Determines which trace information appear on hover.","If `none` or `skip` are set, no information is displayed upon hovering.","But, if `none` is set, click and hover events are still fired."].join(" ")},hoverlabel:r.hoverlabel,stream:{token:{valType:"string",noBlank:!0,strict:!0,role:"info",editType:"calc",description:["The stream id number links a data trace on a plot with a stream.","See https://plot.ly/settings for more details."].join(" ")},maxpoints:{valType:"number",min:0,max:1e4,dflt:500,role:"info",editType:"calc",description:["Sets the maximum number of points to keep on the plots from an","incoming stream.","If `maxpoints` is set to *50*, only the newest 50 points will","be displayed on the plot."].join(" ")},editType:"calc"}}},function(e,t,n){"use strict";function r(e,t){return function(){var n,a,i,o,l,s=e;for(o=0;o<t.length-1;o++){if(-1===(n=t[o])){for(a=!0,i=[],l=0;l<s.length;l++)i[l]=r(s[l],t.slice(o+1))(),i[l]!==i[0]&&(a=!1);return a?i[0]:i}if("number"==typeof n&&!h(s))return;if("object"!=typeof(s=s[n])||null===s)return}if("object"==typeof s&&null!==s&&null!==(i=s[t[o]]))return i}}function a(e,t){if(!u(e)||p(e)&&"]"===t.charAt(t.length-1)||t.match(y)&&void 0!==e)return!1;if(!h(e))return!0;if(t.match(v))return!0;var n=g(t);return n&&""===n.index}function i(e,t,n){return function(r){var i,u,f=e,d="",p=[[e,d]],g=a(r,n);for(u=0;u<t.length-1;u++){if("number"==typeof(i=t[u])&&!h(f))throw"array index but container is not an array";if(-1===i){if(g=!l(f,t.slice(u+1),r,n))break;return}if(!s(f,i,t[u+1],g))break;if("object"!=typeof(f=f[i])||null===f)throw"container is not an object";d=o(d,i),p.push([f,d])}g?(u===t.length-1&&delete f[t[u]],c(p)):f[t[u]]=r}}function o(e,t){var n=t;return d(t)?n="["+t+"]":e&&(n="."+t),e+n}function l(e,t,n,r){var o,l=h(n),c=!0,u=n,f=r.replace("-1",0),d=!l&&a(n,f),p=t[0];for(o=0;o<e.length;o++)f=r.replace("-1",o),l&&(u=n[o%n.length],d=a(u,f)),d&&(c=!1),s(e,o,p,d)&&i(e[o],t,r.replace("-1",o))(u);return c}function s(e,t,n,r){if(void 0===e[t]){if(r)return!1;e[t]="number"==typeof n?[]:{}}return!0}function c(e){var t,n,r,i,l,s;for(t=e.length-1;t>=0;t--){if(r=e[t][0],i=e[t][1],s=!1,h(r))for(n=r.length-1;n>=0;n--)a(r[n],o(i,n))?s?r[n]=void 0:r.pop():s=!0;else if("object"==typeof r&&null!==r)for(l=Object.keys(r),s=!1,n=l.length-1;n>=0;n--)a(r[l[n]],o(i,l[n]))?delete r[l[n]]:s=!0;if(s)return}}function u(e){return void 0===e||null===e||"object"==typeof e&&(h(e)?!e.length:!Object.keys(e).length)}function f(e,t,n){return{set:function(){throw"bad container"},get:function(){},astr:t,parts:n,obj:e}}var d=n(59),h=n(140),p=n(101),g=n(174);e.exports=function(e,t){if(d(t))t=String(t);else if("string"!=typeof t||"[-1]"===t.substr(t.length-4))throw"bad property string";for(var n,a,o,l=0,s=t.split(".");l<s.length;){if(n=String(s[l]).match(/^([^\[\]]*)((\[\-?[0-9]*\])+)$/)){if(n[1])s[l]=n[1];else{if(0!==l)throw"bad property string";s.splice(0,1)}for(a=n[2].substr(1,n[2].length-2).split("]["),o=0;o<a.length;o++)l++,s.splice(l,0,Number(a[o]))}l++}return"object"!=typeof e?f(e,t,s):{set:i(e,s,t),get:r(e,s),astr:t,parts:s,obj:e}};var v=/(^|\.)((domain|range)(\.[xy])?|args|parallels)$/,y=/(^|\.)args\[/},function(e,t,n){"use strict";var r=n(252),a=n(145),i=n(146),o=n(68),l=n(147).dash,s=n(62),c=n(151),u=n(67).extendFlat;e.exports={x:{valType:"data_array",editType:"calc+clearAxisTypes",description:"Sets the x coordinates."},x0:{valType:"any",dflt:0,role:"info",editType:"calc+clearAxisTypes",description:["Alternate to `x`.","Builds a linear space of x coordinates.","Use with `dx`","where `x0` is the starting coordinate and `dx` the step."].join(" ")},dx:{valType:"number",dflt:1,role:"info",editType:"calc",description:["Sets the x coordinate step.","See `x0` for more info."].join(" ")},y:{valType:"data_array",editType:"calc+clearAxisTypes",description:"Sets the y coordinates."},y0:{valType:"any",dflt:0,role:"info",editType:"calc+clearAxisTypes",description:["Alternate to `y`.","Builds a linear space of y coordinates.","Use with `dy`","where `y0` is the starting coordinate and `dy` the step."].join(" ")},dy:{valType:"number",dflt:1,role:"info",editType:"calc",description:["Sets the y coordinate step.","See `y0` for more info."].join(" ")},text:{valType:"string",role:"info",dflt:"",arrayOk:!0,editType:"calc",description:["Sets text elements associated with each (x,y) pair.","If a single string, the same string appears over","all the data points.","If an array of string, the items are mapped in order to the","this trace's (x,y) coordinates.","If trace `hoverinfo` contains a *text* flag and *hovertext* is not set,","these elements will be seen in the hover labels."].join(" ")},hovertext:{valType:"string",role:"info",dflt:"",arrayOk:!0,editType:"style",description:["Sets hover text elements associated with each (x,y) pair.","If a single string, the same string appears over","all the data points.","If an array of string, the items are mapped in order to the","this trace's (x,y) coordinates.","To be seen, trace `hoverinfo` must contain a *text* flag."].join(" ")},mode:{valType:"flaglist",flags:["lines","markers","text"],extras:["none"],role:"info",editType:"calc",description:["Determines the drawing mode for this scatter trace.","If the provided `mode` includes *text* then the `text` elements","appear at the coordinates. Otherwise, the `text` elements","appear on hover.","If there are less than "+c.PTS_LINESONLY+" points,","then the default is *lines+markers*. Otherwise, *lines*."].join(" ")},hoveron:{valType:"flaglist",flags:["points","fills"],role:"info",editType:"style",description:["Do the hover effects highlight individual points (markers or","line points) or do they highlight filled regions?","If the fill is *toself* or *tonext* and there are no markers","or text, then the default is *fills*, otherwise it is *points*."].join(" ")},line:{color:{valType:"color",role:"style",editType:"style",description:"Sets the line color."},width:{valType:"number",min:0,dflt:2,role:"style",editType:"style",description:"Sets the line width (in px)."},shape:{valType:"enumerated",values:["linear","spline","hv","vh","hvh","vhv"],dflt:"linear",role:"style",editType:"plot",description:["Determines the line shape.","With *spline* the lines are drawn using spline interpolation.","The other available values correspond to step-wise line shapes."].join(" ")},smoothing:{valType:"number",min:0,max:1.3,dflt:1,role:"style",editType:"plot",description:["Has an effect only if `shape` is set to *spline*","Sets the amount of smoothing.","*0* corresponds to no smoothing (equivalent to a *linear* shape)."].join(" ")},dash:u({},l,{editType:"style"}),simplify:{valType:"boolean",dflt:!0,role:"info",editType:"plot",description:["Simplifies lines by removing nearly-collinear points. When transitioning","lines, it may be desirable to disable this so that the number of points","along the resulting SVG path is unaffected."].join(" ")},editType:"plot"},connectgaps:{valType:"boolean",dflt:!1,role:"info",editType:"calc",description:["Determines whether or not gaps","(i.e. {nan} or missing values)","in the provided data arrays are connected."].join(" ")},cliponaxis:{valType:"boolean",dflt:!0,role:"info",editType:"plot",description:["Determines whether or not markers and text nodes","are clipped about the subplot axes.","To show markers and text nodes above axis lines and tick labels,","make sure to set `xaxis.layer` and `yaxis.layer` to *below traces*."].join(" ")},fill:{valType:"enumerated",values:["none","tozeroy","tozerox","tonexty","tonextx","toself","tonext"],dflt:"none",role:"style",editType:"calc",description:["Sets the area to fill with a solid color.","Use with `fillcolor` if not *none*.","*tozerox* and *tozeroy* fill to x=0 and y=0 respectively.","*tonextx* and *tonexty* fill between the endpoints of this","trace and the endpoints of the trace before it, connecting those","endpoints with straight lines (to make a stacked area graph);","if there is no trace before it, they behave like *tozerox* and","*tozeroy*.","*toself* connects the endpoints of the trace (or each segment","of the trace if it has gaps) into a closed shape.","*tonext* fills the space between two traces if one completely","encloses the other (eg consecutive contour lines), and behaves like","*toself* if there is no trace before it. *tonext* should not be","used if one trace does not enclose the other."].join(" ")},fillcolor:{valType:"color",role:"style",editType:"style",description:["Sets the fill color.","Defaults to a half-transparent variant of the line color,","marker color, or marker line color, whichever is available."].join(" ")},marker:u({symbol:{valType:"enumerated",values:s.symbolList,dflt:"circle",arrayOk:!0,role:"style",editType:"style",description:["Sets the marker symbol type.","Adding 100 is equivalent to appending *-open* to a symbol name.","Adding 200 is equivalent to appending *-dot* to a symbol name.","Adding 300 is equivalent to appending *-open-dot*","or *dot-open* to a symbol name."].join(" ")},opacity:{valType:"number",min:0,max:1,arrayOk:!0,role:"style",editType:"style",description:"Sets the marker opacity."},size:{valType:"number",min:0,dflt:6,arrayOk:!0,role:"style",editType:"calcIfAutorange",description:"Sets the marker size (in px)."},maxdisplayed:{valType:"number",min:0,dflt:0,role:"style",editType:"plot",description:["Sets a maximum number of points to be drawn on the graph.","*0* corresponds to no limit."].join(" ")},sizeref:{valType:"number",dflt:1,role:"style",editType:"calc",description:["Has an effect only if `marker.size` is set to a numerical array.","Sets the scale factor used to determine the rendered size of","marker points. Use with `sizemin` and `sizemode`."].join(" ")},sizemin:{valType:"number",min:0,dflt:0,role:"style",editType:"calc",description:["Has an effect only if `marker.size` is set to a numerical array.","Sets the minimum size (in px) of the rendered marker points."].join(" ")},sizemode:{valType:"enumerated",values:["diameter","area"],dflt:"diameter",role:"info",editType:"calc",description:["Has an effect only if `marker.size` is set to a numerical array.","Sets the rule for which the data in `size` is converted","to pixels."].join(" ")},showscale:{valType:"boolean",role:"info",dflt:!1,editType:"calc",description:["Has an effect only if `marker.color` is set to a numerical array.","Determines whether or not a colorbar is displayed."].join(" ")},colorbar:i,line:u({width:{valType:"number",min:0,arrayOk:!0,role:"style",editType:"style",description:"Sets the width (in px) of the lines bounding the marker points."},editType:"calc"},r("marker.line")),gradient:{type:{valType:"enumerated",values:["radial","horizontal","vertical","none"],arrayOk:!0,dflt:"none",role:"style",editType:"calc",description:["Sets the type of gradient used to fill the markers"].join(" ")},color:{valType:"color",arrayOk:!0,role:"style",editType:"calc",description:["Sets the final color of the gradient fill:","the center color for radial, the right for horizontal,","or the bottom for vertical."].join(" ")},editType:"calc"},editType:"calc"},r("marker")),textposition:{valType:"enumerated",values:["top left","top center","top right","middle left","middle center","middle right","bottom left","bottom center","bottom right"],dflt:"middle center",arrayOk:!0,role:"style",editType:"calc",description:["Sets the positions of the `text` elements","with respects to the (x,y) coordinates."].join(" ")},textfont:o({editType:"calc",colorEditType:"style",arrayOk:!0,description:"Sets the text font."}),r:{valType:"data_array",editType:"calc",description:["For polar chart only.","Sets the radial coordinates."].join("")},t:{valType:"data_array",editType:"calc",description:["For polar chart only.","Sets the angular coordinates."].join("")},error_y:a,error_x:a}},function(e,t,n){"use strict";var r=n(59),a=n(57),i=n(149);e.exports=function(e,t){var n=t?a.nestedProperty(e,t).get()||{}:e,o=n.color,l=!1;if(Array.isArray(o))for(var s=0;s<o.length;s++)if(r(o[s])){l=!0;break}return a.isPlainObject(n)&&(l||!0===n.showscale||r(n.cmin)&&r(n.cmax)||i(n.colorscale)||a.isPlainObject(n.colorbar))}},function(e,t,n){"use strict";e.exports={SHOW_PLACEHOLDER:100,HIDE_PLACEHOLDER:1e3,DBLCLICKDELAY:300,DESELECTDIM:.2}},function(e,t,n){"use strict";t.isRightAnchor=function(e){return"right"===e.xanchor||"auto"===e.xanchor&&e.x>=2/3},t.isCenterAnchor=function(e){return"center"===e.xanchor||"auto"===e.xanchor&&e.x>1/3&&e.x<2/3},t.isBottomAnchor=function(e){return"bottom"===e.yanchor||"auto"===e.yanchor&&e.y<=1/3},t.isMiddleAnchor=function(e){return"middle"===e.yanchor||"auto"===e.yanchor&&e.y>1/3&&e.y<2/3}},function(e,t,n){"use strict";var r=n(207),a=n(68),i=n(66);e.exports={_isLinkedToArray:"annotation",visible:{valType:"boolean",role:"info",dflt:!0,editType:"calcIfAutorange",description:["Determines whether or not this annotation is visible."].join(" ")},text:{valType:"string",role:"info",editType:"calcIfAutorange",description:["Sets the text associated with this annotation.","Plotly uses a subset of HTML tags to do things like","newline (<br>), bold (<b></b>), italics (<i></i>),","hyperlinks (<a href='...'></a>). Tags <em>, <sup>, <sub>","<span> are also supported."].join(" ")},textangle:{valType:"angle",dflt:0,role:"style",editType:"calcIfAutorange",description:["Sets the angle at which the `text` is drawn","with respect to the horizontal."].join(" ")},font:a({editType:"calcIfAutorange",colorEditType:"arraydraw",description:"Sets the annotation text font."}),width:{valType:"number",min:1,dflt:null,role:"style",editType:"calcIfAutorange",description:["Sets an explicit width for the text box. null (default) lets the","text set the box width. Wider text will be clipped.","There is no automatic wrapping; use <br> to start a new line."].join(" ")},height:{valType:"number",min:1,dflt:null,role:"style",editType:"calcIfAutorange",description:["Sets an explicit height for the text box. null (default) lets the","text set the box height. Taller text will be clipped."].join(" ")},opacity:{valType:"number",min:0,max:1,dflt:1,role:"style",editType:"arraydraw",description:"Sets the opacity of the annotation (text + arrow)."},align:{valType:"enumerated",values:["left","center","right"],dflt:"center",role:"style",editType:"arraydraw",description:["Sets the horizontal alignment of the `text` within the box.","Has an effect only if `text` spans more two or more lines","(i.e. `text` contains one or more <br> HTML tags) or if an","explicit width is set to override the text width."].join(" ")},valign:{valType:"enumerated",values:["top","middle","bottom"],dflt:"middle",role:"style",editType:"arraydraw",description:["Sets the vertical alignment of the `text` within the box.","Has an effect only if an explicit height is set to override","the text height."].join(" ")},bgcolor:{valType:"color",dflt:"rgba(0,0,0,0)",role:"style",editType:"arraydraw",description:"Sets the background color of the annotation."},bordercolor:{valType:"color",dflt:"rgba(0,0,0,0)",role:"style",editType:"arraydraw",description:["Sets the color of the border enclosing the annotation `text`."].join(" ")},borderpad:{valType:"number",min:0,dflt:1,role:"style",editType:"calcIfAutorange",description:["Sets the padding (in px) between the `text`","and the enclosing border."].join(" ")},borderwidth:{valType:"number",min:0,dflt:1,role:"style",editType:"calcIfAutorange",description:["Sets the width (in px) of the border enclosing","the annotation `text`."].join(" ")},showarrow:{valType:"boolean",dflt:!0,role:"style",editType:"calcIfAutorange",description:["Determines whether or not the annotation is drawn with an arrow.","If *true*, `text` is placed near the arrow's tail.","If *false*, `text` lines up with the `x` and `y` provided."].join(" ")},arrowcolor:{valType:"color",role:"style",editType:"arraydraw",description:"Sets the color of the annotation arrow."},arrowhead:{valType:"integer",min:0,max:r.length,dflt:1,role:"style",editType:"arraydraw",description:"Sets the annotation arrow head style."},arrowsize:{valType:"number",min:.3,dflt:1,role:"style",editType:"calcIfAutorange",description:["Sets the size of the annotation arrow head, relative to `arrowwidth`.","A value of 1 (default) gives a head about 3x as wide as the line."].join(" ")},arrowwidth:{valType:"number",min:.1,role:"style",editType:"calcIfAutorange",description:"Sets the width (in px) of annotation arrow line."},standoff:{valType:"number",min:0,dflt:0,role:"style",editType:"calcIfAutorange",description:["Sets a distance, in pixels, to move the arrowhead away from the","position it is pointing at, for example to point at the edge of","a marker independent of zoom. Note that this shortens the arrow","from the `ax` / `ay` vector, in contrast to `xshift` / `yshift`","which moves everything by this amount."].join(" ")},ax:{valType:"any",role:"info",editType:"calcIfAutorange",description:["Sets the x component of the arrow tail about the arrow head.","If `axref` is `pixel`, a positive (negative) ","component corresponds to an arrow pointing","from right to left (left to right).","If `axref` is an axis, this is an absolute value on that axis,","like `x`, NOT a relative value."].join(" ")},ay:{valType:"any",role:"info",editType:"calcIfAutorange",description:["Sets the y component of the arrow tail about the arrow head.","If `ayref` is `pixel`, a positive (negative) ","component corresponds to an arrow pointing","from bottom to top (top to bottom).","If `ayref` is an axis, this is an absolute value on that axis,","like `y`, NOT a relative value."].join(" ")},axref:{valType:"enumerated",dflt:"pixel",values:["pixel",i.idRegex.x.toString()],role:"info",editType:"calc",description:["Indicates in what terms the tail of the annotation (ax,ay) ","is specified. If `pixel`, `ax` is a relative offset in pixels ","from `x`. If set to an x axis id (e.g. *x* or *x2*), `ax` is ","specified in the same terms as that axis. This is useful ","for trendline annotations which should continue to indicate ","the correct trend when zoomed."].join(" ")},ayref:{valType:"enumerated",dflt:"pixel",values:["pixel",i.idRegex.y.toString()],role:"info",editType:"calc",description:["Indicates in what terms the tail of the annotation (ax,ay) ","is specified. If `pixel`, `ay` is a relative offset in pixels ","from `y`. If set to a y axis id (e.g. *y* or *y2*), `ay` is ","specified in the same terms as that axis. This is useful ","for trendline annotations which should continue to indicate ","the correct trend when zoomed."].join(" ")},xref:{valType:"enumerated",values:["paper",i.idRegex.x.toString()],role:"info",editType:"calc",description:["Sets the annotation's x coordinate axis.","If set to an x axis id (e.g. *x* or *x2*), the `x` position","refers to an x coordinate","If set to *paper*, the `x` position refers to the distance from","the left side of the plotting area in normalized coordinates","where 0 (1) corresponds to the left (right) side."].join(" ")},x:{valType:"any",role:"info",editType:"calcIfAutorange",description:["Sets the annotation's x position.","If the axis `type` is *log*, then you must take the","log of your desired range.","If the axis `type` is *date*, it should be date strings,","like date data, though Date objects and unix milliseconds","will be accepted and converted to strings.","If the axis `type` is *category*, it should be numbers,","using the scale where each category is assigned a serial","number from zero in the order it appears."].join(" ")},xanchor:{valType:"enumerated",values:["auto","left","center","right"],dflt:"auto",role:"info",editType:"calcIfAutorange",description:["Sets the text box's horizontal position anchor","This anchor binds the `x` position to the *left*, *center*","or *right* of the annotation.","For example, if `x` is set to 1, `xref` to *paper* and","`xanchor` to *right* then the right-most portion of the","annotation lines up with the right-most edge of the","plotting area.","If *auto*, the anchor is equivalent to *center* for","data-referenced annotations or if there is an arrow,","whereas for paper-referenced with no arrow, the anchor picked","corresponds to the closest side."].join(" ")},xshift:{valType:"number",dflt:0,role:"style",editType:"calcIfAutorange",description:["Shifts the position of the whole annotation and arrow to the","right (positive) or left (negative) by this many pixels."].join(" ")},yref:{valType:"enumerated",values:["paper",i.idRegex.y.toString()],role:"info",editType:"calc",description:["Sets the annotation's y coordinate axis.","If set to an y axis id (e.g. *y* or *y2*), the `y` position","refers to an y coordinate","If set to *paper*, the `y` position refers to the distance from","the bottom of the plotting area in normalized coordinates","where 0 (1) corresponds to the bottom (top)."].join(" ")},y:{valType:"any",role:"info",editType:"calcIfAutorange",description:["Sets the annotation's y position.","If the axis `type` is *log*, then you must take the","log of your desired range.","If the axis `type` is *date*, it should be date strings,","like date data, though Date objects and unix milliseconds","will be accepted and converted to strings.","If the axis `type` is *category*, it should be numbers,","using the scale where each category is assigned a serial","number from zero in the order it appears."].join(" ")},yanchor:{valType:"enumerated",values:["auto","top","middle","bottom"],dflt:"auto",role:"info",editType:"calcIfAutorange",description:["Sets the text box's vertical position anchor","This anchor binds the `y` position to the *top*, *middle*","or *bottom* of the annotation.","For example, if `y` is set to 1, `yref` to *paper* and","`yanchor` to *top* then the top-most portion of the","annotation lines up with the top-most edge of the","plotting area.","If *auto*, the anchor is equivalent to *middle* for","data-referenced annotations or if there is an arrow,","whereas for paper-referenced with no arrow, the anchor picked","corresponds to the closest side."].join(" ")},yshift:{valType:"number",dflt:0,role:"style",editType:"calcIfAutorange",description:["Shifts the position of the whole annotation and arrow up","(positive) or down (negative) by this many pixels."].join(" ")},clicktoshow:{valType:"enumerated",values:[!1,"onoff","onout"],dflt:!1,role:"style",editType:"arraydraw",description:["Makes this annotation respond to clicks on the plot.","If you click a data point that exactly matches the `x` and `y`","values of this annotation, and it is hidden (visible: false),","it will appear. In *onoff* mode, you must click the same point","again to make it disappear, so if you click multiple points,","you can show multiple annotations. In *onout* mode, a click","anywhere else in the plot (on another data point or not) will","hide this annotation.","If you need to show/hide this annotation in response to different","`x` or `y` values, you can set `xclick` and/or `yclick`. This is","useful for example to label the side of a bar. To label markers","though, `standoff` is preferred over `xclick` and `yclick`."].join(" ")},xclick:{valType:"any",role:"info",editType:"arraydraw",description:["Toggle this annotation when clicking a data point whose `x` value","is `xclick` rather than the annotation's `x` value."].join(" ")},yclick:{valType:"any",role:"info",editType:"arraydraw",description:["Toggle this annotation when clicking a data point whose `y` value","is `yclick` rather than the annotation's `y` value."].join(" ")},hovertext:{valType:"string",role:"info",editType:"arraydraw",description:["Sets text to appear when hovering over this annotation.","If omitted or blank, no hover label will appear."].join(" ")},hoverlabel:{bgcolor:{valType:"color",role:"style",editType:"arraydraw",description:["Sets the background color of the hover label.","By default uses the annotation's `bgcolor` made opaque,","or white if it was transparent."].join(" ")},bordercolor:{valType:"color",role:"style",editType:"arraydraw",description:["Sets the border color of the hover label.","By default uses either dark grey or white, for maximum","contrast with `hoverlabel.bgcolor`."].join(" ")},font:a({editType:"arraydraw",description:["Sets the hover label text font.","By default uses the global hover font and size,","with color from `hoverlabel.bordercolor`."].join(" ")}),editType:"arraydraw"},captureevents:{valType:"boolean",role:"info",editType:"arraydraw",description:["Determines whether the annotation text box captures mouse move","and click events, or allows those events to pass through to data","points in the plot that may be behind the annotation. By default","`captureevents` is *false* unless `hovertext` is provided.","If you use the event `plotly_clickannotation` without `hovertext`","you must explicitly enable `captureevents`."].join(" ")},editType:"calc",_deprecated:{ref:{valType:"string",role:"info",editType:"calc",description:["Obsolete. Set `xref` and `yref` separately instead."].join(" ")}}}},function(e,t,n){"use strict";e.exports={name:"sliders",containerClassName:"slider-container",groupClassName:"slider-group",inputAreaClass:"slider-input-area",railRectClass:"slider-rail-rect",railTouchRectClass:"slider-rail-touch-rect",gripRectClass:"slider-grip-rect",tickRectClass:"slider-tick-rect",inputProxyClass:"slider-input-proxy",labelsClass:"slider-labels",labelGroupClass:"slider-label-group",labelClass:"slider-label",currentValueClass:"slider-current-value",railHeight:5,menuIndexAttrName:"slider-active-index",autoMarginIdRoot:"slider-",minWidth:30,minHeight:30,textPadX:40,arrowOffsetX:4,railRadius:2,railWidth:5,railBorder:4,railBorderWidth:1,railBorderColor:"#bec8d9",railBgColor:"#f8fafc",railInset:8,stepInset:10,gripRadius:10,gripWidth:20,gripHeight:20,gripBorder:20,gripBorderWidth:1,gripBorderColor:"#bec8d9",gripBgColor:"#f6f8fa",gripBgActiveColor:"#dbdde0",labelPadding:8,labelOffset:0,tickWidth:1,tickColor:"#333",tickOffset:25,tickLength:7,minorTickOffset:25,minorTickColor:"#333",minorTickLength:4,currentValuePadding:8,currentValueInset:0}},function(e,t,n){"use strict";t.__esModule=!0;var r=n(125),a=function(e){return e&&e.__esModule?e:{default:e}}(r);t.default=a.default||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}},function(e,t,n){e.exports={default:n(126),__esModule:!0}},function(e,t,n){n(127),e.exports=n(77).Object.assign},function(e,t,n){var r=n(94);r(r.S+r.F,"Object",{assign:n(131)})},function(e,t){e.exports=function(e){if("function"!=typeof e)throw TypeError(e+" is not a function!");return e}},function(e,t,n){e.exports=!n(78)&&!n(82)(function(){return 7!=Object.defineProperty(n(108)("div"),"a",{get:function(){return 7}}).a})},function(e,t,n){var r=n(81);e.exports=function(e,t){if(!r(e))return e;var n,a;if(t&&"function"==typeof(n=e.toString)&&!r(a=n.call(e)))return a;if("function"==typeof(n=e.valueOf)&&!r(a=n.call(e)))return a;if(!t&&"function"==typeof(n=e.toString)&&!r(a=n.call(e)))return a;throw TypeError("Can't convert object to primitive value")}},function(e,t,n){"use strict";var r=n(109),a=n(135),i=n(136),o=n(99),l=n(97),s=Object.assign;e.exports=!s||n(82)(function(){var e={},t={},n=Symbol(),r="abcdefghijklmnopqrst";return e[n]=7,r.split("").forEach(function(e){t[e]=e}),7!=s({},e)[n]||Object.keys(s({},t)).join("")!=r})?function(e,t){for(var n=o(e),s=arguments.length,c=1,u=a.f,f=i.f;s>c;)for(var d,h=l(arguments[c++]),p=u?r(h).concat(u(h)):r(h),g=p.length,v=0;g>v;)f.call(h,d=p[v++])&&(n[d]=h[d]);return n}:s},function(e,t,n){var r=n(89),a=n(96),i=n(133)(!1),o=n(98)("IE_PROTO");e.exports=function(e,t){var n,l=a(e),s=0,c=[];for(n in l)n!=o&&r(l,n)&&c.push(n);for(;t.length>s;)r(l,n=t[s++])&&(~i(c,n)||c.push(n));return c}},function(e,t,n){var r=n(96),a=n(111),i=n(134);e.exports=function(e){return function(t,n,o){var l,s=r(t),c=a(s.length),u=i(o,c);if(e&&n!=n){for(;c>u;)if((l=s[u++])!=l)return!0}else for(;c>u;u++)if((e||u in s)&&s[u]===n)return e||u||0;return!e&&-1}}},function(e,t,n){var r=n(91),a=Math.max,i=Math.min;e.exports=function(e,t){return e=r(e),e<0?a(e+t,0):i(e,t)}},function(e,t){t.f=Object.getOwnPropertySymbols},function(e,t){t.f={}.propertyIsEnumerable},function(e,t,n){"use strict";e.exports={staticPlot:!1,editable:!1,edits:{annotationPosition:!1,annotationTail:!1,annotationText:!1,axisTitleText:!1,colorbarPosition:!1,colorbarTitleText:!1,legendPosition:!1,legendText:!1,shapePosition:!1,titleText:!1},autosizable:!1,queueLength:0,fillFrame:!1,frameMargins:0,scrollZoom:!1,doubleClick:"reset+autosize",showTips:!0,showAxisDragHandles:!0,showAxisRangeEntryBoxes:!0,showLink:!1,sendData:!0,linkText:"Edit chart",showSources:!1,displayModeBar:"hover",modeBarButtonsToRemove:[],modeBarButtonsToAdd:[],modeBarButtons:!1,displaylogo:!0,plotGlPixelRatio:2,setBackground:"transparent",topojsonURL:"https://cdn.plot.ly/",mapboxAccessToken:null,logging:!1,globalTransforms:[]}},function(e,t,n){"use strict";e.exports=function(){}},function(e,t,n){"use strict";var r=n(68);e.exports={hoverlabel:{bgcolor:{valType:"color",role:"style",arrayOk:!0,editType:"none",description:["Sets the background color of the hover labels for this trace"].join(" ")},bordercolor:{valType:"color",role:"style",arrayOk:!0,editType:"none",description:["Sets the border color of the hover labels for this trace."].join(" ")},font:r({arrayOk:!0,editType:"none",description:"Sets the font used in hover labels."}),namelength:{valType:"integer",min:-1,arrayOk:!0,role:"style",editType:"none",description:["Sets the length (in number of characters) of the trace name in","the hover labels for this trace. -1 shows the whole name","regardless of length. 0-3 shows the first 0-3 characters, and","an integer >3 will show the whole name if it is less than that","many characters, but if it is longer, will truncate to","`namelength - 3` characters and add an ellipsis."].join(" ")},editType:"calc"}}},function(e,t,n){"use strict";var r="undefined"!=typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer:{isView:function(){return!1}};e.exports=function(e){return Array.isArray(e)||r.isView(e)}},function(e,t,n){"use strict";e.exports=function(e,t){var n=e%t;return n<0?n+t:n}},function(e,t,n){"use strict";var r=n(59);e.exports=function(e,t){if(e>0)return Math.log(e)/Math.LN10;var n=Math.log(Math.min(t[0],t[1]))/Math.LN10;return r(n)||(n=Math.log(Math.max(t[0],t[1]))/Math.LN10-6),n}},function(e,t,n){"use strict";function r(e){e&&null!==e.timer&&(clearTimeout(e.timer),e.timer=null)}var a={};t.throttle=function(e,t,n){function i(){n(),o.ts=Date.now(),o.onDone&&(o.onDone(),o.onDone=null)}var o=a[e],l=Date.now();if(!o){for(var s in a)a[s].ts<l-6e4&&delete a[s];o=a[e]={ts:0,timer:null}}if(r(o),l>o.ts+t)return void i();o.timer=setTimeout(function(){i(),o.timer=null},t)},t.done=function(e){var t=a[e];return t&&t.timer?new Promise(function(e){var n=t.onDone;t.onDone=function(){n&&n(),e(),t.onDone=null}}):Promise.resolve()},t.clear=function(e){if(e)r(a[e]),delete a[e];else for(var n in a)t.clear(n)}},function(e,t,n){"use strict";e.exports={mode:{valType:"enumerated",dflt:"afterall",role:"info",values:["immediate","next","afterall"],description:["Describes how a new animate call interacts with currently-running","animations. If `immediate`, current animations are interrupted and","the new animation is started. If `next`, the current frame is allowed","to complete, after which the new animation is started. If `afterall`","all existing frames are animated to completion before the new animation","is started."].join(" ")},direction:{valType:"enumerated",role:"info",values:["forward","reverse"],dflt:"forward",description:["The direction in which to play the frames triggered by the animation call"].join(" ")},fromcurrent:{valType:"boolean",dflt:!1,role:"info",description:["Play frames starting at the current frame instead of the beginning."].join(" ")},frame:{duration:{valType:"number",role:"info",min:0,dflt:500,description:["The duration in milliseconds of each frame. If greater than the frame","duration, it will be limited to the frame duration."].join(" ")},redraw:{valType:"boolean",role:"info",dflt:!0,description:["Redraw the plot at completion of the transition. This is desirable","for transitions that include properties that cannot be transitioned,","but may significantly slow down updates that do not require a full","redraw of the plot"].join(" ")}},transition:{duration:{valType:"number",role:"info",min:0,dflt:500,description:["The duration of the transition, in milliseconds. If equal to zero,","updates are synchronous."].join(" ")},easing:{valType:"enumerated",dflt:"cubic-in-out",values:["linear","quad","cubic","sin","exp","circle","elastic","back","bounce","linear-in","quad-in","cubic-in","sin-in","exp-in","circle-in","elastic-in","back-in","bounce-in","linear-out","quad-out","cubic-out","sin-out","exp-out","circle-out","elastic-out","back-out","bounce-out","linear-in-out","quad-in-out","cubic-in-out","sin-in-out","exp-in-out","circle-in-out","elastic-in-out","back-in-out","bounce-in-out"],role:"info",description:"The easing function used for the transition"}}}},function(e,t,n){"use strict";e.exports={visible:{valType:"boolean",role:"info",editType:"calc",description:["Determines whether or not this set of error bars is visible."].join(" ")},type:{valType:"enumerated",values:["percent","constant","sqrt","data"],role:"info",editType:"calc",description:["Determines the rule used to generate the error bars.","If *constant`, the bar lengths are of a constant value.","Set this constant in `value`.","If *percent*, the bar lengths correspond to a percentage of","underlying data. Set this percentage in `value`.","If *sqrt*, the bar lengths correspond to the sqaure of the","underlying data.","If *array*, the bar lengths are set with data set `array`."].join(" ")},symmetric:{valType:"boolean",role:"info",editType:"calc",description:["Determines whether or not the error bars have the same length","in both direction","(top/bottom for vertical bars, left/right for horizontal bars."].join(" ")},array:{valType:"data_array",editType:"calc",description:["Sets the data corresponding the length of each error bar.","Values are plotted relative to the underlying data."].join(" ")},arrayminus:{valType:"data_array",editType:"calc",description:["Sets the data corresponding the length of each error bar in the","bottom (left) direction for vertical (horizontal) bars","Values are plotted relative to the underlying data."].join(" ")},value:{valType:"number",min:0,dflt:10,role:"info",editType:"calc",description:["Sets the value of either the percentage","(if `type` is set to *percent*) or the constant","(if `type` is set to *constant*) corresponding to the lengths of","the error bars."].join(" ")},valueminus:{valType:"number",min:0,dflt:10,role:"info",editType:"calc",description:["Sets the value of either the percentage","(if `type` is set to *percent*) or the constant","(if `type` is set to *constant*) corresponding to the lengths of","the error bars in the","bottom (left) direction for vertical (horizontal) bars"].join(" ")},traceref:{valType:"integer",min:0,dflt:0,role:"info",editType:"style"},tracerefminus:{valType:"integer",min:0,dflt:0,role:"info",editType:"style"},copy_ystyle:{valType:"boolean",role:"style",editType:"plot"},copy_zstyle:{valType:"boolean",role:"style",editType:"style"},color:{valType:"color",role:"style",editType:"style",description:"Sets the stoke color of the error bars."},thickness:{valType:"number",min:0,dflt:2,role:"style",editType:"style",description:"Sets the thickness (in px) of the error bars."},width:{valType:"number",min:0,role:"style",editType:"plot",description:["Sets the width (in px) of the cross-bar at both ends","of the error bars."].join(" ")},editType:"calc",_deprecated:{opacity:{valType:"number",role:"style",editType:"style",description:["Obsolete.","Use the alpha channel in error bar `color` to set the opacity."].join(" ")}}}},function(e,t,n){"use strict";var r=n(80),a=n(68),i=n(67).extendFlat,o=n(84).overrideAll;e.exports=o({thicknessmode:{valType:"enumerated",values:["fraction","pixels"],role:"style",dflt:"pixels",description:["Determines whether this color bar's thickness","(i.e. the measure in the constant color direction)","is set in units of plot *fraction* or in *pixels*.","Use `thickness` to set the value."].join(" ")},thickness:{valType:"number",role:"style",min:0,dflt:30,description:["Sets the thickness of the color bar","This measure excludes the size of the padding, ticks and labels."].join(" ")},lenmode:{valType:"enumerated",values:["fraction","pixels"],role:"info",dflt:"fraction",description:["Determines whether this color bar's length","(i.e. the measure in the color variation direction)","is set in units of plot *fraction* or in *pixels.","Use `len` to set the value."].join(" ")},len:{valType:"number",min:0,dflt:1,role:"style",description:["Sets the length of the color bar","This measure excludes the padding of both ends.","That is, the color bar length is this length minus the","padding on both ends."].join(" ")},x:{valType:"number",dflt:1.02,min:-2,max:3,role:"style",description:["Sets the x position of the color bar (in plot fraction)."].join(" ")},xanchor:{valType:"enumerated",values:["left","center","right"],dflt:"left",role:"style",description:["Sets this color bar's horizontal position anchor.","This anchor binds the `x` position to the *left*, *center*","or *right* of the color bar."].join(" ")},xpad:{valType:"number",role:"style",min:0,dflt:10,description:"Sets the amount of padding (in px) along the x direction."},y:{valType:"number",role:"style",dflt:.5,min:-2,max:3,description:["Sets the y position of the color bar (in plot fraction)."].join(" ")},yanchor:{valType:"enumerated",values:["top","middle","bottom"],role:"style",dflt:"middle",description:["Sets this color bar's vertical position anchor","This anchor binds the `y` position to the *top*, *middle*","or *bottom* of the color bar."].join(" ")},ypad:{valType:"number",role:"style",min:0,dflt:10,description:"Sets the amount of padding (in px) along the y direction."},outlinecolor:r.linecolor,outlinewidth:r.linewidth,bordercolor:r.linecolor,borderwidth:{valType:"number",role:"style",min:0,dflt:0,description:["Sets the width (in px) or the border enclosing this color bar."].join(" ")},bgcolor:{valType:"color",role:"style",dflt:"rgba(0,0,0,0)",description:"Sets the color of padded area."},tickmode:r.tickmode,nticks:r.nticks,tick0:r.tick0,dtick:r.dtick,tickvals:r.tickvals,ticktext:r.ticktext,ticks:i({},r.ticks,{dflt:""}),ticklen:r.ticklen,tickwidth:r.tickwidth,tickcolor:r.tickcolor,showticklabels:r.showticklabels,tickfont:a({description:"Sets the color bar's tick label font"}),tickangle:r.tickangle,tickformat:r.tickformat,tickprefix:r.tickprefix,showtickprefix:r.showtickprefix,ticksuffix:r.ticksuffix,showticksuffix:r.showticksuffix,separatethousands:r.separatethousands,exponentformat:r.exponentformat,showexponent:r.showexponent,title:{valType:"string",role:"info",dflt:"Click to enter colorscale title",description:"Sets the title of the color bar."},titlefont:a({description:"Sets this color bar's title font."}),titleside:{valType:"enumerated",values:["right","top","bottom"],role:"style",dflt:"top",description:["Determines the location of the colorbar title","with respect to the color bar."].join(" ")}},"colorbars","from-root")},function(e,t,n){"use strict";t.dash={valType:"string",values:["solid","dot","dash","longdash","dashdot","longdashdot"],dflt:"solid",role:"style",editType:"style",description:["Sets the dash style of lines. Set to a dash type string","(*solid*, *dot*, *dash*, *longdash*, *dashdot*, or *longdashdot*)","or a dash length list in px (eg *5px,10px,2px,2px*)."].join(" ")}},function(e,t,n){"use strict";var r=n(59),a=n(57),i=n(253),o=n(254),l=n(149),s=n(150);e.exports=function(e,t,n,c,u){var f=u.prefix,d=u.cLetter,h=f.slice(0,f.length-1),p=f?a.nestedProperty(e,h).get()||{}:e,g=f?a.nestedProperty(t,h).get()||{}:t,v=p[d+"min"],y=p[d+"max"],m=p.colorscale;c(f+d+"auto",!(r(v)&&r(y)&&v<y)),c(f+d+"min"),c(f+d+"max");var x;void 0!==m&&(x=!l(m)),c(f+"autocolorscale",x);var b=c(f+"colorscale");if(c(f+"reversescale")&&(g.colorscale=s(b)),"marker.line."!==f){var _;f&&(_=i(p)),c(f+"showscale",_)&&o(p,g,n)}}},function(e,t,n){"use strict";var r=n(83),a=n(177);e.exports=function(e){return void 0!==r[e]||a(e)}},function(e,t,n){"use strict";e.exports=function(e){for(var t,n=e.length,r=new Array(n),a=n-1,i=0;a>=0;a--,i++)t=e[a],r[i]=[1-t[0],t[1]];return r}},function(e,t,n){"use strict";e.exports={PTS_LINESONLY:20,minTolerance:.2,toleranceGrowth:10,maxScreensAway:20}},function(e,t,n){"use strict";var r=n(58),a=n(59),i=n(64),o=n(65),l=n(57),s=n(62),c=n(60),u=n(70),f=n(120),d=/Click to enter .+ title/;(e.exports={}).draw=function(e,t,n){function h(e){l.syncOrAsync([p,g],e)}function p(t){return t.attr("transform",k?"rotate("+[k.rotate,w.x,w.y]+") translate(0, "+k.offset+")":null),t.style({"font-family":T,"font-size":r.round(S,2)+"px",fill:c.rgb(L),opacity:C*c.opacity(L),"font-weight":o.fontWeight}).attr(w).call(u.convertToTspans,e),o.previousPromises(e)}function g(e){var t=r.select(e.node().parentNode);if(_&&_.selection&&_.side&&z){t.attr("transform",null);var n=0,i={left:"right",right:"left",top:"bottom",bottom:"top"}[_.side],o=-1!==["left","top"].indexOf(_.side)?-1:1,c=a(_.pad)?_.pad:2,u=s.bBox(t.node()),f={left:0,top:0,right:A.width,bottom:A.height},d=_.maxShift||(f[_.side]-u[_.side])*("left"===_.side||"top"===_.side?-1:1);if(d<0)n=d;else{var h=_.offsetLeft||0,p=_.offsetTop||0;u.left-=h,u.right-=h,u.top-=p,u.bottom-=p,_.selection.each(function(){var e=s.bBox(this);l.bBoxIntersect(u,e,c)&&(n=Math.max(n,o*(e[_.side]-u[i])+c))}),n=Math.min(d,n)}if(n>0||d<0){var g={left:[-n,0],right:[n,0],top:[0,-n],bottom:[0,n]}[_.side];t.attr("transform","translate("+g+")")}}}var v,y=n.propContainer,m=n.propName,x=n.traceIndex,b=n.dfltName,_=n.avoid||{},w=n.attributes,k=n.transform,M=n.containerGroup,A=e._fullLayout,T=y.titlefont.family,S=y.titlefont.size,L=y.titlefont.color,C=1,O=!1,z=y.title.trim();"title"===m?v="titleText":-1!==m.indexOf("axis")?v="axisTitleText":m.indexOf(!0)&&(v="colorbarTitleText");var j=e._context.edits[v];""===z&&(C=0),z.match(d)&&(C=.2,O=!0,j||(z=""));var D=z||j;M||(M=A._infolayer.selectAll(".g-"+t).data([0]),M.enter().append("g").classed("g-"+t,!0));var I=M.selectAll("text").data(D?[0]:[]);if(I.enter().append("text"),I.text(z).attr("class",t),I.exit().remove(),D){I.call(h);var P="Click to enter "+b+" title";j&&(z?I.on(".opacity",null):function(){C=0,O=!0,z=P,I.text(z).on("mouseover.opacity",function(){r.select(this).transition().duration(f.SHOW_PLACEHOLDER).style("opacity",1)}).on("mouseout.opacity",function(){r.select(this).transition().duration(f.HIDE_PLACEHOLDER).style("opacity",0)})}(),I.call(u.makeEditable,{gd:e}).on("edit",function(t){void 0!==x?i.restyle(e,m,t,x):i.relayout(e,m,t)}).on("cancel",function(){this.text(this.attr("data-unformatted")).call(h)}).on("input",function(e){this.text(e||" ").call(u.positionText,w.x,w.y)})),I.classed("js-placeholder",O)}}},function(e,t,n){"use strict";e.exports={undo:{width:857.1,path:"m857 350q0-87-34-166t-91-137-137-92-166-34q-96 0-183 41t-147 114q-4 6-4 13t5 11l76 77q6 5 14 5 9-1 13-7 41-53 100-82t126-29q58 0 110 23t92 61 61 91 22 111-22 111-61 91-92 61-110 23q-55 0-105-20t-90-57l77-77q17-16 8-38-10-23-33-23h-250q-15 0-25 11t-11 25v250q0 24 22 33 22 10 39-8l72-72q60 57 137 88t159 31q87 0 166-34t137-92 91-137 34-166z",ascent:850,descent:-150},home:{width:928.6,path:"m786 296v-267q0-15-11-26t-25-10h-214v214h-143v-214h-214q-15 0-25 10t-11 26v267q0 1 0 2t0 2l321 264 321-264q1-1 1-4z m124 39l-34-41q-5-5-12-6h-2q-7 0-12 3l-386 322-386-322q-7-4-13-4-7 2-12 7l-35 41q-4 5-3 13t6 12l401 334q18 15 42 15t43-15l136-114v109q0 8 5 13t13 5h107q8 0 13-5t5-13v-227l122-102q5-5 6-12t-4-13z",ascent:850,descent:-150},"camera-retro":{width:1e3,path:"m518 386q0 8-5 13t-13 5q-37 0-63-27t-26-63q0-8 5-13t13-5 12 5 5 13q0 23 16 38t38 16q8 0 13 5t5 13z m125-73q0-59-42-101t-101-42-101 42-42 101 42 101 101 42 101-42 42-101z m-572-320h858v71h-858v-71z m643 320q0 89-62 152t-152 62-151-62-63-152 63-151 151-63 152 63 62 151z m-571 358h214v72h-214v-72z m-72-107h858v143h-462l-36-71h-360v-72z m929 143v-714q0-30-21-51t-50-21h-858q-29 0-50 21t-21 51v714q0 30 21 51t50 21h858q29 0 50-21t21-51z",ascent:850,descent:-150},zoombox:{width:1e3,path:"m1000-25l-250 251c40 63 63 138 63 218 0 224-182 406-407 406-224 0-406-182-406-406s183-406 407-406c80 0 155 22 218 62l250-250 125 125z m-812 250l0 438 437 0 0-438-437 0z m62 375l313 0 0-312-313 0 0 312z",ascent:850,descent:-150},pan:{width:1e3,path:"m1000 350l-187 188 0-125-250 0 0 250 125 0-188 187-187-187 125 0 0-250-250 0 0 125-188-188 186-187 0 125 252 0 0-250-125 0 187-188 188 188-125 0 0 250 250 0 0-126 187 188z",ascent:850,descent:-150},zoom_plus:{width:1e3,path:"m1 787l0-875 875 0 0 875-875 0z m687-500l-187 0 0-187-125 0 0 187-188 0 0 125 188 0 0 187 125 0 0-187 187 0 0-125z",ascent:850,descent:-150},zoom_minus:{width:1e3,path:"m0 788l0-876 875 0 0 876-875 0z m688-500l-500 0 0 125 500 0 0-125z",ascent:850,descent:-150},autoscale:{width:1e3,path:"m250 850l-187 0-63 0 0-62 0-188 63 0 0 188 187 0 0 62z m688 0l-188 0 0-62 188 0 0-188 62 0 0 188 0 62-62 0z m-875-938l0 188-63 0 0-188 0-62 63 0 187 0 0 62-187 0z m875 188l0-188-188 0 0-62 188 0 62 0 0 62 0 188-62 0z m-125 188l-1 0-93-94-156 156 156 156 92-93 2 0 0 250-250 0 0-2 93-92-156-156-156 156 94 92 0 2-250 0 0-250 0 0 93 93 157-156-157-156-93 94 0 0 0-250 250 0 0 0-94 93 156 157 156-157-93-93 0 0 250 0 0 250z",ascent:850,descent:-150},tooltip_basic:{width:1500,path:"m375 725l0 0-375-375 375-374 0-1 1125 0 0 750-1125 0z",ascent:850,descent:-150},tooltip_compare:{width:1125,path:"m187 786l0 2-187-188 188-187 0 0 937 0 0 373-938 0z m0-499l0 1-187-188 188-188 0 0 937 0 0 376-938-1z",ascent:850,descent:-150},plotlylogo:{width:1542,path:"m0-10h182v-140h-182v140z m228 146h183v-286h-183v286z m225 714h182v-1000h-182v1000z m225-285h182v-715h-182v715z m225 142h183v-857h-183v857z m231-428h182v-429h-182v429z m225-291h183v-138h-183v138z",ascent:850,descent:-150},"z-axis":{width:1e3,path:"m833 5l-17 108v41l-130-65 130-66c0 0 0 38 0 39 0-1 36-14 39-25 4-15-6-22-16-30-15-12-39-16-56-20-90-22-187-23-279-23-261 0-341 34-353 59 3 60 228 110 228 110-140-8-351-35-351-116 0-120 293-142 474-142 155 0 477 22 477 142 0 50-74 79-163 96z m-374 94c-58-5-99-21-99-40 0-24 65-43 144-43 79 0 143 19 143 43 0 19-42 34-98 40v216h87l-132 135-133-135h88v-216z m167 515h-136v1c16 16 31 34 46 52l84 109v54h-230v-71h124v-1c-16-17-28-32-44-51l-89-114v-51h245v72z",ascent:850,descent:-150},"3d_rotate":{width:1e3,path:"m922 660c-5 4-9 7-14 11-359 263-580-31-580-31l-102 28 58-400c0 1 1 1 2 2 118 108 351 249 351 249s-62 27-100 42c88 83 222 183 347 122 16-8 30-17 44-27-2 1-4 2-6 4z m36-329c0 0 64 229-88 296-62 27-124 14-175-11 157-78 225-208 249-266 8-19 11-31 11-31 2 5 6 15 11 32-5-13-8-20-8-20z m-775-239c70-31 117-50 198-32-121 80-199 346-199 346l-96-15-58-12c0 0 55-226 155-287z m603 133l-317-139c0 0 4-4 19-14 7-5 24-15 24-15s-177-147-389 4c235-287 536-112 536-112l31-22 100 299-4-1z m-298-153c6-4 14-9 24-15 0 0-17 10-24 15z",ascent:850,descent:-150},camera:{width:1e3,path:"m500 450c-83 0-150-67-150-150 0-83 67-150 150-150 83 0 150 67 150 150 0 83-67 150-150 150z m400 150h-120c-16 0-34 13-39 29l-31 93c-6 15-23 28-40 28h-340c-16 0-34-13-39-28l-31-94c-6-15-23-28-40-28h-120c-55 0-100-45-100-100v-450c0-55 45-100 100-100h800c55 0 100 45 100 100v450c0 55-45 100-100 100z m-400-550c-138 0-250 112-250 250 0 138 112 250 250 250 138 0 250-112 250-250 0-138-112-250-250-250z m365 380c-19 0-35 16-35 35 0 19 16 35 35 35 19 0 35-16 35-35 0-19-16-35-35-35z",ascent:850,descent:-150},movie:{width:1e3,path:"m938 413l-188-125c0 37-17 71-44 94 64 38 107 107 107 187 0 121-98 219-219 219-121 0-219-98-219-219 0-61 25-117 66-156h-115c30 33 49 76 49 125 0 103-84 187-187 187s-188-84-188-187c0-57 26-107 65-141-38-22-65-62-65-109v-250c0-70 56-126 125-126h500c69 0 125 56 125 126l188-126c34 0 62 28 62 63v375c0 35-28 63-62 63z m-750 0c-69 0-125 56-125 125s56 125 125 125 125-56 125-125-56-125-125-125z m406-1c-87 0-157 70-157 157 0 86 70 156 157 156s156-70 156-156-70-157-156-157z",ascent:850,descent:-150},question:{width:857.1,path:"m500 82v107q0 8-5 13t-13 5h-107q-8 0-13-5t-5-13v-107q0-8 5-13t13-5h107q8 0 13 5t5 13z m143 375q0 49-31 91t-77 65-95 23q-136 0-207-119-9-14 4-24l74-55q4-4 10-4 9 0 14 7 30 38 48 51 19 14 48 14 27 0 48-15t21-33q0-21-11-34t-38-25q-35-16-65-48t-29-70v-20q0-8 5-13t13-5h107q8 0 13 5t5 13q0 10 12 27t30 28q18 10 28 16t25 19 25 27 16 34 7 45z m214-107q0-117-57-215t-156-156-215-58-216 58-155 156-58 215 58 215 155 156 216 58 215-58 156-156 57-215z",ascent:850,descent:-150},disk:{width:857.1,path:"m214-7h429v214h-429v-214z m500 0h72v500q0 8-6 21t-11 20l-157 156q-5 6-19 12t-22 5v-232q0-22-15-38t-38-16h-322q-22 0-37 16t-16 38v232h-72v-714h72v232q0 22 16 38t37 16h465q22 0 38-16t15-38v-232z m-214 518v178q0 8-5 13t-13 5h-107q-7 0-13-5t-5-13v-178q0-8 5-13t13-5h107q7 0 13 5t5 13z m357-18v-518q0-22-15-38t-38-16h-750q-23 0-38 16t-16 38v750q0 22 16 38t38 16h517q23 0 50-12t42-26l156-157q16-15 27-42t11-49z",ascent:850,descent:-150},lasso:{width:1031,path:"m1018 538c-36 207-290 336-568 286-277-48-473-256-436-463 10-57 36-108 76-151-13-66 11-137 68-183 34-28 75-41 114-42l-55-70 0 0c-2-1-3-2-4-3-10-14-8-34 5-45 14-11 34-8 45 4 1 1 2 3 2 5l0 0 113 140c16 11 31 24 45 40 4 3 6 7 8 11 48-3 100 0 151 9 278 48 473 255 436 462z m-624-379c-80 14-149 48-197 96 42 42 109 47 156 9 33-26 47-66 41-105z m-187-74c-19 16-33 37-39 60 50-32 109-55 174-68-42-25-95-24-135 8z m360 75c-34-7-69-9-102-8 8 62-16 128-68 170-73 59-175 54-244-5-9 20-16 40-20 61-28 159 121 317 333 354s407-60 434-217c28-159-121-318-333-355z",ascent:850,descent:-150},selectbox:{width:1e3,path:"m0 850l0-143 143 0 0 143-143 0z m286 0l0-143 143 0 0 143-143 0z m285 0l0-143 143 0 0 143-143 0z m286 0l0-143 143 0 0 143-143 0z m-857-286l0-143 143 0 0 143-143 0z m857 0l0-143 143 0 0 143-143 0z m-857-285l0-143 143 0 0 143-143 0z m857 0l0-143 143 0 0 143-143 0z m-857-286l0-143 143 0 0 143-143 0z m286 0l0-143 143 0 0 143-143 0z m285 0l0-143 143 0 0 143-143 0z m286 0l0-143 143 0 0 143-143 0z",ascent:850,descent:-150},spikeline:{width:1e3,path:"M512 409c0-57-46-104-103-104-57 0-104 47-104 104 0 57 47 103 104 103 57 0 103-46 103-103z m-327-39l92 0 0 92-92 0z m-185 0l92 0 0 92-92 0z m370-186l92 0 0 93-92 0z m0-184l92 0 0 92-92 0z",ascent:850,descent:-150}}},function(e,t,n){"use strict";function r(e,t){return t=t||{},t.format=t.format||"png",new Promise(function(n,r){e._snapshotInProgress&&r(new Error("Snapshotting already in progress.")),i.isIE()&&"svg"!==t.format&&r(new Error("Sorry IE does not support downloading from canvas. Try {format:'svg'} instead.")),e._snapshotInProgress=!0;var l=a(e,t),s=t.filename||e.fn||"newplot";s+="."+t.format,l.then(function(t){return e._snapshotInProgress=!1,o(t,s)}).then(function(e){n(e)}).catch(function(t){e._snapshotInProgress=!1,r(t)})})}var a=n(195),i=n(57),o=n(274);e.exports=r},function(e,t,n){"use strict";t.getDelay=function(e){return e._has&&(e._has("gl3d")||e._has("gl2d"))?500:0},t.getRedrawFunc=function(e){if(!(e.data&&e.data[0]&&e.data[0].r))return function(){(e.calcdata||[]).forEach(function(e){e[0]&&e[0].t&&e[0].t.cb&&e[0].t.cb()})}}},function(e,t,n){"use strict";function r(e){var t=i.select("body").append("div").style({display:"none"}).html(""),n=e.replace(/(&[^;]*;)/gi,function(e){return"&lt;"===e?"&#60;":"&rt;"===e?"&#62;":-1!==e.indexOf("<")||-1!==e.indexOf(">")?"":t.html(e).text()});return t.remove(),n}function a(e){return e.replace(/&(?!\w+;|\#[0-9]+;| \#x[0-9A-F]+;)/g,"&amp;")}var i=n(58),o=n(57),l=n(62),s=n(60),c=n(103),u=/"/g,f=new RegExp('("TOBESTRIPPED)|(TOBESTRIPPED")',"g");e.exports=function(e,t,n){var d,h=e._fullLayout,p=h._paper,g=h._toppaper,v=h.width,y=h.height;p.insert("rect",":first-child").call(l.setRect,0,0,v,y).call(s.fill,h.paper_bgcolor);var m=h._basePlotModules||[];for(d=0;d<m.length;d++){var x=m[d];x.toSVG&&x.toSVG(e)}if(g){var b=g.node().childNodes,_=Array.prototype.slice.call(b);for(d=0;d<_.length;d++){var w=_[d];w.childNodes.length&&p.node().appendChild(w)}}h._draggers&&h._draggers.remove(),p.node().style.background="",p.selectAll("text").attr({"data-unformatted":null,"data-math":null}).each(function(){var e=i.select(this);if("hidden"===this.style.visibility||"none"===this.style.display)return void e.remove();e.style({visibility:null,display:null});var t=this.style.fontFamily;t&&-1!==t.indexOf('"')&&e.style("font-family",t.replace(u,"TOBESTRIPPED"))}),p.selectAll(".point,.scatterpts").each(function(){var e=i.select(this),t=this.style.fill;t&&-1!==t.indexOf("url(")&&e.style("fill",t.replace(u,"TOBESTRIPPED"))}),"pdf"!==t&&"eps"!==t||p.selectAll("#MathJax_SVG_glyphs path").attr("stroke-width",0),p.node().setAttributeNS(c.xmlns,"xmlns",c.svg),p.node().setAttributeNS(c.xmlns,"xmlns:xlink",c.xlink),"svg"===t&&n&&(p.attr("width",n*v),p.attr("height",n*y),p.attr("viewBox","0 0 "+v+" "+y));var k=(new window.XMLSerializer).serializeToString(p.node());return k=r(k),k=a(k),k=k.replace(f,"'"),o.isIE()&&(k=k.replace(/"/gi,"'"),k=k.replace(/(\('#)([^']*)('\))/gi,'("$2")'),k=k.replace(/(\\')/gi,'"')),k}},function(e,t,n){"use strict";function r(e){var t=e.emitter||new i,n=new Promise(function(r,i){var o=window.Image,l=e.svg,s=e.format||"png";if(a.isIE()&&"svg"!==s){var c=new Error("Sorry IE does not support downloading from canvas. Try {format:'svg'} instead.");return i(c),e.promise?n:t.emit("error",c)}var u=e.canvas,f=e.scale||1,d=e.width||300,h=e.height||150,p=f*d,g=f*h,v=u.getContext("2d"),y=new o,m="data:image/svg+xml,"+encodeURIComponent(l);u.width=p,u.height=g,y.onload=function(){var n;switch("svg"!==s&&v.drawImage(y,0,0,p,g),s){case"jpeg":n=u.toDataURL("image/jpeg");break;case"png":n=u.toDataURL("image/png");break;case"webp":n=u.toDataURL("image/webp");break;case"svg":n=m;break;default:var a="Image format is not jpeg, png, svg or webp.";if(i(new Error(a)),!e.promise)return t.emit("error",a)}r(n),e.promise||t.emit("success",n)},y.onerror=function(n){if(i(n),!e.promise)return t.emit("error",n)},y.src=m});return e.promise?n:t}var a=n(57),i=n(158).EventEmitter;e.exports=r},function(e,t){function n(){this._events=this._events||{},this._maxListeners=this._maxListeners||void 0}function r(e){return"function"==typeof e}function a(e){return"number"==typeof e}function i(e){return"object"==typeof e&&null!==e}function o(e){return void 0===e}e.exports=n,n.EventEmitter=n,n.prototype._events=void 0,n.prototype._maxListeners=void 0,n.defaultMaxListeners=10,n.prototype.setMaxListeners=function(e){if(!a(e)||e<0||isNaN(e))throw TypeError("n must be a positive number");return this._maxListeners=e,this},n.prototype.emit=function(e){var t,n,a,l,s,c;if(this._events||(this._events={}),"error"===e&&(!this._events.error||i(this._events.error)&&!this._events.error.length)){if((t=arguments[1])instanceof Error)throw t;var u=new Error('Uncaught, unspecified "error" event. ('+t+")");throw u.context=t,u}if(n=this._events[e],o(n))return!1;if(r(n))switch(arguments.length){case 1:n.call(this);break;case 2:n.call(this,arguments[1]);break;case 3:n.call(this,arguments[1],arguments[2]);break;default:l=Array.prototype.slice.call(arguments,1),n.apply(this,l)}else if(i(n))for(l=Array.prototype.slice.call(arguments,1),c=n.slice(),a=c.length,s=0;s<a;s++)c[s].apply(this,l);return!0},n.prototype.addListener=function(e,t){var a;if(!r(t))throw TypeError("listener must be a function");return this._events||(this._events={}),this._events.newListener&&this.emit("newListener",e,r(t.listener)?t.listener:t),this._events[e]?i(this._events[e])?this._events[e].push(t):this._events[e]=[this._events[e],t]:this._events[e]=t,i(this._events[e])&&!this._events[e].warned&&(a=o(this._maxListeners)?n.defaultMaxListeners:this._maxListeners)&&a>0&&this._events[e].length>a&&(this._events[e].warned=!0,console.error("(node) warning: possible EventEmitter memory leak detected. %d listeners added. Use emitter.setMaxListeners() to increase limit.",this._events[e].length),"function"==typeof console.trace&&console.trace()),this},n.prototype.on=n.prototype.addListener,n.prototype.once=function(e,t){function n(){this.removeListener(e,n),a||(a=!0,t.apply(this,arguments))}if(!r(t))throw TypeError("listener must be a function");var a=!1;return n.listener=t,this.on(e,n),this},n.prototype.removeListener=function(e,t){var n,a,o,l;if(!r(t))throw TypeError("listener must be a function");if(!this._events||!this._events[e])return this;if(n=this._events[e],o=n.length,a=-1,n===t||r(n.listener)&&n.listener===t)delete this._events[e],this._events.removeListener&&this.emit("removeListener",e,t);else if(i(n)){for(l=o;l-- >0;)if(n[l]===t||n[l].listener&&n[l].listener===t){a=l;break}if(a<0)return this;1===n.length?(n.length=0,delete this._events[e]):n.splice(a,1),this._events.removeListener&&this.emit("removeListener",e,t)}return this},n.prototype.removeAllListeners=function(e){var t,n;if(!this._events)return this;if(!this._events.removeListener)return 0===arguments.length?this._events={}:this._events[e]&&delete this._events[e],this;if(0===arguments.length){for(t in this._events)"removeListener"!==t&&this.removeAllListeners(t);return this.removeAllListeners("removeListener"),this._events={},this}if(n=this._events[e],r(n))this.removeListener(e,n);else if(n)for(;n.length;)this.removeListener(e,n[n.length-1]);return delete this._events[e],this},n.prototype.listeners=function(e){return this._events&&this._events[e]?r(this._events[e])?[this._events[e]]:this._events[e].slice():[]},n.prototype.listenerCount=function(e){if(this._events){var t=this._events[e];if(r(t))return 1;if(t)return t.length}return 0},n.listenerCount=function(e,t){return e.listenerCount(t)}},function(e,t,n){"use strict";var r=n(158).EventEmitter,a={init:function(e){if(e._ev instanceof r)return e;var t=new r,n=new r;return e._ev=t,e._internalEv=n,e.on=t.on.bind(t),e.once=t.once.bind(t),e.removeListener=t.removeListener.bind(t),e.removeAllListeners=t.removeAllListeners.bind(t),e._internalOn=n.on.bind(n),e._internalOnce=n.once.bind(n),e._removeInternalListener=n.removeListener.bind(n),e._removeAllInternalListeners=n.removeAllListeners.bind(n),e.emit=function(r,a){"undefined"!=typeof jQuery&&jQuery(e).trigger(r,a),t.emit(r,a),n.emit(r,a)},e},triggerHandler:function(e,t,n){var r,a;"undefined"!=typeof jQuery&&(r=jQuery(e).triggerHandler(t,n));var i=e._ev;if(!i)return r;var o=i._events[t];if(!o)return r;"function"==typeof o&&(o=[o]);for(var l=o.pop(),s=0;s<o.length;s++)o[s](n);return a=l(n),void 0!==r?r:a},purge:function(e){return delete e._ev,delete e.on,delete e.once,delete e.removeListener,delete e.removeAllListeners,delete e.emit,delete e._ev,delete e._internalEv,delete e._internalOn,delete e._internalOnce,delete e._removeInternalListener,delete e._removeAllInternalListeners,e}};e.exports=a},function(e,t,n){"use strict";function r(e,t){return function(n){var r=e(n),a=t(n);return Math.sqrt(r*r+a*a)}}var a=n(57),i=n(106);t.getSubplot=function(e){return e.subplot||e.xaxis+e.yaxis||e.geo},t.flat=function(e,t){for(var n=new Array(e.length),r=0;r<e.length;r++)n[r]=t;return n},t.p2c=function(e,t){for(var n=new Array(e.length),r=0;r<e.length;r++)n[r]=e[r].p2c(t);return n},t.getDistanceFunction=function(e,t,n,a){return"closest"===e?a||r(t,n):"x"===e?t:n},t.getClosest=function(e,t,n){if(!1!==n.index)n.index>=0&&n.index<e.length?n.distance=0:n.index=!1;else for(var r=0;r<e.length;r++){var a=t(e[r]);a<=n.distance&&(n.index=r,n.distance=a)}return n},t.inbox=function(e,t){return e*t<0||0===e?i.MAXDIST*(.6-.3/Math.max(3,Math.abs(e-t))):1/0},t.appendArrayPointValue=function(e,t,n){var r=t._arrayAttrs;if(r)for(var i=0;i<r.length;i++){var o,l=r[i];if(o="ids"===l?"id":"locations"===l?"location":l,void 0===e[o]){var s=a.nestedProperty(t,l).get();Array.isArray(n)?Array.isArray(s)&&Array.isArray(s[n[0]])&&(e[o]=s[n[0]][n[1]]):e[o]=s[n]}}}},function(e,t,n){"use strict";var r=n(106),a=n(68)({editType:"none",description:"Sets the default hover label font used by all traces on the graph."});a.family.dflt=r.HOVERFONT,a.size.dflt=r.HOVERFONTSIZE,e.exports={dragmode:{valType:"enumerated",role:"info",values:["zoom","pan","select","lasso","orbit","turntable"],dflt:"zoom",editType:"modebar",description:["Determines the mode of drag interactions.","*select* and *lasso* apply only to scatter traces with","markers or text. *orbit* and *turntable* apply only to","3D scenes."].join(" ")},hovermode:{valType:"enumerated",role:"info",values:["x","y","closest",!1],editType:"modebar",description:"Determines the mode of hover interactions."},hoverlabel:{bgcolor:{valType:"color",role:"style",editType:"none",description:["Sets the background color of all hover labels on graph"].join(" ")},bordercolor:{valType:"color",role:"style",editType:"none",description:["Sets the border color of all hover labels on graph."].join(" ")},font:a,namelength:{valType:"integer",min:-1,dflt:15,role:"style",editType:"none",description:["Sets the default length (in number of characters) of the trace name in","the hover labels for all traces. -1 shows the whole name","regardless of length. 0-3 shows the first 0-3 characters, and","an integer >3 will show the whole name if it is less than that","many characters, but if it is longer, will truncate to","`namelength - 3` characters and add an ellipsis."].join(" ")},editType:"none"}}},function(e,t,n){"use strict";function r(e,t,n,r){if(("pie"===n||"sankey"===n)&&!r)return void e.emit("plotly_hover",{event:t.originalEvent,points:[t]});n||(n="xy");var d=Array.isArray(n)?n:[n],g=e._fullLayout,y=g._plots||[],M=y[n];if(M){var A=M.overlays.map(function(e){return e.id});d=d.concat(A)}for(var T=d.length,S=new Array(T),L=new Array(T),C=0;C<T;C++){var O=d[C],z=y[O];if(z)S[C]=b.getFromId(e,z.xaxis._id),L[C]=b.getFromId(e,z.yaxis._id);else{var j=g[O]._subplot;S[C]=j.xaxis,L[C]=j.yaxis}}var D=t.hovermode||g.hovermode;if(-1===["x","y","closest"].indexOf(D)||!e.calcdata||e.querySelector(".zoombox")||e._dragging)return x.unhoverRaw(e,t);var I,P,E,N,R,F,B,q,H,V,U,G,X,Y=[],Z=[];if(Array.isArray(t))for(D="array",E=0;E<t.length;E++)R=e.calcdata[t[E].curveNumber||0],"skip"!==R[0].trace.hoverinfo&&Z.push(R);else{for(N=0;N<e.calcdata.length;N++)R=e.calcdata[N],F=R[0].trace,"skip"!==F.hoverinfo&&-1!==d.indexOf(w.getSubplot(F))&&Z.push(R);var W,Q,$=!t.target;if($)W="xpx"in t?t.xpx:S[0]._length/2,Q="ypx"in t?t.ypx:L[0]._length/2;else{if(!1===p.triggerHandler(e,"plotly_beforehover",t))return;var J=t.target.getBoundingClientRect();if(W=t.clientX-J.left,Q=t.clientY-J.top,W<0||W>J.width||Q<0||Q>J.height)return x.unhoverRaw(e,t)}if(I="xval"in t?w.flat(d,t.xval):w.p2c(S,W),P="yval"in t?w.flat(d,t.yval):w.p2c(L,Q),!f(I[0])||!f(P[0]))return h.warn("Fx.hover failed",t,e),x.unhoverRaw(e,t)}var K=1/0;for(N=0;N<Z.length;N++)if((R=Z[N])&&R[0]&&R[0].trace&&!0===R[0].trace.visible&&(F=R[0].trace,-1===["carpet","contourcarpet"].indexOf(F._module.name))){if(B=w.getSubplot(F),q=d.indexOf(B),H=D,G={cd:R,trace:F,xa:S[q],ya:L[q],index:!1,distance:Math.min(K,k.MAXDIST),color:m.defaultLine,name:F.name,x0:void 0,x1:void 0,y0:void 0,y1:void 0,xLabelVal:void 0,yLabelVal:void 0,zLabelVal:void 0,text:void 0},g[B]&&(G.subplot=g[B]._subplot),X=Y.length,"array"===H){var ee=t[N];"pointNumber"in ee?(G.index=ee.pointNumber,H="closest"):(H="","xval"in ee&&(V=ee.xval,H="x"),"yval"in ee&&(U=ee.yval,H=H?"closest":"y"))}else V=I[q],U=P[q];if(F._module&&F._module.hoverPoints){var te=F._module.hoverPoints(G,V,U,H);if(te)for(var ne,re=0;re<te.length;re++)ne=te[re],f(ne.x0)&&f(ne.y0)&&Y.push(l(ne,D))}else h.log("Unrecognized trace type in hover:",F);"closest"===D&&Y.length>X&&(Y.splice(0,X),K=Y[0].distance)}if(0===Y.length)return x.unhoverRaw(e,t);Y.sort(function(e,t){return e.distance-t.distance});var ae=e._hoverdata,ie=[];for(E=0;E<Y.length;E++){var oe=Y[E],le={data:oe.trace._input,fullData:oe.trace,curveNumber:oe.trace.index,pointNumber:oe.index};oe.trace._module.eventData?le=oe.trace._module.eventData(le,oe):(le.x=oe.xVal,le.y=oe.yVal,le.xaxis=oe.xa,le.yaxis=oe.ya,void 0!==oe.zLabelVal&&(le.z=oe.zLabelVal)),w.appendArrayPointValue(le,oe.trace,oe.index),ie.push(le)}if(e._hoverdata=ie,c(e,t,ae)&&g._hasCartesian){s(Y,{hovermode:D,fullLayout:g,container:g._hoverlayer,outerContainer:g._paperdiv})}var se="y"===D&&Z.length>1,ce=m.combine(g.plot_bgcolor||m.background,g.paper_bgcolor),ue={hovermode:D,rotateLabels:se,bgColor:ce,container:g._hoverlayer,outerContainer:g._paperdiv,commonLabelOpts:g.hoverlabel},fe=a(Y,ue,e);if(i(Y,se?"xa":"ya"),o(fe,se),t.target&&t.target.tagName){var de=_.getComponentMethod("annotations","hasClickToShow")(e,ie);v(u.select(t.target),de?"pointer":"")}t.target&&!r&&c(e,t,ae)&&(ae&&e.emit("plotly_unhover",{event:t,points:ae}),e.emit("plotly_hover",{event:t,points:e._hoverdata,xaxes:S,yaxes:L,xvals:I,yvals:P}))}function a(e,t,n){var r,a,i=t.hovermode,o=t.rotateLabels,l=t.bgColor,s=t.container,c=t.outerContainer,f=t.commonLabelOpts||{},d=t.fontFamily||k.HOVERFONT,h=t.fontSize||k.HOVERFONTSIZE,p=e[0],v=p.xa,x=p.ya,b="y"===i?"yLabel":"xLabel",_=p[b],w=(String(_)||"").split(" ")[0],A=c.node().getBoundingClientRect(),T=A.top,S=A.width,L=A.height,z=p.distance<=k.MAXDIST&&("x"===i||"y"===i);for(r=0;r<e.length;r++){a=e[r].hoverinfo||e[r].trace.hoverinfo;var j=a.split("+");if(-1===j.indexOf("all")&&-1===j.indexOf(i)){z=!1;break}}var D=s.selectAll("g.axistext").data(z?[0]:[]);D.enter().append("g").classed("axistext",!0),D.exit().remove(),D.each(function(){var t=u.select(this),r=t.selectAll("path").data([0]),a=t.selectAll("text").data([0]);r.enter().append("path").style({"stroke-width":"1px"}),r.style({fill:f.bgcolor||m.defaultLine,stroke:f.bordercolor||m.background}),a.enter().append("text").attr("data-notex",1),a.text(_).call(y.font,f.font.family||d,f.font.size||h,f.font.color||m.background).call(g.positionText,0,0).call(g.convertToTspans,n),t.attr("transform","");var o=a.node().getBoundingClientRect();if("x"===i){a.attr("text-anchor","middle").call(g.positionText,0,"top"===v.side?T-o.bottom-C-O:T-o.top+C+O);var l="top"===v.side?"-":"";r.attr("d","M0,0L"+C+","+l+C+"H"+(O+o.width/2)+"v"+l+(2*O+o.height)+"H-"+(O+o.width/2)+"V"+l+C+"H-"+C+"Z"),t.attr("transform","translate("+(v._offset+(p.x0+p.x1)/2)+","+(x._offset+("top"===v.side?0:x._length))+")")}else{a.attr("text-anchor","right"===x.side?"start":"end").call(g.positionText,("right"===x.side?1:-1)*(O+C),T-o.top-o.height/2);var s="right"===x.side?"":"-";r.attr("d","M0,0L"+s+C+","+C+"V"+(O+o.height/2)+"h"+s+(2*O+o.width)+"V-"+(O+o.height/2)+"H"+s+C+"V-"+C+"Z"),t.attr("transform","translate("+(v._offset+("right"===x.side?v._length:0))+","+(x._offset+(p.y0+p.y1)/2)+")")}e=e.filter(function(e){return void 0!==e.zLabelVal||(e[b]||"").split(" ")[0]===w})});var I=s.selectAll("g.hovertext").data(e,function(e){return[e.trace.index,e.index,e.x0,e.y0,e.name,e.attr,e.xa,e.ya||""].join(",")});return I.enter().append("g").classed("hovertext",!0).each(function(){var e=u.select(this);e.append("rect").call(m.fill,m.addOpacity(l,.8)),e.append("text").classed("name",!0),e.append("path").style("stroke-width","1px"),e.append("text").classed("nums",!0).call(y.font,d,h)}),I.exit().remove(),I.each(function(e){var t=u.select(this).attr("transform",""),r="",a="",s=m.opacity(e.color)?e.color:m.defaultLine,c=m.combine(s,l),f=e.borderColor||m.contrast(c);if(void 0!==e.nameOverride&&(e.name=e.nameOverride),e.name){r=g.plainText(e.name||"");var p=Math.round(e.nameLength);p>-1&&r.length>p&&(r=p>3?r.substr(0,p-3)+"...":r.substr(0,p))}void 0!==e.extraText&&(a+=e.extraText),void 0!==e.zLabel?(void 0!==e.xLabel&&(a+="x: "+e.xLabel+"<br>"),void 0!==e.yLabel&&(a+="y: "+e.yLabel+"<br>"),a+=(a?"z: ":"")+e.zLabel):z&&e[i+"Label"]===_?a=e[("x"===i?"y":"x")+"Label"]||"":void 0===e.xLabel?void 0!==e.yLabel&&(a=e.yLabel):a=void 0===e.yLabel?e.xLabel:"("+e.xLabel+", "+e.yLabel+")",e.text&&!Array.isArray(e.text)&&(a+=(a?"<br>":"")+e.text),""===a&&(""===r&&t.remove(),a=r);var v=t.select("text.nums").call(y.font,e.fontFamily||d,e.fontSize||h,e.fontColor||f).text(a).attr("data-notex",1).call(g.positionText,0,0).call(g.convertToTspans,n),x=t.select("text.name"),b=0;r&&r!==a?(x.call(y.font,e.fontFamily||d,e.fontSize||h,c).text(r).attr("data-notex",1).call(g.positionText,0,0).call(g.convertToTspans,n),b=x.node().getBoundingClientRect().width+2*O):(x.remove(),t.select("rect").remove()),t.select("path").style({fill:c,stroke:f});var w,k,A=v.node().getBoundingClientRect(),j=e.xa._offset+(e.x0+e.x1)/2,D=e.ya._offset+(e.y0+e.y1)/2,I=Math.abs(e.x1-e.x0),P=Math.abs(e.y1-e.y0),E=A.width+C+O+b;e.ty0=T-A.top,e.bx=A.width+2*O,e.by=A.height+2*O,e.anchor="start",e.txwidth=A.width,e.tx2width=b,e.offset=0,o?(e.pos=j,w=D+P/2+E<=L,k=D-P/2-E>=0,"top"!==e.idealAlign&&w||!k?w?(D+=P/2,e.anchor="start"):e.anchor="middle":(D-=P/2,e.anchor="end")):(e.pos=D,w=j+I/2+E<=S,k=j-I/2-E>=0,"left"!==e.idealAlign&&w||!k?w?(j+=I/2,e.anchor="start"):e.anchor="middle":(j-=I/2,e.anchor="end")),v.attr("text-anchor",e.anchor),b&&x.attr("text-anchor",e.anchor),t.attr("transform","translate("+j+","+D+")"+(o?"rotate("+M+")":""))}),I}function i(e,t){function n(e){var t=e[0],n=e[e.length-1];if(a=t.pmin-t.pos-t.dp+t.size,i=n.pos+n.dp+n.size-t.pmax,a>.01){for(l=e.length-1;l>=0;l--)e[l].dp+=a;r=!1}if(!(i<.01)){if(a<-.01){for(l=e.length-1;l>=0;l--)e[l].dp-=i;r=!1}if(r){var c=0;for(o=0;o<e.length;o++)s=e[o],s.pos+s.dp+s.size>t.pmax&&c++;for(o=e.length-1;o>=0&&!(c<=0);o--)s=e[o],s.pos>t.pmax-1&&(s.del=!0,c--);for(o=0;o<e.length&&!(c<=0);o++)if(s=e[o],s.pos<t.pmin+1)for(s.del=!0,c--,i=2*s.size,l=e.length-1;l>=0;l--)e[l].dp-=i;for(o=e.length-1;o>=0&&!(c<=0);o--)s=e[o],s.pos+s.dp+s.size>t.pmax&&(s.del=!0,c--)}}}for(var r,a,i,o,l,s,c,u=0,f=e.map(function(e,n){var r=e[t];return[{i:n,dp:0,pos:e.pos,posref:e.posref,size:e.by*("x"===r._id.charAt(0)?T:1)/2,pmin:r._offset,pmax:r._offset+r._length}]}).sort(function(e,t){return e[0].posref-t[0].posref});!r&&u<=e.length;){for(u++,r=!0,o=0;o<f.length-1;){var d=f[o],h=f[o+1],p=d[d.length-1],g=h[0];if((a=p.pos+p.dp+p.size-g.pos-g.dp+g.size)>.01&&p.pmin===g.pmin&&p.pmax===g.pmax){for(l=h.length-1;l>=0;l--)h[l].dp+=a;for(d.push.apply(d,h),f.splice(o+1,1),c=0,l=d.length-1;l>=0;l--)c+=d[l].dp;for(i=c/d.length,l=d.length-1;l>=0;l--)d[l].dp-=i;r=!1}else o++}f.forEach(n)}for(o=f.length-1;o>=0;o--){var v=f[o];for(l=v.length-1;l>=0;l--){var y=v[l],m=e[y.i];m.offset=y.dp,m.del=y.del}}}function o(e,t){e.each(function(e){var n=u.select(this);if(e.del)return void n.remove();var r="end"===e.anchor?-1:1,a=n.select("text.nums"),i={start:1,end:-1,middle:0}[e.anchor],o=i*(C+O),l=o+i*(e.txwidth+O),s=0,c=e.offset;"middle"===e.anchor&&(o-=e.tx2width/2,l-=e.tx2width/2),t&&(c*=-L,s=e.offset*S),n.select("path").attr("d","middle"===e.anchor?"M-"+e.bx/2+",-"+e.by/2+"h"+e.bx+"v"+e.by+"h-"+e.bx+"Z":"M0,0L"+(r*C+s)+","+(C+c)+"v"+(e.by/2-C)+"h"+r*e.bx+"v-"+e.by+"H"+(r*C+s)+"V"+(c-C)+"Z"),a.call(g.positionText,o+s,c+e.ty0-e.by/2+O),e.tx2width&&(n.select("text.name").call(g.positionText,l+i*O+s,c+e.ty0-e.by/2+O),n.select("rect").call(y.setRect,l+(i-1)*e.tx2width/2+s,c-e.by/2-1,e.tx2width,e.by+2))})}function l(e,t){function n(t,n,r){var a=l(n,r);a&&(e[t]=a)}var r=e.index,a=e.trace||{},i=e.cd[0],o=e.cd[r]||{},l=Array.isArray(r)?function(e,t){return h.castOption(i,r,e)||h.extractOption({},a,"",t)}:function(e,t){return h.extractOption(o,a,e,t)};n("hoverinfo","hi","hoverinfo"),n("color","hbg","hoverlabel.bgcolor"),n("borderColor","hbc","hoverlabel.bordercolor"),n("fontFamily","htf","hoverlabel.font.family"),n("fontSize","hts","hoverlabel.font.size"),n("fontColor","htc","hoverlabel.font.color"),n("nameLength","hnl","hoverlabel.namelength"),e.posref="y"===t?(e.x0+e.x1)/2:(e.y0+e.y1)/2,e.x0=h.constrain(e.x0,0,e.xa._length),e.x1=h.constrain(e.x1,0,e.xa._length),e.y0=h.constrain(e.y0,0,e.ya._length),e.y1=h.constrain(e.y1,0,e.ya._length);var s;if(void 0!==e.xLabelVal){s="log"===e.xa.type&&e.xLabelVal<=0;var c=b.tickText(e.xa,e.xa.c2l(s?-e.xLabelVal:e.xLabelVal),"hover");s?0===e.xLabelVal?e.xLabel="0":e.xLabel="-"+c.text:e.xLabel=c.text,e.xVal=e.xa.c2d(e.xLabelVal)}if(void 0!==e.yLabelVal){s="log"===e.ya.type&&e.yLabelVal<=0;var u=b.tickText(e.ya,e.ya.c2l(s?-e.yLabelVal:e.yLabelVal),"hover");s?0===e.yLabelVal?e.yLabel="0":e.yLabel="-"+u.text:e.yLabel=u.text,e.yVal=e.ya.c2d(e.yLabelVal)}if(void 0!==e.zLabelVal&&(e.zLabel=String(e.zLabelVal)),!(isNaN(e.xerr)||"log"===e.xa.type&&e.xerr<=0)){var f=b.tickText(e.xa,e.xa.c2l(e.xerr),"hover").text;void 0!==e.xerrneg?e.xLabel+=" +"+f+" / -"+b.tickText(e.xa,e.xa.c2l(e.xerrneg),"hover").text:e.xLabel+=" ± "+f,"x"===t&&(e.distance+=1)}if(!(isNaN(e.yerr)||"log"===e.ya.type&&e.yerr<=0)){var d=b.tickText(e.ya,e.ya.c2l(e.yerr),"hover").text;void 0!==e.yerrneg?e.yLabel+=" +"+d+" / -"+b.tickText(e.ya,e.ya.c2l(e.yerrneg),"hover").text:e.yLabel+=" ± "+d,"y"===t&&(e.distance+=1)}var p=e.hoverinfo||e.trace.hoverinfo;return"all"!==p&&(p=p.split("+"),-1===p.indexOf("x")&&(e.xLabel=void 0),-1===p.indexOf("y")&&(e.yLabel=void 0),-1===p.indexOf("z")&&(e.zLabel=void 0),-1===p.indexOf("text")&&(e.text=void 0),-1===p.indexOf("name")&&(e.name=void 0)),e}function s(e,t){var n=t.hovermode,r=t.container,a=e[0],i=a.xa,o=a.ya,l=i.showspikes,s=o.showspikes;if(r.selectAll(".spikeline").remove(),"closest"===n&&(l||s)){var c=t.fullLayout,u=i._offset+(a.x0+a.x1)/2,f=o._offset+(a.y0+a.y1)/2,h=m.combine(c.plot_bgcolor,c.paper_bgcolor),p=d.readability(a.color,h)<1.5?m.contrast(h):a.color;if(s){var g=o.spikemode,v=o.spikethickness,x=o.spikecolor||p,b=o._boundingBox,_=(b.left+b.right)/2<u?b.right:b.left;if(-1!==g.indexOf("toaxis")||-1!==g.indexOf("across")){var w=_,k=u;-1!==g.indexOf("across")&&(w=o._counterSpan[0],k=o._counterSpan[1]),r.append("line").attr({x1:w,x2:k,y1:f,y2:f,"stroke-width":v+2,stroke:h}).classed("spikeline",!0).classed("crisp",!0),r.append("line").attr({x1:w,x2:k,y1:f,y2:f,"stroke-width":v,stroke:x,"stroke-dasharray":y.dashStyle(o.spikedash,v)}).classed("spikeline",!0).classed("crisp",!0)}-1!==g.indexOf("marker")&&r.append("circle").attr({cx:_+("right"!==o.side?v:-v),cy:f,r:v,fill:x}).classed("spikeline",!0)}if(l){var M=i.spikemode,A=i.spikethickness,T=i.spikecolor||p,S=i._boundingBox,L=(S.top+S.bottom)/2<f?S.bottom:S.top;if(-1!==M.indexOf("toaxis")||-1!==M.indexOf("across")){var C=L,O=f;-1!==M.indexOf("across")&&(C=i._counterSpan[0],O=i._counterSpan[1]),r.append("line").attr({x1:u,x2:u,y1:C,y2:O,"stroke-width":A+2,stroke:h}).classed("spikeline",!0).classed("crisp",!0),r.append("line").attr({x1:u,x2:u,y1:C,y2:O,"stroke-width":A,stroke:T,"stroke-dasharray":y.dashStyle(i.spikedash,A)}).classed("spikeline",!0).classed("crisp",!0)}-1!==M.indexOf("marker")&&r.append("circle").attr({cx:u,cy:L-("top"!==i.side?A:-A),r:A,fill:T}).classed("spikeline",!0)}}}function c(e,t,n){if(!n||n.length!==e._hoverdata.length)return!0;for(var r=n.length-1;r>=0;r--){var a=n[r],i=e._hoverdata[r];if(a.curveNumber!==i.curveNumber||String(a.pointNumber)!==String(i.pointNumber))return!0}return!1}var u=n(58),f=n(59),d=n(75),h=n(57),p=n(159),g=n(70),v=n(288),y=n(62),m=n(60),x=n(76),b=n(63),_=n(61),w=n(160),k=n(106),M=k.YANGLE,A=Math.PI*M/180,T=1/Math.sin(A),S=Math.cos(A),L=Math.sin(A),C=k.HOVERARROWSIZE,O=k.HOVERTEXTPAD;t.hover=function(e,t,n,a){e=h.getGraphDiv(e),h.throttle(e._fullLayout._uid+k.HOVERID,k.HOVERMINTIME,function(){r(e,t,n,a)})},t.loneHover=function(e,t){var n={color:e.color||m.defaultLine,x0:e.x0||e.x||0,x1:e.x1||e.x||0,y0:e.y0||e.y||0,y1:e.y1||e.y||0,xLabel:e.xLabel,yLabel:e.yLabel,zLabel:e.zLabel,text:e.text,name:e.name,idealAlign:e.idealAlign,borderColor:e.borderColor,fontFamily:e.fontFamily,fontSize:e.fontSize,fontColor:e.fontColor,trace:{index:0,hoverinfo:""},xa:{_offset:0},ya:{_offset:0},index:0},r=u.select(t.container),i=t.outerContainer?u.select(t.outerContainer):r,l={hovermode:"closest",rotateLabels:!1,bgColor:t.bgColor||m.background,container:r,outerContainer:i},s=a([n],l,t.gd);return o(s,l.rotateLabels),s.node()}},function(e,t,n){"use strict";var r=n(61);t.legendGetsTrace=function(e){return e.visible&&r.traceIs(e,"showLegend")},t.isGrouped=function(e){return-1!==(e.traceorder||"").indexOf("grouped")},t.isVertical=function(e){return"h"!==e.orientation},t.isReversed=function(e){return-1!==(e.traceorder||"").indexOf("reversed")}},function(e,t,n){"use strict";function r(e){var t=e._fullLayout;t._infolayer.selectAll(".annotation").remove();for(var n=0;n<t.annotations.length;n++)t.annotations[n].visible&&a(e,n);return s.previousPromises(e)}function a(e,t){var n=e._fullLayout,r=n.annotations[t]||{};i(e,r,t,!1,u.getFromId(e,r.xref),u.getFromId(e,r.yref))}function i(e,t,n,r,a,i){function s(n){return n.call(d.font,N).attr({"text-anchor":{left:"start",right:"end"}[t.align]||"middle"}),p.convertToTspans(n,e,u),n}function u(){function n(e,t){return"auto"===t&&(t=e<1/3?"left":e>2/3?"right":"center"),{center:0,middle:0,left:.5,bottom:-.5,right:-.5,top:.5}[t]}var o=R.selectAll("a");if(1===o.size()&&o.text()===R.text()){O.insert("a",":first-child").attr({"xlink:xlink:href":o.attr("xlink:href"),"xlink:xlink:show":o.attr("xlink:show")}).style({cursor:"pointer"}).node().appendChild(I.node())}var s=O.select(".annotation-text-math-group"),u=!s.empty(),h=d.bBox((u?s:R).node()),m=h.width,C=h.height,j=t.width||m,N=t.height||C,F=Math.round(j+2*D),B=Math.round(N+2*D);t._w=j,t._h=N;for(var q=!1,H=["x","y"],V=0;V<H.length;V++){var U,G,X,Y,Z,W=H[V],Q=t[W+"ref"]||W,$=t["a"+W+"ref"],J={x:a,y:i}[W],K=(A+("x"===W?0:-90))*Math.PI/180,ee=F*Math.cos(K),te=B*Math.sin(K),ne=Math.abs(ee)+Math.abs(te),re=t[W+"anchor"],ae=t[W+"shift"]*("x"===W?1:-1),ie=M[W];if(J){var oe=J.r2fraction(t[W]);if((e._dragging||!J.autorange)&&(oe<0||oe>1)&&($===Q?((oe=J.r2fraction(t["a"+W]))<0||oe>1)&&(q=!0):q=!0,q))continue;U=J._offset+J.r2p(t[W]),Y=.5}else"x"===W?(X=t[W],U=_.l+_.w*X):(X=1-t[W],U=_.t+_.h*X),Y=t.showarrow?.5:X;if(t.showarrow){ie.head=U;var le=t["a"+W];Z=ee*n(.5,t.xanchor)-te*n(.5,t.yanchor),$===Q?(ie.tail=J._offset+J.r2p(le),G=Z):(ie.tail=U+le,G=Z+le),ie.text=ie.tail+Z;var se=b["x"===W?"width":"height"];if("paper"===Q&&(ie.head=c.constrain(ie.head,1,se-1)),"pixel"===$){var ce=-Math.max(ie.tail-3,ie.text),ue=Math.min(ie.tail+3,ie.text)-se;ce>0?(ie.tail+=ce,ie.text+=ce):ue>0&&(ie.tail-=ue,ie.text-=ue)}ie.tail+=ae,ie.head+=ae}else Z=ne*n(Y,re),G=Z,ie.text=U+Z;ie.text+=ae,Z+=ae,G+=ae,t["_"+W+"padplus"]=ne/2+G,t["_"+W+"padminus"]=ne/2-G,t["_"+W+"size"]=ne,t["_"+W+"shift"]=Z}if(q)return void O.remove();var fe=0,de=0;if("left"!==t.align&&(fe=(j-m)*("center"===t.align?.5:1)),"top"!==t.valign&&(de=(N-C)*("middle"===t.valign?.5:1)),u)s.select("svg").attr({x:D+fe-1,y:D+de}).call(d.setClipUrl,P?k:null);else{var he=D+de-h.top,pe=D+fe-h.left;R.call(p.positionText,pe,he).call(d.setClipUrl,P?k:null)}E.select("rect").call(d.setRect,D,D,j,N),I.call(d.setRect,z/2,z/2,F-z,B-z),O.call(d.setTranslate,Math.round(M.x.text-F/2),Math.round(M.y.text-B/2)),S.attr({transform:"rotate("+A+","+M.x.text+","+M.y.text+")"});var ge=function(n,o){T.selectAll(".annotation-arrow-g").remove();var s=M.x.head,u=M.y.head,h=M.x.tail+n,p=M.y.tail+o,g=M.x.text+n,m=M.y.text+o,b=c.rotationXYMatrix(A,g,m),k=c.apply2DTransform(b),L=c.apply2DTransform2(b),C=+I.attr("width"),z=+I.attr("height"),j=g-.5*C,D=j+C,P=m-.5*z,E=P+z,N=[[j,P,j,E],[j,E,D,E],[D,E,D,P],[D,P,j,P]].map(L);if(!N.reduce(function(e,t){return e^!!c.segmentsIntersect(s,u,s+1e6,u+1e6,t[0],t[1],t[2],t[3])},!1)){N.forEach(function(e){var t=c.segmentsIntersect(h,p,s,u,e[0],e[1],e[2],e[3]);t&&(h=t.x,p=t.y)});var R=t.arrowwidth,F=t.arrowcolor,B=T.append("g").style({opacity:f.opacity(F)}).classed("annotation-arrow-g",!0),q=B.append("path").attr("d","M"+h+","+p+"L"+s+","+u).style("stroke-width",R+"px").call(f.stroke,f.rgb(F));if(y(q,"end",t),w.annotationPosition&&q.node().parentNode&&!r){var H=s,V=u;if(t.standoff){var U=Math.sqrt(Math.pow(s-h,2)+Math.pow(u-p,2));H+=t.standoff*(h-s)/U,V+=t.standoff*(p-u)/U}var G,X,Y,Z=B.append("path").classed("annotation-arrow",!0).classed("anndrag",!0).attr({d:"M3,3H-3V-3H3ZM0,0L"+(h-H)+","+(p-V),transform:"translate("+H+","+V+")"}).style("stroke-width",R+6+"px").call(f.stroke,"rgba(0,0,0,0)").call(f.fill,"rgba(0,0,0,0)");v.init({element:Z.node(),gd:e,prepFn:function(){var e=d.getTranslate(O);X=e.x,Y=e.y,G={},a&&a.autorange&&(G[a._name+".autorange"]=!0),i&&i.autorange&&(G[i._name+".autorange"]=!0)},moveFn:function(e,n){var r=k(X,Y),o=r[0]+e,l=r[1]+n;O.call(d.setTranslate,o,l),G[x+".x"]=a?a.p2r(a.r2p(t.x)+e):t.x+e/_.w,G[x+".y"]=i?i.p2r(i.r2p(t.y)+n):t.y-n/_.h,t.axref===t.xref&&(G[x+".ax"]=a.p2r(a.r2p(t.ax)+e)),t.ayref===t.yref&&(G[x+".ay"]=i.p2r(i.r2p(t.ay)+n)),B.attr("transform","translate("+e+","+n+")"),S.attr({transform:"rotate("+A+","+o+","+l+")"})},doneFn:function(t){if(t){l.relayout(e,G);var n=document.querySelector(".js-notes-box-panel");n&&n.redraw(n.selectedObj)}}})}}};if(t.showarrow&&ge(0,0),L){var ve,ye;v.init({element:O.node(),gd:e,prepFn:function(){ye=S.attr("transform"),ve={}},moveFn:function(e,n){var o="pointer";if(t.showarrow)t.axref===t.xref?ve[x+".ax"]=a.p2r(a.r2p(t.ax)+e):ve[x+".ax"]=t.ax+e,t.ayref===t.yref?ve[x+".ay"]=i.p2r(i.r2p(t.ay)+n):ve[x+".ay"]=t.ay+n,ge(e,n);else{if(r)return;if(a)ve[x+".x"]=t.x+e/a._m;else{var l=t._xsize/_.w,s=t.x+(t._xshift-t.xshift)/_.w-l/2;ve[x+".x"]=v.align(s+e/_.w,l,0,1,t.xanchor)}if(i)ve[x+".y"]=t.y+n/i._m;else{var c=t._ysize/_.h,u=t.y-(t._yshift+t.yshift)/_.h-c/2;ve[x+".y"]=v.align(u-n/_.h,c,0,1,t.yanchor)}a&&i||(o=v.getCursor(a?.5:ve[x+".x"],i?.5:ve[x+".y"],t.xanchor,t.yanchor))}S.attr({transform:"translate("+e+","+n+")"+ye}),g(O,o)},doneFn:function(t){if(g(O),t){l.relayout(e,ve);var n=document.querySelector(".js-notes-box-panel");n&&n.redraw(n.selectedObj)}}})}}var m,x,b=e._fullLayout,_=e._fullLayout._size,w=e._context.edits;r?(m="annotation-"+r,x=r+".annotations["+n+"]"):(m="annotation",x="annotations["+n+"]"),b._infolayer.selectAll("."+m+'[data-index="'+n+'"]').remove();var k="clip"+b._uid+"_ann"+n;if(!t._input||!1===t.visible)return void o.selectAll("#"+k).remove();var M={x:{},y:{}},A=+t.textangle||0,T=b._infolayer.append("g").classed(m,!0).attr("data-index",String(n)).style("opacity",t.opacity),S=T.append("g").classed("annotation-text-g",!0),L=w[t.showarrow?"annotationTail":"annotationPosition"],C=t.captureevents||w.annotationText||L,O=S.append("g").style("pointer-events",C?"all":null).call(g,"default").on("click",function(){e._dragging=!1;var a={index:n,annotation:t._input,fullAnnotation:t,event:o.event};r&&(a.subplotId=r),e.emit("plotly_clickannotation",a)});t.hovertext&&O.on("mouseover",function(){var n=t.hoverlabel,r=n.font,a=this.getBoundingClientRect(),i=e.getBoundingClientRect();h.loneHover({x0:a.left-i.left,x1:a.right-i.left,y:(a.top+a.bottom)/2-i.top,text:t.hovertext,color:n.bgcolor,borderColor:n.bordercolor,fontFamily:r.family,fontSize:r.size,fontColor:r.color},{container:b._hoverlayer.node(),outerContainer:b._paper.node(),gd:e})}).on("mouseout",function(){h.loneUnhover(b._hoverlayer.node())});var z=t.borderwidth,j=t.borderpad,D=z+j,I=O.append("rect").attr("class","bg").style("stroke-width",z+"px").call(f.stroke,t.bordercolor).call(f.fill,t.bgcolor),P=t.width||t.height,E=b._topclips.selectAll("#"+k).data(P?[0]:[]);E.enter().append("clipPath").classed("annclip",!0).attr("id",k).append("rect"),E.exit().remove();var N=t.font,R=O.append("text").classed("annotation-text",!0).text(t.text);w.annotationText?R.call(p.makeEditable,{delegate:O,gd:e}).call(s).on("edit",function(n){t.text=n,this.call(s);var r={};r[x+".text"]=t.text,a&&a.autorange&&(r[a._name+".autorange"]=!0),i&&i.autorange&&(r[i._name+".autorange"]=!0),l.relayout(e,r)}):R.call(s)}var o=n(58),l=n(64),s=n(65),c=n(57),u=n(63),f=n(60),d=n(62),h=n(105),p=n(70),g=n(92),v=n(76),y=n(335);e.exports={draw:r,drawOne:a,drawRaw:i}},function(e,t,n){"use strict";var r=n(122),a=n(84).overrideAll;e.exports=a({_isLinkedToArray:"annotation",visible:r.visible,x:{valType:"any",role:"info",description:["Sets the annotation's x position."].join(" ")},y:{valType:"any",role:"info",description:["Sets the annotation's y position."].join(" ")},z:{valType:"any",role:"info",description:["Sets the annotation's z position."].join(" ")},ax:{valType:"number",role:"info",description:["Sets the x component of the arrow tail about the arrow head (in pixels)."].join(" ")},ay:{valType:"number",role:"info",description:["Sets the y component of the arrow tail about the arrow head (in pixels)."].join(" ")},xanchor:r.xanchor,xshift:r.xshift,yanchor:r.yanchor,yshift:r.yshift,text:r.text,textangle:r.textangle,font:r.font,width:r.width,height:r.height,opacity:r.opacity,align:r.align,valign:r.valign,bgcolor:r.bgcolor,bordercolor:r.bordercolor,borderpad:r.borderpad,borderwidth:r.borderwidth,showarrow:r.showarrow,arrowcolor:r.arrowcolor,arrowhead:r.arrowhead,arrowsize:r.arrowsize,arrowwidth:r.arrowwidth,standoff:r.standoff,hovertext:r.hovertext,hoverlabel:r.hoverlabel,captureevents:r.captureevents},"calc","from-root")},function(e,t,n){"use strict";t.rangeToShapePosition=function(e){return"log"===e.type?e.r2d:function(e){return e}},t.shapePositionToRange=function(e){return"log"===e.type?e.d2r:function(e){return e}},t.decodeDate=function(e){return function(t){return t.replace&&(t=t.replace("_"," ")),e(t)}},t.encodeDate=function(e){return function(t){return e(t).replace(" ","_")}},t.getDataToPixel=function(e,n,r){var a,i=e._fullLayout._size;if(n){var o=t.shapePositionToRange(n);a=function(e){return n._offset+n.r2p(o(e,!0))},"date"===n.type&&(a=t.decodeDate(a))}else a=r?function(e){return i.t+i.h*(1-e)}:function(e){return i.l+i.w*e};return a},t.getPixelToData=function(e,n,r){var a,i=e._fullLayout._size;if(n){var o=t.rangeToShapePosition(n);a=function(e){return o(n.p2r(e-n._offset))}}else a=r?function(e){return 1-(e-i.t)/i.h}:function(e){return(e-i.l)/i.w};return a}},function(e,t,n){"use strict";e.exports={name:"updatemenus",containerClassName:"updatemenu-container",headerGroupClassName:"updatemenu-header-group",headerClassName:"updatemenu-header",headerArrowClassName:"updatemenu-header-arrow",dropdownButtonGroupClassName:"updatemenu-dropdown-button-group",dropdownButtonClassName:"updatemenu-dropdown-button",buttonClassName:"updatemenu-button",itemRectClassName:"updatemenu-item-rect",itemTextClassName:"updatemenu-item-text",menuIndexAttrName:"updatemenu-active-index",autoMarginIdRoot:"updatemenu-",blankHeaderOpts:{label:"  "},minWidth:30,minHeight:30,textPadX:24,arrowPadX:16,rx:2,ry:2,textOffsetX:12,textOffsetY:3,arrowOffsetX:4,gapButtonHeader:5,gapButton:2,activeColor:"#F4FAFF",hoverColor:"#F4FAFF",arrowSymbol:{left:"◄",right:"►",up:"▲",down:"▼"}}},function(e,t,n){"use strict";var r=n(79);e.exports={bgcolor:{valType:"color",dflt:r.background,role:"style",editType:"calc",description:"Sets the background color of the range slider."},bordercolor:{valType:"color",dflt:r.defaultLine,role:"style",editType:"calc",description:"Sets the border color of the range slider."},borderwidth:{valType:"integer",dflt:0,min:0,role:"style",editType:"calc",description:"Sets the border color of the range slider."},autorange:{valType:"boolean",dflt:!0,role:"style",editType:"calc",description:["Determines whether or not the range slider range is","computed in relation to the input data.","If `range` is provided, then `autorange` is set to *false*."].join(" ")},range:{valType:"info_array",role:"info",items:[{valType:"any",editType:"calc"},{valType:"any",editType:"calc"}],editType:"calc",description:["Sets the range of the range slider.","If not set, defaults to the full xaxis range.","If the axis `type` is *log*, then you must take the","log of your desired range.","If the axis `type` is *date*, it should be date strings,","like date data, though Date objects and unix milliseconds","will be accepted and converted to strings.","If the axis `type` is *category*, it should be numbers,","using the scale where each category is assigned a serial","number from zero in the order it appears."].join(" ")},thickness:{valType:"number",dflt:.15,min:0,max:1,role:"style",editType:"calc",description:["The height of the range slider as a fraction of the","total plot area height."].join(" ")},visible:{valType:"boolean",dflt:!0,role:"info",editType:"calc",description:["Determines whether or not the range slider will be visible.","If visible, perpendicular axes will be set to `fixedrange`"].join(" ")},editType:"calc"}},function(e,t,n){"use strict";var r=n(68),a=n(79),i=n(67).extendFlat,o=n(216);o=i(o,{_isLinkedToArray:"button",description:["Sets the specifications for each buttons.","By default, a range selector comes with no buttons."].join(" ")}),e.exports={visible:{valType:"boolean",role:"info",editType:"plot",description:["Determines whether or not this range selector is visible.","Note that range selectors are only available for x axes of","`type` set to or auto-typed to *date*."].join(" ")},buttons:o,x:{valType:"number",min:-2,max:3,role:"style",editType:"plot",description:"Sets the x position (in normalized coordinates) of the range selector."},xanchor:{valType:"enumerated",values:["auto","left","center","right"],dflt:"left",role:"info",editType:"plot",description:["Sets the range selector's horizontal position anchor.","This anchor binds the `x` position to the *left*, *center*","or *right* of the range selector."].join(" ")},y:{valType:"number",min:-2,max:3,role:"style",editType:"plot",description:"Sets the y position (in normalized coordinates) of the range selector."},yanchor:{valType:"enumerated",values:["auto","top","middle","bottom"],dflt:"bottom",role:"info",editType:"plot",description:["Sets the range selector's vertical position anchor","This anchor binds the `y` position to the *top*, *middle*","or *bottom* of the range selector."].join(" ")},font:r({editType:"plot",description:"Sets the font of the range selector button text."}),bgcolor:{valType:"color",dflt:a.lightLine,role:"style",editType:"plot",description:"Sets the background color of the range selector buttons."},activecolor:{valType:"color",role:"style",editType:"plot",description:"Sets the background color of the active range selector button."},bordercolor:{valType:"color",dflt:a.defaultLine,role:"style",editType:"plot",description:"Sets the color of the border enclosing the range selector."},borderwidth:{valType:"number",min:0,dflt:0,role:"style",editType:"plot",description:"Sets the width (in px) of the border enclosing the range selector."},editType:"plot"}},,function(e,t){function n(e){var t=!1;if(null!=e&&"function"!=typeof e.toString)try{t=!!(e+"")}catch(e){}return t}function r(e){return!!e&&"object"==typeof e}function a(e){if(!r(e)||f.call(e)!=i||n(e))return!1;var t=d(e);if(null===t)return!0;var a=c.call(t,"constructor")&&t.constructor;return"function"==typeof a&&a instanceof a&&s.call(a)==u}var i="[object Object]",o=Function.prototype,l=Object.prototype,s=o.toString,c=l.hasOwnProperty,u=s.call(Object),f=l.toString,d=function(e,t){return function(n){return e(t(n))}}(Object.getPrototypeOf,Object);e.exports=a},function(e,t,n){"use strict";e.exports=n(237)},function(e,t,n){"use strict";e.exports=function(e,t){if(t instanceof RegExp){var n,r=t.toString();for(n=0;n<e.length;n++)if(e[n]instanceof RegExp&&e[n].toString()===r)return e;e.push(t)}else t&&-1===e.indexOf(t)&&e.push(t);return e}},function(e,t,n){"use strict";var r=n(61);e.exports=function(e){for(var t,n,a=r.layoutArrayContainers,i=r.layoutArrayRegexes,o=e.split("[")[0],l=0;l<i.length;l++)if((n=e.match(i[l]))&&0===n.index){t=n[0];break}if(t||(t=a[a.indexOf(o)]),!t)return!1;var s=e.substr(t.length);return s?!!(n=s.match(/^\[(0|[1-9][0-9]*)\](\.(.+))?$/))&&{array:t,index:Number(n[1]),property:n[3]||""}:{array:t,index:"",property:""}}},function(e,t,n){"use strict";var r=n(83),a=n(176),i=n(177);e.exports=function(e,t){function n(){try{e=r[e]||JSON.parse(e)}catch(n){e=t}}return t||(t=a),e?("string"==typeof e&&(n(),"string"==typeof e&&n()),i(e)?e:t):t}},function(e,t,n){"use strict";var r=n(83);e.exports=r.RdBu},function(e,t,n){"use strict";var r=n(75);e.exports=function(e){var t=0;if(!Array.isArray(e)||e.length<2)return!1;if(!e[0]||!e[e.length-1])return!1;if(0!=+e[0][0]||1!=+e[e.length-1][0])return!1;for(var n=0;n<e.length;n++){var a=e[n];if(2!==a.length||+a[0]<t||!r(a[1]).isValid())return!1;t=+a[0]}return!0}},function(e,t,n){"use strict";t.counter=function(e,t,n){return new RegExp("^"+e+"([2-9]|[1-9][0-9]+)?"+(t||"")+(n?"":"$"))}},function(e,t,n){"use strict";function r(e,t){return e<t}function a(e,t){return e<=t}function i(e,t){return e>t}function o(e,t){return e>=t}var l=n(59),s=n(100);t.findBin=function(e,t,n){if(l(t.start))return n?Math.ceil((e-t.start)/t.size)-1:Math.floor((e-t.start)/t.size);var c,u,f=0,d=t.length,h=0;for(u=t[t.length-1]>=t[0]?n?r:a:n?o:i;f<d&&h++<100;)c=Math.floor((f+d)/2),u(t[c],e)?f=c+1:d=c;return h>90&&s.log("Long binary search..."),f-1},t.sorterAsc=function(e,t){return e-t},t.sorterDes=function(e,t){return t-e},t.distinctVals=function(e){var n=e.slice();n.sort(t.sorterAsc);for(var r=n.length-1,a=n[r]-n[0]||1,i=a/(r||1)/1e4,o=[n[0]],l=0;l<r;l++)n[l+1]>n[l]+i&&(a=Math.min(a,n[l+1]-n[l]),o.push(n[l+1]));return{vals:o,minDiff:a}},t.roundUp=function(e,t,n){for(var r,a=0,i=t.length-1,o=0,l=n?0:1,s=n?1:0,c=n?Math.ceil:Math.floor;a<i&&o++<100;)r=c((a+i)/2),t[r]<=e?a=r+l:i=r-s;return t[a]}},function(e,t,n){"use strict";t.init2dArray=function(e,t){for(var n=new Array(e),r=0;r<e;r++)n[r]=new Array(t);return n},t.transposeRagged=function(e){var t,n,r=0,a=e.length;for(t=0;t<a;t++)r=Math.max(r,e[t].length);var i=new Array(r);for(t=0;t<r;t++)for(i[t]=new Array(a),n=0;n<a;n++)i[t][n]=e[n][t];return i},t.dot=function(e,n){if(!e.length||!n.length||e.length!==n.length)return null;var r,a,i=e.length;if(e[0].length)for(r=new Array(i),a=0;a<i;a++)r[a]=t.dot(e[a],n);else if(n[0].length){var o=t.transposeRagged(n);for(r=new Array(o.length),a=0;a<o.length;a++)r[a]=t.dot(e,o[a])}else for(r=0,a=0;a<i;a++)r+=e[a]*n[a];return r},t.translationMatrix=function(e,t){return[[1,0,e],[0,1,t],[0,0,1]]},t.rotationMatrix=function(e){var t=e*Math.PI/180;return[[Math.cos(t),-Math.sin(t),0],[Math.sin(t),Math.cos(t),0],[0,0,1]]},t.rotationXYMatrix=function(e,n,r){return t.dot(t.dot(t.translationMatrix(n,r),t.rotationMatrix(e)),t.translationMatrix(-n,-r))},t.apply2DTransform=function(e){return function(){var n=arguments;3===n.length&&(n=n[0]);var r=1===arguments.length?n[0]:[n[0],n[1]];return t.dot(e,[r[0],r[1],1]).slice(0,2)}},t.apply2DTransform2=function(e){var n=t.apply2DTransform(e);return function(e){return n(e.slice(0,2)).concat(n(e.slice(2,4)))}}},function(e,t,n){"use strict";e.exports=function(e){var t;if("string"==typeof e){if(null===(t=document.getElementById(e)))throw new Error("No DOM element with id '"+e+"' exists on the page.");return t}if(null===e||void 0===e)throw new Error("DOM element provided is null or undefined");return e}},function(e,t,n){"use strict";e.exports={_isLinkedToArray:"frames_entry",group:{valType:"string",role:"info",description:["An identifier that specifies the group to which the frame belongs,","used by animate to select a subset of frames."].join(" ")},name:{valType:"string",role:"info",description:"A label by which to identify the frame"},traces:{valType:"any",role:"info",description:["A list of trace indices that identify the respective traces in the","data attribute"].join(" ")},baseframe:{valType:"string",role:"info",description:["The name of the frame into which this frame's properties are merged","before applying. This is used to unify properties and avoid needing","to specify the same values for the same properties in multiple frames."].join(" ")},data:{valType:"any",role:"object",description:["A list of traces this frame modifies. The format is identical to the","normal trace definition."].join(" ")},layout:{valType:"any",role:"object",description:["Layout properties which this frame modifies. The format is identical","to the normal layout definition."].join(" ")}}},function(e,t,n){"use strict";e.exports={zauto:{valType:"boolean",role:"info",dflt:!0,editType:"calc",impliedEdits:{zmin:void 0,zmax:void 0},description:["Determines the whether or not the color domain is computed","with respect to the input data."].join(" ")},zmin:{valType:"number",role:"info",dflt:null,editType:"plot",impliedEdits:{zauto:!1},description:"Sets the lower bound of color domain."},zmax:{valType:"number",role:"info",dflt:null,editType:"plot",impliedEdits:{zauto:!1},description:"Sets the upper bound of color domain."},colorscale:{valType:"colorscale",role:"style",editType:"calc",impliedEdits:{autocolorscale:!1},description:["Sets the colorscale.","The colorscale must be an array containing","arrays mapping a normalized value to an","rgb, rgba, hex, hsl, hsv, or named color string.","At minimum, a mapping for the lowest (0) and highest (1)","values are required. For example,","`[[0, 'rgb(0,0,255)', [1, 'rgb(255,0,0)']]`.","To control the bounds of the colorscale in z space,","use zmin and zmax"].join(" ")},autocolorscale:{valType:"boolean",role:"style",dflt:!0,editType:"calc",impliedEdits:{colorscale:void 0},description:["Determines whether or not the colorscale is picked using the sign of","the input z values."].join(" ")},reversescale:{valType:"boolean",role:"style",dflt:!1,editType:"calc",description:"Reverses the colorscale."},showscale:{valType:"boolean",role:"info",dflt:!0,editType:"calc",description:["Determines whether or not a colorbar is displayed for this trace."].join(" ")}}},function(e,t,n){"use strict";t.scales=n(83),t.defaultScale=n(176),t.attributes=n(183),t.handleDefaults=n(148),t.calc=n(188),t.hasColorscale=n(119),t.isValidScale=n(149),t.getScale=n(175),t.flipScale=n(150),t.extractScale=n(255),t.makeColorScaleFunc=n(256)},function(e,t,n){"use strict";var r=n(59),a=n(57),i=n(69).ONEDAY;e.exports=function(e,t,n,o){var l="auto";"array"!==e.tickmode||"log"!==o&&"date"!==o||(e.tickmode="auto"),Array.isArray(e.tickvals)?l="array":e.dtick&&(l="linear");var s=n("tickmode",l);if("auto"===s)n("nticks");else if("linear"===s){var c="date"===o?i:1,u=n("dtick",c);if(r(u))t.dtick=u>0?Number(u):c;else if("string"!=typeof u)t.dtick=c;else{var f=u.charAt(0),d=u.substr(1);d=r(d)?Number(d):0,(d<=0||!("date"===o&&"M"===f&&d===Math.round(d)||"log"===o&&"L"===f||"log"===o&&"D"===f&&(1===d||2===d)))&&(t.dtick=c)}var h="date"===o?a.dateTick0(t.calendar):0,p=n("tick0",h);"date"===o?t.tick0=a.cleanDate(p,h):r(p)&&"D1"!==u&&"D2"!==u?t.tick0=Number(p):t.tick0=h}else{var g=n("tickvals");void 0===g?t.tickmode="auto":n("ticktext")}}},function(e,t,n){"use strict";var r=n(57),a=n(80);e.exports=function(e,t,n,i){var o=r.coerce2(e,t,a,"ticklen"),l=r.coerce2(e,t,a,"tickwidth"),s=r.coerce2(e,t,a,"tickcolor",t.color);n("ticks",i.outerTicks||o||l||s?"outside":"")||(delete t.ticklen,delete t.tickwidth,delete t.tickcolor)}},function(e,t,n){"use strict";function r(e){var t=["showexponent","showtickprefix","showticksuffix"],n=t.filter(function(t){return void 0!==e[t]}),r=function(t){return e[t]===e[n[0]]};if(n.every(r)||1===n.length)return e[n[0]]}var a=n(57);e.exports=function(e,t,n,i,o){var l=r(e);if(n("tickprefix")&&n("showtickprefix",l),n("ticksuffix")&&n("showticksuffix",l),n("showticklabels")){var s=o.font||{},c=t.color===e.color?t.color:s.color;a.coerceFont(n,"tickfont",{family:s.family,size:s.size,color:c}),n("tickangle"),"category"!==i&&(n("tickformat")||"date"===i||(n("showexponent",l),n("exponentformat"),n("separatethousands")))}"category"===i||o.noHover||n("hoverformat")}},function(e,t,n){"use strict";var r=n(57),a=n(83),i=n(150);e.exports=function(e,t,n,o){var l,s;n?(l=r.nestedProperty(e,n).get(),s=r.nestedProperty(e._input,n).get()):(l=e,s=e._input);var c=o+"auto",u=o+"min",f=o+"max",d=l[c],h=l[u],p=l[f],g=l.colorscale;!1===d&&void 0!==h||(h=r.aggNums(Math.min,null,t)),!1===d&&void 0!==p||(p=r.aggNums(Math.max,null,t)),h===p&&(h-=.5,p+=.5),l[u]=h,l[f]=p,s[u]=h,s[f]=p,s[c]=!1!==d||void 0===h&&void 0===p,l.autocolorscale&&(g=h*p<0?a.RdBu:h>=0?a.Reds:a.Blues,s.colorscale=g,l.reversescale&&(g=i(g)),l.colorscale=g)}},function(e,t,n){"use strict";var r=n(59),a=n(61),i=n(57),o=n(145);e.exports=function(e,t,n,l){function s(e,t){return i.coerce(f,u,o,e,t)}var c="error_"+l.axis,u=t[c]={},f=e[c]||{};if(!1!==s("visible",void 0!==f.array||void 0!==f.value||"sqrt"===f.type)){var d=s("type","array"in f?"data":"percent"),h=!0;"sqrt"!==d&&(h=s("symmetric",!(("data"===d?"arrayminus":"valueminus")in f))),"data"===d?(s("array")||(u.array=[]),s("traceref"),h||(s("arrayminus")||(u.arrayminus=[]),s("tracerefminus"))):"percent"!==d&&"constant"!==d||(s("value"),h||s("valueminus"));var p="copy_"+l.inherit+"style";l.inherit&&(t["error_"+l.inherit]||{}).visible&&s(p,!(f.color||r(f.thickness)||r(f.width))),l.inherit&&u[p]||(s("color",n),s("thickness"),s("width",a.traceIs(t,"gl3d")?0:4))}}},function(e,t,n){"use strict";function r(e){if(!e)return!1;for(var t=0;t<e.length;t++)if(o(e[t]))return!0;return!1}function a(e,t){for(var n,r=0,a=0,i=Math.max(1,(e.length-1)/1e3),s=0;s<e.length;s+=i)n=e[Math.round(s)],l.isDateTime(n,t)&&(r+=1),o(n)&&(a+=1);return r>2*a}function i(e){for(var t,n=Math.max(1,(e.length-1)/1e3),r=0,a=0,i=0;i<e.length;i+=n)t=e[Math.round(i)],l.cleanNumber(t)!==s?r++:"string"==typeof t&&""!==t&&"None"!==t&&a++;return a>2*r}var o=n(59),l=n(57),s=n(69).BADNUM;e.exports=function(e,t){return a(e,t)?"date":i(e)?"category":r(e)?"linear":"-"}},function(e,t,n){"use strict";var r=n(75).mix,a=n(61),i=n(57),o=n(79).lightFraction,l=n(80),s=n(185),c=n(186),u=n(187),f=n(264),d=n(192),h=n(265);e.exports=function(e,t,n,p,g){function v(n,r){return i.coerce2(e,t,l,n,r)}var y=p.letter,m=p.font||{},x="Click to enter "+(p.title||y.toUpperCase()+" axis")+" title",b=n("visible",!p.cheateronly),_=t.type;if("date"===_){a.getComponentMethod("calendars","handleDefaults")(e,t,"calendar",p.calendar)}if(d(t,g),n("autorange",!t.isValidRange(e.range))&&n("rangemode"),n("range"),t.cleanRange(),f(e,t,n),t._initialCategories="category"===_?h(y,t.categoryorder,t.categoryarray,p.data):[],!b)return t;var w=n("color"),k=w===e.color?w:m.color;n("title",x),i.coerceFont(n,"titlefont",{family:m.family,size:Math.round(1.2*m.size),color:k}),s(e,t,n,_),u(e,t,n,_,p),c(e,t,n,p);var M=v("linecolor",w),A=v("linewidth"),T=n("showline",!!M||!!A);T||(delete t.linecolor,delete t.linewidth),(T||t.ticks)&&n("mirror");var S=v("gridcolor",r(w,p.bgColor,o).toRgbString()),L=v("gridwidth");n("showgrid",p.showGrid||!!S||!!L)||(delete t.gridcolor,delete t.gridwidth);var C=v("zerolinecolor",w),O=v("zerolinewidth");return n("zeroline",p.showGrid||!!C||!!O)||(delete t.zerolinecolor,delete t.zerolinewidth),t}},function(e,t,n){"use strict";function r(e){return Math.pow(10,e)}var a=n(58),i=n(59),o=n(57),l=o.cleanNumber,s=o.ms2DateTime,c=o.dateTime2ms,u=o.ensureNumber,f=n(69),d=f.FP_SAFE,h=f.BADNUM,p=n(66),g=n(73);e.exports=function(e,t){function n(t,n){if(t>0)return Math.log(t)/Math.LN10;if(t<=0&&n&&e.range&&2===e.range.length){var r=e.range[0],a=e.range[1];return.5*(r+a-3*k*Math.abs(r-a))}return h}function f(t,n,r){var a=c(t,r||e.calendar);if(a===h){if(!i(t))return h;a=c(new Date(+t))}return a}function v(t,n,r){return s(t,n,r||e.calendar)}function y(t){return e._categories[Math.round(t)]}function m(t){if(null!==t&&void 0!==t){if(void 0===e._categoriesMap&&(e._categoriesMap={}),void 0!==e._categoriesMap[t])return e._categoriesMap[t];e._categories.push(t);var n=e._categories.length-1;return e._categoriesMap[t]=n,n}return h}function x(t){if(e._categoriesMap){var n=e._categoriesMap[t];if(void 0!==n)return n}if(i(t))return+t}function b(t){return i(t)?a.round(e._b+e._m*t,2):h}function _(t){return(t-e._b)/e._m}t=t||{};var w=(e._id||"x").charAt(0),k=10;e.c2l="log"===e.type?n:u,e.l2c="log"===e.type?r:u,e.l2p=b,e.p2l=_,e.c2p="log"===e.type?function(e,t){return b(n(e,t))}:b,e.p2c="log"===e.type?function(e){return r(_(e))}:_,-1!==["linear","-"].indexOf(e.type)?(e.d2r=e.r2d=e.d2c=e.r2c=e.d2l=e.r2l=l,e.c2d=e.c2r=e.l2d=e.l2r=u,e.d2p=e.r2p=function(t){return e.l2p(l(t))},e.p2d=e.p2r=_,e.cleanPos=u):"log"===e.type?(e.d2r=e.d2l=function(e,t){return n(l(e),t)},e.r2d=e.r2c=function(e){return r(l(e))},e.d2c=e.r2l=l,e.c2d=e.l2r=u,e.c2r=n,e.l2d=r,e.d2p=function(t,n){return e.l2p(e.d2r(t,n))},e.p2d=function(e){return r(_(e))},e.r2p=function(t){return e.l2p(l(t))},e.p2r=_,e.cleanPos=u):"date"===e.type?(e.d2r=e.r2d=o.identity,e.d2c=e.r2c=e.d2l=e.r2l=f,e.c2d=e.c2r=e.l2d=e.l2r=v,e.d2p=e.r2p=function(t,n,r){return e.l2p(f(t,0,r))},e.p2d=e.p2r=function(e,t,n){return v(_(e),t,n)},e.cleanPos=function(t){return o.cleanDate(t,h,e.calendar)}):"category"===e.type&&(e.d2c=e.d2l=m,e.r2d=e.c2d=e.l2d=y,e.d2r=e.d2l_noadd=x,e.r2c=function(t){var n=x(t);return void 0!==n?n:e.fraction2r(.5)},e.l2r=e.c2r=u,e.r2l=x,e.d2p=function(t){return e.l2p(e.r2c(t))},e.p2d=function(e){return y(_(e))},e.r2p=e.d2p,e.p2r=_,e.cleanPos=function(e){return"string"==typeof e&&""!==e?e:u(e)}),e.fraction2r=function(t){var n=e.r2l(e.range[0]),r=e.r2l(e.range[1]);return e.l2r(n+t*(r-n))},e.r2fraction=function(t){var n=e.r2l(e.range[0]),r=e.r2l(e.range[1]);return(e.r2l(t)-n)/(r-n)},e.cleanRange=function(t){t||(t="range");var n,r,a=o.nestedProperty(e,t).get();if(r="date"===e.type?o.dfltRange(e.calendar):"y"===w?p.DFLTRANGEY:p.DFLTRANGEX,r=r.slice(),!a||2!==a.length)return void o.nestedProperty(e,t).set(r);for("date"===e.type&&(a[0]=o.cleanDate(a[0],h,e.calendar),a[1]=o.cleanDate(a[1],h,e.calendar)),n=0;n<2;n++)if("date"===e.type){if(!o.isDateTime(a[n],e.calendar)){e[t]=r;break}if(e.r2l(a[0])===e.r2l(a[1])){var l=o.constrain(e.r2l(a[0]),o.MIN_MS+1e3,o.MAX_MS-1e3);a[0]=e.l2r(l-1e3),a[1]=e.l2r(l+1e3);break}}else{if(!i(a[n])){if(!i(a[1-n])){e[t]=r;break}a[n]=a[1-n]*(n?10:.1)}if(a[n]<-d?a[n]=-d:a[n]>d&&(a[n]=d),a[0]===a[1]){var s=Math.max(1,Math.abs(1e-6*a[0]));a[0]-=s,a[1]+=s}}},e.setScale=function(n){var r=t._size;if(e._categories||(e._categories=[]),e._categoriesMap||(e._categoriesMap={}),e.overlaying){var a=g.getFromId({_fullLayout:t},e.overlaying);e.domain=a.domain}var i=n&&e._r?"_r":"range",l=e.calendar;e.cleanRange(i);var s=e.r2l(e[i][0],l),c=e.r2l(e[i][1],l);if("y"===w?(e._offset=r.t+(1-e.domain[1])*r.h,e._length=r.h*(e.domain[1]-e.domain[0]),e._m=e._length/(s-c),e._b=-e._m*c):(e._offset=r.l+e.domain[0]*r.w,e._length=r.w*(e.domain[1]-e.domain[0]),e._m=e._length/(c-s),e._b=-e._m*s),!isFinite(e._m)||!isFinite(e._b))throw o.notifier("Something went wrong with axis scaling","long"),t._replotting=!1,new Error("axis scaling")},e.makeCalcdata=function(t,n){var r,a,i,o="date"===e.type&&t[n+"calendar"];if(n in t)for(r=t[n],a=new Array(r.length),i=0;i<r.length;i++)a[i]=e.d2c(r[i],0,o);else{var l=n+"0"in t?e.d2c(t[n+"0"],0,o):0,s=t["d"+n]?Number(t["d"+n]):1;for(r=t[{x:"y",y:"x"}[n]],a=new Array(r.length),i=0;i<r.length;i++)a[i]=l+i*s}return a},e.isValidRange=function(t){return Array.isArray(t)&&2===t.length&&i(e.r2l(t[0]))&&i(e.r2l(t[1]))},e.isPtWithinRange="x"===w?function(t){var n=t.x;return n>=e.range[0]&&n<=e.range[1]}:function(t){var n=t.y;return n>=e.range[0]&&n<=e.range[1]},e._min=[],e._max=[],e._separators=t.separators,delete e._minDtick,delete e._forceTick0}},function(e,t,n){"use strict";var r=n(59),a=n(57);e.exports=function(e,t,n,i){var o=i.counterAxes||[],l=i.overlayableAxes||[],s=i.letter;"free"===a.coerce(e,t,{anchor:{valType:"enumerated",values:["free"].concat(o),dflt:r(e.position)?"free":o[0]||"free"}},"anchor")&&n("position"),a.coerce(e,t,{side:{valType:"enumerated",values:"x"===s?["bottom","top"]:["left","right"],dflt:"x"===s?"bottom":"left"}},"side");var c=!1;if(l.length&&(c=a.coerce(e,t,{overlaying:{valType:"enumerated",values:[!1].concat(l),dflt:!1}},"overlaying")),!c){var u=n("domain");u[0]>u[1]-.01&&(t.domain=[0,1]),a.noneOrAll(e.domain,t.domain,[0,1])}return n("layer"),t}},function(e,t,n){"use strict";t.manage=n(271)},function(e,t,n){"use strict";function r(e,t){function n(e){return!(e in t)||i.validate(t[e],c[e])}function r(e,n){return i.coerce(t,y,c,e,n)}function f(){return new Promise(function(e){setTimeout(e,o.getDelay(M._fullLayout))})}function d(){return new Promise(function(e,t){var n=l(M,m,_),r=M._fullLayout.width,o=M._fullLayout.height;if(a.purge(M),document.body.removeChild(M),"svg"===m)return e(k?n:"data:image/svg+xml,"+encodeURIComponent(n));var c=document.createElement("canvas");c.id=i.randstr(),s({format:m,width:r,height:o,scale:_,canvas:c,svg:n,promise:!0}).then(e).catch(t)})}function h(e){return k?e.replace(u,""):e}t=t||{};var p,g,v;if(i.isPlainObject(e)?(p=e.data||[],g=e.layout||{},v=e.config||{}):(e=i.getGraphDiv(e),p=i.extendDeep([],e.data),g=i.extendDeep({},e.layout),v=e._context),!n("width")||!n("height"))throw new Error("Height and width should be pixel values.");if(!n("format"))throw new Error("Image format is not jpeg, png, svg or webp.");var y={},m=r("format"),x=r("width"),b=r("height"),_=r("scale"),w=r("setBackground"),k=r("imageDataOnly"),M=document.createElement("div");M.style.position="absolute",M.style.left="-5000px",document.body.appendChild(M);var A=i.extendFlat({},g);x&&(A.width=x),b&&(A.height=b);var T=i.extendFlat({},v,{staticPlot:!0,setBackground:w}),S=o.getRedrawFunc(M);return new Promise(function(e,t){a.plot(M,p,A,T).then(S).then(f).then(d).then(function(t){e(h(t))}).catch(function(e){t(e)})})}var a=n(64),i=n(57),o=n(155),l=n(156),s=n(157),c={format:{valType:"enumerated",values:["png","jpeg","webp","svg"],dflt:"png",description:"Sets the format of exported image."},width:{valType:"number",min:1,description:["Sets the exported image width.","Defaults to the value found in `layout.width`"].join(" ")},height:{valType:"number",min:1,description:["Sets the exported image height.","Defaults to the value found in `layout.height`"].join(" ")},scale:{valType:"number",min:0,dflt:1,description:["Sets a scaling for the generated image.","If set, all features of a graphs (e.g. text, line width)","are scaled, unlike simply setting","a bigger *width* and *height*."].join(" ")},setBackground:{valType:"any",dflt:!1,description:["Sets the image background mode.","By default, the image background is determined by `layout.paper_bgcolor`,","the *transparent* mode.","One might consider setting `setBackground` to *opaque*","when exporting a *jpeg* image as JPEGs do not support opacity."].join(" ")},imageDataOnly:{valType:"boolean",dflt:!1,description:["Determines whether or not the return value is prefixed by","the image format's corresponding 'data:image;' spec."].join(" ")}},u=/^data:image\/\w+;base64,/;e.exports=r},function(e,t,n){"use strict";(function(t){var r,a=n(276);r="function"==typeof t.matchMedia?!t.matchMedia("(hover: none)").matches:a,e.exports=r}).call(t,n(10))},function(e,t,n){"use strict";function r(e,t){for(var n,r=[],i=0;i<t.length;i++)n=t[i],r[i]=n===e?n:"object"==typeof n?Array.isArray(n)?a.extendDeep([],n):a.extendDeepAll({},n):n;return r}var a=n(57),i=n(137),o={};o.add=function(e,t,n,r,a){var o,l;if(e.undoQueue=e.undoQueue||{index:0,queue:[],sequence:!1},l=e.undoQueue.index,e.autoplay)return void(e.undoQueue.inSequence||(e.autoplay=!1));!e.undoQueue.sequence||e.undoQueue.beginSequence?(o={undo:{calls:[],args:[]},redo:{calls:[],args:[]}},e.undoQueue.queue.splice(l,e.undoQueue.queue.length-l,o),e.undoQueue.index+=1):o=e.undoQueue.queue[l-1],e.undoQueue.beginSequence=!1,o&&(o.undo.calls.unshift(t),o.undo.args.unshift(n),o.redo.calls.push(r),o.redo.args.push(a)),e.undoQueue.queue.length>i.queueLength&&(e.undoQueue.queue.shift(),e.undoQueue.index--)},o.startSequence=function(e){e.undoQueue=e.undoQueue||{index:0,queue:[],sequence:!1},e.undoQueue.sequence=!0,e.undoQueue.beginSequence=!0},o.stopSequence=function(e){e.undoQueue=e.undoQueue||{index:0,queue:[],sequence:!1},e.undoQueue.sequence=!1,e.undoQueue.beginSequence=!1},o.undo=function(e){var t,n;if(e.framework&&e.framework.isPolar)return void e.framework.undo();if(!(void 0===e.undoQueue||isNaN(e.undoQueue.index)||e.undoQueue.index<=0)){for(e.undoQueue.index--,t=e.undoQueue.queue[e.undoQueue.index],e.undoQueue.inSequence=!0,n=0;n<t.undo.calls.length;n++)o.plotDo(e,t.undo.calls[n],t.undo.args[n]);e.undoQueue.inSequence=!1,e.autoplay=!1}},o.redo=function(e){var t,n;if(e.framework&&e.framework.isPolar)return void e.framework.redo();if(!(void 0===e.undoQueue||isNaN(e.undoQueue.index)||e.undoQueue.index>=e.undoQueue.queue.length)){for(t=e.undoQueue.queue[e.undoQueue.index],e.undoQueue.inSequence=!0,n=0;n<t.redo.calls.length;n++)o.plotDo(e,t.redo.calls[n],t.redo.args[n]);e.undoQueue.inSequence=!1,e.autoplay=!1,e.undoQueue.index++}},o.plotDo=function(e,t,n){e.autoplay=!0,n=r(e,n),t.apply(null,n)},e.exports=o},function(e,t,n){var r=n(58),a=n(57),i=a.extendDeepAll,o=n(71).MID_SHIFT,l=e.exports={version:"0.2.2"};l.Axis=function(){function e(e){n=e||n;var u=c.data,d=c.layout;return("string"==typeof n||n.nodeName)&&(n=r.select(n)),n.datum(u).each(function(e,n){function c(e,t){return s(e)%360+d.orientation}var u=e.slice();f={data:l.util.cloneJson(u),layout:l.util.cloneJson(d)};var h=0;u.forEach(function(e,t){e.color||(e.color=d.defaultColorRange[h],h=(h+1)%d.defaultColorRange.length),e.strokeColor||(e.strokeColor="LinePlot"===e.geometry?e.color:r.rgb(e.color).darker().toString()),f.data[t].color=e.color,f.data[t].strokeColor=e.strokeColor,f.data[t].strokeDash=e.strokeDash,f.data[t].strokeSize=e.strokeSize});var p=u.filter(function(e,t){var n=e.visible;return void 0===n||!0===n}),g=!1,v=p.map(function(e,t){return g=g||void 0!==e.groupId,e});if(g){var y=r.nest().key(function(e,t){return void 0!==e.groupId?e.groupId:"unstacked"}).entries(v),m=[],x=y.map(function(e,t){if("unstacked"===e.key)return e.values;var n=e.values[0].r.map(function(e,t){return 0});return e.values.forEach(function(e,t,r){e.yStack=[n],m.push(n),n=l.util.sumArrays(e.r,n)}),e.values});p=r.merge(x)}p.forEach(function(e,t){e.t=Array.isArray(e.t[0])?e.t:[e.t],e.r=Array.isArray(e.r[0])?e.r:[e.r]});var b=Math.min(d.width-d.margin.left-d.margin.right,d.height-d.margin.top-d.margin.bottom)/2;b=Math.max(10,b);var _,w=[d.margin.left+b,d.margin.top+b];if(g){_=[0,r.max(l.util.sumArrays(l.util.arrayLast(p).r[0],l.util.arrayLast(m)))]}else _=r.extent(l.util.flattenArray(p.map(function(e,t){return e.r})));d.radialAxis.domain!=l.DATAEXTENT&&(_[0]=0),a=r.scale.linear().domain(d.radialAxis.domain!=l.DATAEXTENT&&d.radialAxis.domain?d.radialAxis.domain:_).range([0,b]),f.layout.radialAxis.domain=a.domain();var k,M=l.util.flattenArray(p.map(function(e,t){return e.t})),A="string"==typeof M[0];A&&(M=l.util.deduplicate(M),k=M.slice(),M=r.range(M.length),p=p.map(function(e,t){var n=e;return e.t=[M],g&&(n.yStack=e.yStack),n}));var T=p.filter(function(e,t){return"LinePlot"===e.geometry||"DotPlot"===e.geometry}).length===p.length,S=null===d.needsEndSpacing?A||!T:d.needsEndSpacing,L=d.angularAxis.domain&&d.angularAxis.domain!=l.DATAEXTENT&&!A&&d.angularAxis.domain[0]>=0,C=L?d.angularAxis.domain:r.extent(M),O=Math.abs(M[1]-M[0]);T&&!A&&(O=0);var z=C.slice();S&&A&&(z[1]+=O);var j=d.angularAxis.ticksCount||4;j>8&&(j=j/(j/8)+j%8),d.angularAxis.ticksStep&&(j=(z[1]-z[0])/j);var D=d.angularAxis.ticksStep||(z[1]-z[0])/(j*(d.minorTicks+1));k&&(D=Math.max(Math.round(D),1)),z[2]||(z[2]=D);var I=r.range.apply(this,z);if(I=I.map(function(e,t){return parseFloat(e.toPrecision(12))}),s=r.scale.linear().domain(z.slice(0,2)).range("clockwise"===d.direction?[0,360]:[360,0]),f.layout.angularAxis.domain=s.domain(),f.layout.angularAxis.endPadding=S?O:0,void 0===(t=r.select(this).select("svg.chart-root"))||t.empty()){var P=(new DOMParser).parseFromString("<svg xmlns='http://www.w3.org/2000/svg' class='chart-root'>' + '<g class='outer-group'>' + '<g class='chart-group'>' + '<circle class='background-circle'></circle>' + '<g class='geometry-group'></g>' + '<g class='radial axis-group'>' + '<circle class='outside-circle'></circle>' + '</g>' + '<g class='angular axis-group'></g>' + '<g class='guides-group'><line></line><circle r='0'></circle></g>' + '</g>' + '<g class='legend-group'></g>' + '<g class='tooltips-group'></g>' + '<g class='title-group'><text></text></g>' + '</g>' + '</svg>","application/xml"),E=this.appendChild(this.ownerDocument.importNode(P.documentElement,!0));t=r.select(E)}t.select(".guides-group").style({"pointer-events":"none"}),t.select(".angular.axis-group").style({"pointer-events":"none"}),t.select(".radial.axis-group").style({"pointer-events":"none"});var N,R=t.select(".chart-group"),F={fill:"none",stroke:d.tickColor},B={"font-size":d.font.size,"font-family":d.font.family,fill:d.font.color,"text-shadow":["-1px 0px","1px -1px","-1px 1px","1px 1px"].map(function(e,t){return" "+e+" 0 "+d.font.outlineColor}).join(",")};if(d.showLegend){N=t.select(".legend-group").attr({transform:"translate("+[b,d.margin.top]+")"}).style({display:"block"});var q=p.map(function(e,t){var n=l.util.cloneJson(e);return n.symbol="DotPlot"===e.geometry?e.dotType||"circle":"LinePlot"!=e.geometry?"square":"line",n.visibleInLegend=void 0===e.visibleInLegend||e.visibleInLegend,n.color="LinePlot"===e.geometry?e.strokeColor:e.color,n});l.Legend().config({data:p.map(function(e,t){return e.name||"Element"+t}),legendConfig:i({},l.Legend.defaultConfig().legendConfig,{container:N,elements:q,reverseOrder:d.legend.reverseOrder})})();var H=N.node().getBBox();b=Math.min(d.width-H.width-d.margin.left-d.margin.right,d.height-d.margin.top-d.margin.bottom)/2,b=Math.max(10,b),w=[d.margin.left+b,d.margin.top+b],a.range([0,b]),f.layout.radialAxis.domain=a.domain(),N.attr("transform","translate("+[w[0]+b,w[1]-b]+")")}else N=t.select(".legend-group").style({display:"none"});t.attr({width:d.width,height:d.height}).style({opacity:d.opacity}),R.attr("transform","translate("+w+")").style({cursor:"crosshair"});var V=[(d.width-(d.margin.left+d.margin.right+2*b+(H?H.width:0)))/2,(d.height-(d.margin.top+d.margin.bottom+2*b))/2];if(V[0]=Math.max(0,V[0]),V[1]=Math.max(0,V[1]),t.select(".outer-group").attr("transform","translate("+V+")"),d.title){var U=t.select("g.title-group text").style(B).text(d.title),G=U.node().getBBox();U.attr({x:w[0]-G.width/2,y:w[1]-b-20})}var X=t.select(".radial.axis-group");if(d.radialAxis.gridLinesVisible){var Y=X.selectAll("circle.grid-circle").data(a.ticks(5));Y.enter().append("circle").attr({class:"grid-circle"}).style(F),Y.attr("r",a),Y.exit().remove()}X.select("circle.outside-circle").attr({r:b}).style(F);var Z=t.select("circle.background-circle").attr({r:b}).style({fill:d.backgroundColor,stroke:d.stroke});if(d.radialAxis.visible){var W=r.svg.axis().scale(a).ticks(5).tickSize(5);X.call(W).attr({transform:"rotate("+d.radialAxis.orientation+")"}),X.selectAll(".domain").style(F),X.selectAll("g>text").text(function(e,t){return this.textContent+d.radialAxis.ticksSuffix}).style(B).style({"text-anchor":"start"}).attr({x:0,y:0,dx:0,dy:0,transform:function(e,t){return"horizontal"===d.radialAxis.tickOrientation?"rotate("+-d.radialAxis.orientation+") translate("+[0,B["font-size"]]+")":"translate("+[0,B["font-size"]]+")"}}),X.selectAll("g>line").style({stroke:"black"})}var Q=t.select(".angular.axis-group").selectAll("g.angular-tick").data(I),$=Q.enter().append("g").classed("angular-tick",!0);Q.attr({transform:function(e,t){return"rotate("+c(e,t)+")"}}).style({display:d.angularAxis.visible?"block":"none"}),Q.exit().remove(),$.append("line").classed("grid-line",!0).classed("major",function(e,t){return t%(d.minorTicks+1)==0}).classed("minor",function(e,t){return!(t%(d.minorTicks+1)==0)}).style(F),$.selectAll(".minor").style({stroke:d.minorTickColor}),Q.select("line.grid-line").attr({x1:d.tickLength?b-d.tickLength:0,x2:b}).style({display:d.angularAxis.gridLinesVisible?"block":"none"}),$.append("text").classed("axis-text",!0).style(B);var J=Q.select("text.axis-text").attr({x:b+d.labelOffset,dy:o+"em",transform:function(e,t){var n=c(e,t),r=b+d.labelOffset,a=d.angularAxis.tickOrientation;return"horizontal"==a?"rotate("+-n+" "+r+" 0)":"radial"==a?n<270&&n>90?"rotate(180 "+r+" 0)":null:"rotate("+(n<=180&&n>0?-90:90)+" "+r+" 0)"}}).style({"text-anchor":"middle",display:d.angularAxis.labelsVisible?"block":"none"}).text(function(e,t){return t%(d.minorTicks+1)!=0?"":k?k[e]+d.angularAxis.ticksSuffix:e+d.angularAxis.ticksSuffix}).style(B);d.angularAxis.rewriteTicks&&J.text(function(e,t){return t%(d.minorTicks+1)!=0?"":d.angularAxis.rewriteTicks(this.textContent,t)});var K=r.max(R.selectAll(".angular-tick text")[0].map(function(e,t){return e.getCTM().e+e.getBBox().width}));N.attr({transform:"translate("+[b+K,d.margin.top]+")"});var ee=t.select("g.geometry-group").selectAll("g").size()>0,te=t.select("g.geometry-group").selectAll("g.geometry").data(p);if(te.enter().append("g").attr({class:function(e,t){return"geometry geometry"+t}}),te.exit().remove(),p[0]||ee){var ne=[];p.forEach(function(e,t){var n={};n.radialScale=a,n.angularScale=s,n.container=te.filter(function(e,n){return n==t}),n.geometry=e.geometry,n.orientation=d.orientation,n.direction=d.direction,n.index=t,ne.push({data:e,geometryConfig:n})});var re=r.nest().key(function(e,t){return void 0!==e.data.groupId||"unstacked"}).entries(ne),ae=[];re.forEach(function(e,t){"unstacked"===e.key?ae=ae.concat(e.values.map(function(e,t){return[e]})):ae.push(e.values)}),ae.forEach(function(e,t){var n;n=Array.isArray(e)?e[0].geometryConfig.geometry:e.geometryConfig.geometry;var r=e.map(function(e,t){return i(l[n].defaultConfig(),e)});l[n]().config(r)()})}var ie,oe,le=t.select(".guides-group"),se=t.select(".tooltips-group"),ce=l.tooltipPanel().config({container:se,fontSize:8})(),ue=l.tooltipPanel().config({container:se,fontSize:8})(),fe=l.tooltipPanel().config({container:se,hasTick:!0})();if(!A){var de=le.select("line").attr({x1:0,y1:0,y2:0}).style({stroke:"grey","pointer-events":"none"});R.on("mousemove.angular-guide",function(e,t){var n=l.util.getMousePos(Z).angle;de.attr({x2:-b,transform:"rotate("+n+")"}).style({opacity:.5});var r=(n+180+360-d.orientation)%360;ie=s.invert(r);var a=l.util.convertToCartesian(b+12,n+180);ce.text(l.util.round(ie)).move([a[0]+w[0],a[1]+w[1]])}).on("mouseout.angular-guide",function(e,t){le.select("line").style({opacity:0})})}var he=le.select("circle").style({stroke:"grey",fill:"none"});R.on("mousemove.radial-guide",function(e,t){var n=l.util.getMousePos(Z).radius;he.attr({r:n}).style({opacity:.5}),oe=a.invert(l.util.getMousePos(Z).radius);var r=l.util.convertToCartesian(n,d.radialAxis.orientation);ue.text(l.util.round(oe)).move([r[0]+w[0],r[1]+w[1]])}).on("mouseout.radial-guide",function(e,t){he.style({opacity:0}),fe.hide(),ce.hide(),ue.hide()}),t.selectAll(".geometry-group .mark").on("mouseover.tooltip",function(e,n){var a=r.select(this),i=this.style.fill,o="black",s=this.style.opacity||1;if(a.attr({"data-opacity":s}),i&&"none"!==i){a.attr({"data-fill":i}),o=r.hsl(i).darker().toString(),a.style({fill:o,opacity:1});var c={t:l.util.round(e[0]),r:l.util.round(e[1])};A&&(c.t=k[e[0]]);var u="t: "+c.t+", r: "+c.r,f=this.getBoundingClientRect(),d=t.node().getBoundingClientRect(),h=[f.left+f.width/2-V[0]-d.left,f.top+f.height/2-V[1]-d.top];fe.config({color:o}).text(u),fe.move(h)}else i=this.style.stroke||"black",a.attr({"data-stroke":i}),o=r.hsl(i).darker().toString(),a.style({stroke:o,opacity:1})}).on("mousemove.tooltip",function(e,t){if(0!=r.event.which)return!1;r.select(this).attr("data-fill")&&fe.show()}).on("mouseout.tooltip",function(e,t){fe.hide();var n=r.select(this),a=n.attr("data-fill");a?n.style({fill:a,opacity:n.attr("data-opacity")}):n.style({stroke:n.attr("data-stroke"),opacity:n.attr("data-opacity")})})}),h}var t,n,a,s,c={data:[],layout:{}},u={},f={},d=r.dispatch("hover"),h={};return h.render=function(t){return e(t),this},h.config=function(e){if(!arguments.length)return c;var t=l.util.cloneJson(e);return t.data.forEach(function(e,t){c.data[t]||(c.data[t]={}),i(c.data[t],l.Axis.defaultConfig().data[0]),i(c.data[t],e)}),i(c.layout,l.Axis.defaultConfig().layout),i(c.layout,t.layout),this},h.getLiveConfig=function(){return f},h.getinputConfig=function(){return u},h.radialScale=function(e){return a},h.angularScale=function(e){return s},h.svg=function(){return t},r.rebind(h,d,"on"),h},l.Axis.defaultConfig=function(e,t){return{data:[{t:[1,2,3,4],r:[10,11,12,13],name:"Line1",geometry:"LinePlot",color:null,strokeDash:"solid",strokeColor:null,strokeSize:"1",visibleInLegend:!0,opacity:1}],layout:{defaultColorRange:r.scale.category10().range(),title:null,height:450,width:500,margin:{top:40,right:40,bottom:40,left:40},font:{size:12,color:"gray",outlineColor:"white",family:"Tahoma, sans-serif"},direction:"clockwise",orientation:0,labelOffset:10,radialAxis:{domain:null,orientation:-45,ticksSuffix:"",visible:!0,gridLinesVisible:!0,tickOrientation:"horizontal",rewriteTicks:null},angularAxis:{domain:[0,360],ticksSuffix:"",visible:!0,gridLinesVisible:!0,labelsVisible:!0,tickOrientation:"horizontal",rewriteTicks:null,ticksCount:null,ticksStep:null},minorTicks:0,tickLength:null,tickColor:"silver",minorTickColor:"#eee",backgroundColor:"none",needsEndSpacing:null,showLegend:!0,legend:{reverseOrder:!1},opacity:1}}},l.util={},l.DATAEXTENT="dataExtent",l.AREA="AreaChart",l.LINE="LinePlot",l.DOT="DotPlot",l.BAR="BarChart",l.util._override=function(e,t){for(var n in e)n in t&&(t[n]=e[n])},l.util._extend=function(e,t){for(var n in e)t[n]=e[n]},l.util._rndSnd=function(){return 2*Math.random()-1+(2*Math.random()-1)+(2*Math.random()-1)},l.util.dataFromEquation2=function(e,t){var n=t||6;return r.range(0,360+n,n).map(function(t,n){var r=t*Math.PI/180;return[t,e(r)]})},l.util.dataFromEquation=function(e,t,n){var a=t||6,i=[],o=[];r.range(0,360+a,a).forEach(function(t,n){var r=t*Math.PI/180,a=e(r);i.push(t),o.push(a)});var l={t:i,r:o};return n&&(l.name=n),l},l.util.ensureArray=function(e,t){if(void 0===e)return null;var n=[].concat(e);return r.range(t).map(function(e,t){return n[t]||n[0]})},l.util.fillArrays=function(e,t,n){return t.forEach(function(t,r){e[t]=l.util.ensureArray(e[t],n)}),e},l.util.cloneJson=function(e){return JSON.parse(JSON.stringify(e))},l.util.validateKeys=function(e,t){"string"==typeof t&&(t=t.split("."));var n=t.shift();return e[n]&&(!t.length||objHasKeys(e[n],t))},l.util.sumArrays=function(e,t){return r.zip(e,t).map(function(e,t){return r.sum(e)})},l.util.arrayLast=function(e){return e[e.length-1]},l.util.arrayEqual=function(e,t){for(var n=Math.max(e.length,t.length,1);n-- >=0&&e[n]===t[n];);return-2===n},l.util.flattenArray=function(e){for(var t=[];!l.util.arrayEqual(t,e);)t=e,e=[].concat.apply([],e);return e},l.util.deduplicate=function(e){return e.filter(function(e,t,n){return n.indexOf(e)==t})},l.util.convertToCartesian=function(e,t){var n=t*Math.PI/180;return[e*Math.cos(n),e*Math.sin(n)]},l.util.round=function(e,t){var n=t||2,r=Math.pow(10,n);return Math.round(e*r)/r},l.util.getMousePos=function(e){var t=r.mouse(e.node()),n=t[0],a=t[1],i={};return i.x=n,i.y=a,i.pos=t,i.angle=180*(Math.atan2(a,n)+Math.PI)/Math.PI,i.radius=Math.sqrt(n*n+a*a),i},l.util.duplicatesCount=function(e){for(var t,n={},r={},a=0,i=e.length;a<i;a++)t=e[a],t in n?(n[t]++,r[t]=n[t]):n[t]=1;return r},l.util.duplicates=function(e){return Object.keys(l.util.duplicatesCount(e))},l.util.translator=function(e,t,n,r){if(r){var a=n.slice();n=t,t=a}var i=t.reduce(function(e,t){if(void 0!==e)return e[t]},e);void 0!==i&&(t.reduce(function(e,n,r){if(void 0!==e)return r===t.length-1&&delete e[n],e[n]},e),n.reduce(function(e,t,r){return void 0===e[t]&&(e[t]={}),r===n.length-1&&(e[t]=i),e[t]},e))},l.PolyChart=function(){function e(){var e=t[0].geometryConfig,n=e.container;"string"==typeof n&&(n=r.select(n)),n.datum(t).each(function(t,n){function i(t,n){return{r:e.radialScale(t[1]),t:(e.angularScale(t[0])+e.orientation)*Math.PI/180}}function o(e){return{x:e.r*Math.cos(e.t),y:e.r*Math.sin(e.t)}}var l=!!t[0].data.yStack,s=t.map(function(e,t){return l?r.zip(e.data.t[0],e.data.r[0],e.data.yStack[0]):r.zip(e.data.t[0],e.data.r[0])}),c=e.angularScale,u=e.radialScale.domain()[0],f={};f.bar=function(n,a,i){var o=t[i].data,l=e.radialScale(n[1])-e.radialScale(0),s=e.radialScale(n[2]||0),u=o.barWidth;r.select(this).attr({class:"mark bar",d:"M"+[[l+s,-u/2],[l+s,u/2],[s,u/2],[s,-u/2]].join("L")+"Z",transform:function(t,n){return"rotate("+(e.orientation+c(t[0]))+")"}})},f.dot=function(e,n,a){var l=e[2]?[e[0],e[1]+e[2]]:e,s=r.svg.symbol().size(t[a].data.dotSize).type(t[a].data.dotType)(e,n);r.select(this).attr({class:"mark dot",d:s,transform:function(e,t){var n=o(i(l));return"translate("+[n.x,n.y]+")"}})};var d=r.svg.line.radial().interpolate(t[0].data.lineInterpolation).radius(function(t){return e.radialScale(t[1])}).angle(function(t){return e.angularScale(t[0])*Math.PI/180});f.line=function(n,a,i){var o=n[2]?s[i].map(function(e,t){return[e[0],e[1]+e[2]]}):s[i];if(r.select(this).each(f.dot).style({opacity:function(e,n){return+t[i].data.dotVisible},fill:v.stroke(n,a,i)}).attr({class:"mark dot"}),!(a>0)){var l=r.select(this.parentNode).selectAll("path.line").data([0]);l.enter().insert("path"),l.attr({class:"line",d:d(o),transform:function(t,n){return"rotate("+(e.orientation+90)+")"},"pointer-events":"none"}).style({fill:function(e,t){return v.fill(n,a,i)},"fill-opacity":0,stroke:function(e,t){return v.stroke(n,a,i)},"stroke-width":function(e,t){return v["stroke-width"](n,a,i)},"stroke-dasharray":function(e,t){return v["stroke-dasharray"](n,a,i)},opacity:function(e,t){return v.opacity(n,a,i)},display:function(e,t){return v.display(n,a,i)}})}};var h=e.angularScale.range(),p=Math.abs(h[1]-h[0])/s[0].length*Math.PI/180,g=r.svg.arc().startAngle(function(e){return-p/2}).endAngle(function(e){return p/2}).innerRadius(function(t){return e.radialScale(u+(t[2]||0))}).outerRadius(function(t){return e.radialScale(u+(t[2]||0))+e.radialScale(t[1])});f.arc=function(t,n,a){r.select(this).attr({class:"mark arc",d:g,transform:function(t,n){return"rotate("+(e.orientation+c(t[0])+90)+")"}})};var v={fill:function(e,n,r){return t[r].data.color},stroke:function(e,n,r){return t[r].data.strokeColor},"stroke-width":function(e,n,r){return t[r].data.strokeSize+"px"},"stroke-dasharray":function(e,n,r){return a[t[r].data.strokeDash]},opacity:function(e,n,r){return t[r].data.opacity},display:function(e,n,r){return void 0===t[r].data.visible||t[r].data.visible?"block":"none"}},y=r.select(this).selectAll("g.layer").data(s);y.enter().append("g").attr({class:"layer"});var m=y.selectAll("path.mark").data(function(e,t){return e});m.enter().append("path").attr({class:"mark"}),m.style(v).each(f[e.geometryType]),m.exit().remove(),y.exit().remove()})}var t=[l.PolyChart.defaultConfig()],n=r.dispatch("hover"),a={solid:"none",dash:[5,2],dot:[2,5]};return e.config=function(e){return arguments.length?(e.forEach(function(e,n){t[n]||(t[n]={}),i(t[n],l.PolyChart.defaultConfig()),i(t[n],e)}),this):t},e.getColorScale=function(){},r.rebind(e,n,"on"),e},l.PolyChart.defaultConfig=function(){return{data:{name:"geom1",t:[[1,2,3,4]],r:[[1,2,3,4]],dotType:"circle",dotSize:64,dotVisible:!1,barWidth:20,color:"#ffa500",strokeSize:1,strokeColor:"silver",strokeDash:"solid",opacity:1,index:0,visible:!0,visibleInLegend:!0},geometryConfig:{geometry:"LinePlot",geometryType:"arc",direction:"clockwise",orientation:0,container:"body",radialScale:null,angularScale:null,colorScale:r.scale.category20()}}},l.BarChart=function(){return l.PolyChart()},l.BarChart.defaultConfig=function(){return{geometryConfig:{geometryType:"bar"}}},l.AreaChart=function(){return l.PolyChart()},l.AreaChart.defaultConfig=function(){return{geometryConfig:{geometryType:"arc"}}},l.DotPlot=function(){return l.PolyChart()},l.DotPlot.defaultConfig=function(){return{geometryConfig:{geometryType:"dot",dotType:"circle"}}},l.LinePlot=function(){return l.PolyChart()},l.LinePlot.defaultConfig=function(){return{geometryConfig:{geometryType:"line"}}},l.Legend=function(){function e(){var n=t.legendConfig,a=t.data.map(function(e,t){return[].concat(e).map(function(e,r){var a=i({},n.elements[t]);return a.name=e,a.color=[].concat(n.elements[t].color)[r],a})}),o=r.merge(a);o=o.filter(function(e,t){return n.elements[t]&&(n.elements[t].visibleInLegend||void 0===n.elements[t].visibleInLegend)}),n.reverseOrder&&(o=o.reverse());var l=n.container;("string"==typeof l||l.nodeName)&&(l=r.select(l));var s=o.map(function(e,t){return e.color}),c=n.fontSize,u=null==n.isContinuous?"number"==typeof o[0]:n.isContinuous,f=u?n.height:c*o.length,d=l.classed("legend-group",!0),h=d.selectAll("svg").data([0]),p=h.enter().append("svg").attr({width:300,height:f+c,xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",version:"1.1"});p.append("g").classed("legend-axis",!0),p.append("g").classed("legend-marks",!0);var g=r.range(o.length),v=r.scale[u?"linear":"ordinal"]().domain(g).range(s),y=r.scale[u?"linear":"ordinal"]().domain(g)[u?"range":"rangePoints"]([0,f]),m=function(e,t){var n=3*t;return"line"===e?"M"+[[-t/2,-t/12],[t/2,-t/12],[t/2,t/12],[-t/2,t/12]]+"Z":-1!=r.svg.symbolTypes.indexOf(e)?r.svg.symbol().type(e).size(n)():r.svg.symbol().type("square").size(n)()};if(u){var x=h.select(".legend-marks").append("defs").append("linearGradient").attr({id:"grad1",x1:"0%",y1:"0%",x2:"0%",y2:"100%"}).selectAll("stop").data(s);x.enter().append("stop"),x.attr({offset:function(e,t){return t/(s.length-1)*100+"%"}}).style({"stop-color":function(e,t){return e}}),h.append("rect").classed("legend-mark",!0).attr({height:n.height,width:n.colorBandWidth,fill:"url(#grad1)"})}else{var b=h.select(".legend-marks").selectAll("path.legend-mark").data(o);b.enter().append("path").classed("legend-mark",!0),b.attr({transform:function(e,t){return"translate("+[c/2,y(t)+c/2]+")"},d:function(e,t){var n=e.symbol;return m(n,c)},fill:function(e,t){return v(t)}}),b.exit().remove()}var _=r.svg.axis().scale(y).orient("right"),w=h.select("g.legend-axis").attr({transform:"translate("+[u?n.colorBandWidth:c,c/2]+")"}).call(_);return w.selectAll(".domain").style({fill:"none",stroke:"none"}),w.selectAll("line").style({fill:"none",stroke:u?n.textColor:"none"}),w.selectAll("text").style({fill:n.textColor,"font-size":n.fontSize}).text(function(e,t){return o[t].name}),e}var t=l.Legend.defaultConfig(),n=r.dispatch("hover");return e.config=function(e){return arguments.length?(i(t,e),this):t},r.rebind(e,n,"on"),e},l.Legend.defaultConfig=function(e,t){return{data:["a","b","c"],legendConfig:{elements:[{symbol:"line",color:"red"},{symbol:"square",color:"yellow"},{symbol:"diamond",color:"limegreen"}],height:150,colorBandWidth:30,fontSize:12,container:"body",isContinuous:null,textColor:"grey",reverseOrder:!1}}},l.tooltipPanel=function(){var e,t,n,a={container:null,hasTick:!1,fontSize:12,color:"white",padding:5},o="tooltip-"+l.tooltipPanel.uid++,s=function(){e=a.container.selectAll("g."+o).data([0]);var r=e.enter().append("g").classed(o,!0).style({"pointer-events":"none",display:"none"});return n=r.append("path").style({fill:"white","fill-opacity":.9}).attr({d:"M0 0"}),t=r.append("text").attr({dx:a.padding+10,dy:.3*+a.fontSize}),s};return s.text=function(i){var o=r.hsl(a.color).l,l=o>=.5?"#aaa":"white",c=o>=.5?"black":"white",u=i||"";t.style({fill:c,"font-size":a.fontSize+"px"}).text(u);var f=a.padding,d=t.node().getBBox(),h={fill:a.color,stroke:l,"stroke-width":"2px"},p=d.width+2*f+10,g=d.height+2*f;return n.attr({d:"M"+[[10,-g/2],[10,-g/4],[a.hasTick?0:10,0],[10,g/4],[10,g/2],[p,g/2],[p,-g/2]].join("L")+"Z"}).style(h),e.attr({transform:"translate("+[10,-g/2+2*f]+")"}),e.style({display:"block"}),s},s.move=function(t){if(e)return e.attr({transform:"translate("+[t[0],t[1]]+")"}).style({display:"block"}),s},s.hide=function(){if(e)return e.style({display:"none"}),s},s.show=function(){if(e)return e.style({display:"block"}),s},s.config=function(e){return i(a,e),s},s},l.tooltipPanel.uid=1,l.adapter={},l.adapter.plotly=function(){var e={};return e.convert=function(e,t){var n={};if(e.data&&(n.data=e.data.map(function(e,n){var r=i({},e);return[[r,["marker","color"],["color"]],[r,["marker","opacity"],["opacity"]],[r,["marker","line","color"],["strokeColor"]],[r,["marker","line","dash"],["strokeDash"]],[r,["marker","line","width"],["strokeSize"]],[r,["marker","symbol"],["dotType"]],[r,["marker","size"],["dotSize"]],[r,["marker","barWidth"],["barWidth"]],[r,["line","interpolation"],["lineInterpolation"]],[r,["showlegend"],["visibleInLegend"]]].forEach(function(e,n){l.util.translator.apply(null,e.concat(t))}),t||delete r.marker,t&&delete r.groupId,t?("LinePlot"===r.geometry?(r.type="scatter",!0===r.dotVisible?(delete r.dotVisible,r.mode="lines+markers"):r.mode="lines"):"DotPlot"===r.geometry?(r.type="scatter",r.mode="markers"):"AreaChart"===r.geometry?r.type="area":"BarChart"===r.geometry&&(r.type="bar"),delete r.geometry):("scatter"===r.type?"lines"===r.mode?r.geometry="LinePlot":"markers"===r.mode?r.geometry="DotPlot":"lines+markers"===r.mode&&(r.geometry="LinePlot",r.dotVisible=!0):"area"===r.type?r.geometry="AreaChart":"bar"===r.type&&(r.geometry="BarChart"),delete r.mode,delete r.type),r}),!t&&e.layout&&"stack"===e.layout.barmode)){var a=l.util.duplicates(n.data.map(function(e,t){return e.geometry}));n.data.forEach(function(e,t){var r=a.indexOf(e.geometry);-1!=r&&(n.data[t].groupId=r)})}if(e.layout){var o=i({},e.layout);if([[o,["plot_bgcolor"],["backgroundColor"]],[o,["showlegend"],["showLegend"]],[o,["radialaxis"],["radialAxis"]],[o,["angularaxis"],["angularAxis"]],[o.angularaxis,["showline"],["gridLinesVisible"]],[o.angularaxis,["showticklabels"],["labelsVisible"]],[o.angularaxis,["nticks"],["ticksCount"]],[o.angularaxis,["tickorientation"],["tickOrientation"]],[o.angularaxis,["ticksuffix"],["ticksSuffix"]],[o.angularaxis,["range"],["domain"]],[o.angularaxis,["endpadding"],["endPadding"]],[o.radialaxis,["showline"],["gridLinesVisible"]],[o.radialaxis,["tickorientation"],["tickOrientation"]],[o.radialaxis,["ticksuffix"],["ticksSuffix"]],[o.radialaxis,["range"],["domain"]],[o.angularAxis,["showline"],["gridLinesVisible"]],[o.angularAxis,["showticklabels"],["labelsVisible"]],[o.angularAxis,["nticks"],["ticksCount"]],[o.angularAxis,["tickorientation"],["tickOrientation"]],[o.angularAxis,["ticksuffix"],["ticksSuffix"]],[o.angularAxis,["range"],["domain"]],[o.angularAxis,["endpadding"],["endPadding"]],[o.radialAxis,["showline"],["gridLinesVisible"]],[o.radialAxis,["tickorientation"],["tickOrientation"]],[o.radialAxis,["ticksuffix"],["ticksSuffix"]],[o.radialAxis,["range"],["domain"]],[o.font,["outlinecolor"],["outlineColor"]],[o.legend,["traceorder"],["reverseOrder"]],[o,["labeloffset"],["labelOffset"]],[o,["defaultcolorrange"],["defaultColorRange"]]].forEach(function(e,n){l.util.translator.apply(null,e.concat(t))}),t?(void 0!==o.tickLength&&(o.angularaxis.ticklen=o.tickLength,delete o.tickLength),o.tickColor&&(o.angularaxis.tickcolor=o.tickColor,delete o.tickColor)):(o.angularAxis&&void 0!==o.angularAxis.ticklen&&(o.tickLength=o.angularAxis.ticklen),o.angularAxis&&void 0!==o.angularAxis.tickcolor&&(o.tickColor=o.angularAxis.tickcolor)),o.legend&&"boolean"!=typeof o.legend.reverseOrder&&(o.legend.reverseOrder="normal"!=o.legend.reverseOrder),o.legend&&"boolean"==typeof o.legend.traceorder&&(o.legend.traceorder=o.legend.traceorder?"reversed":"normal",delete o.legend.reverseOrder),o.margin&&void 0!==o.margin.t){var s=["t","r","b","l","pad"],c=["top","right","bottom","left","pad"],u={};r.entries(o.margin).forEach(function(e,t){u[c[s.indexOf(e.key)]]=e.value}),o.margin=u}t&&(delete o.needsEndSpacing,delete o.minorTickColor,delete o.minorTicks,delete o.angularaxis.ticksCount,delete o.angularaxis.ticksCount,delete o.angularaxis.ticksStep,delete o.angularaxis.rewriteTicks,delete o.angularaxis.nticks,delete o.radialaxis.ticksCount,delete o.radialaxis.ticksCount,delete o.radialaxis.ticksStep,delete o.radialaxis.rewriteTicks,delete o.radialaxis.nticks),n.layout=o}return n},e}},function(e,t,n){"use strict";var r=n(59),a=n(105),i=n(76),o=n(66),l=n(290);e.exports=function(e){var t=e._fullLayout;if((t._has("cartesian")||t._has("gl2d"))&&!e._context.staticPlot){Object.keys(t._plots||{}).sort(function(e,n){if((t._plots[e].mainplot&&!0)===(t._plots[n].mainplot&&!0)){var r=e.split("y"),a=n.split("y");return r[0]===a[0]?Number(r[1]||1)-Number(a[1]||1):Number(r[0]||1)-Number(a[0]||1)}return t._plots[e].mainplot?1:-1}).forEach(function(n){var s=t._plots[n],c=s.xaxis,u=s.yaxis,f=(c._linepositions[n]||[])[3],d=(u._linepositions[n]||[])[3],h=o.DRAGGERSIZE;if(r(f)&&"top"===c.side&&(f-=h),r(d)&&"right"!==u.side&&(d-=h),!s.mainplot){var p=l(e,s,0,0,c._length,u._length,"ns","ew");p.onmousemove=function(t){e._fullLayout._rehover=function(){e._fullLayout._hoversubplot===n&&a.hover(e,t,n)},a.hover(e,t,n),e._fullLayout._lasthover=p,e._fullLayout._hoversubplot=n},p.onmouseout=function(t){e._dragging||(e._fullLayout._hoversubplot=null,i.unhover(e,t))},p.onclick=function(t){a.click(e,t,n)},e._context.showAxisDragHandles&&(l(e,s,-h,-h,h,h,"n","w"),l(e,s,c._length,-h,h,h,"n","e"),l(e,s,-h,u._length,h,h,"s","w"),l(e,s,c._length,u._length,h,h,"s","e"))}e._context.showAxisDragHandles&&(r(f)&&("free"===c.anchor&&(f-=t._size.h*(1-u.domain[1])),l(e,s,.1*c._length,f,.8*c._length,h,"","ew"),l(e,s,0,f,.1*c._length,h,"","w"),l(e,s,.9*c._length,f,.1*c._length,h,"","e")),r(d)&&("free"===u.anchor&&(d-=t._size.w*c.domain[0]),l(e,s,d,.1*u._length,h,.8*u._length,"ns",""),l(e,s,d,.9*u._length,h,.1*u._length,"s",""),l(e,s,d,0,h,.1*u._length,"n","")))});var n=t._hoverlayer.node();n.onmousemove=function(n){n.target=t._lasthover,a.hover(e,n,t._hoversubplot)},n.onclick=function(n){n.target=t._lasthover,a.click(e,n)},n.onmousedown=function(e){t._lasthover.onmousedown(e)}}}},function(e,t,n){"use strict";var r=n(57);e.exports=function(e,t,n,a){a=a||{},n("hoverlabel.bgcolor",a.bgcolor),n("hoverlabel.bordercolor",a.bordercolor),n("hoverlabel.namelength",a.namelength),r.coerceFont(n,"hoverlabel.font",a.font)}},function(e,t,n){"use strict";var r=n(180).dot,a=n(69).BADNUM,i=e.exports={};i.tester=function(e){function t(e,t){var n=e[0],r=e[1];return!(n===a||n<i||n>o||r===a||r<l||r>s)&&(!t||!u(e))}function n(e,t){var n=e[0],c=e[1];if(n===a||n<i||n>o||c===a||c<l||c>s)return!1;var u,f,d,h,p,g=r.length,v=r[0][0],y=r[0][1],m=0;for(u=1;u<g;u++)if(f=v,d=y,v=r[u][0],y=r[u][1],h=Math.min(f,v),!(n<h||n>Math.max(f,v)||c>Math.max(d,y)))if(c<Math.min(d,y))n!==h&&m++;else{if(p=v===f?c:d+(n-f)*(y-d)/(v-f),c===p)return 1!==u||!t;c<=p&&n!==h&&m++}return m%2==1}var r=e.slice(),i=r[0][0],o=i,l=r[0][1],s=l;r.push(r[0]);for(var c=1;c<r.length;c++)i=Math.min(i,r[c][0]),o=Math.max(o,r[c][0]),l=Math.min(l,r[c][1]),s=Math.max(s,r[c][1]);var u,f=!1;return 5===r.length&&(r[0][0]===r[1][0]?r[2][0]===r[3][0]&&r[0][1]===r[3][1]&&r[1][1]===r[2][1]&&(f=!0,u=function(e){return e[0]===r[0][0]}):r[0][1]===r[1][1]&&r[2][1]===r[3][1]&&r[0][0]===r[3][0]&&r[1][0]===r[2][0]&&(f=!0,u=function(e){return e[1]===r[0][1]})),{xmin:i,xmax:o,ymin:l,ymax:s,pts:r,contains:f?t:n,isRect:f}};var o=i.isSegmentBent=function(e,t,n,a){var i,o,l,s=e[t],c=[e[n][0]-s[0],e[n][1]-s[1]],u=r(c,c),f=Math.sqrt(u),d=[-c[1]/f,c[0]/f];for(i=t+1;i<n;i++)if(o=[e[i][0]-s[0],e[i][1]-s[1]],(l=r(o,c))<0||l>u||Math.abs(r(o,d))>a)return!0;return!1};i.filter=function(e,t){function n(n){e.push(n);var l=r.length,s=a;r.splice(i+1);for(var c=s+1;c<e.length;c++)(c===e.length-1||o(e,s,c+1,t))&&(r.push(e[c]),r.length<l-2&&(a=c,i=r.length-1),s=c)}var r=[e[0]],a=0,i=0;if(e.length>1){n(e.pop())}return{addPt:n,raw:e,filtered:r}}},function(e,t,n){"use strict";var r=n(71).FROM_BL;e.exports=function(e,t,n){void 0===n&&(n=r[e.constraintoward||"center"]);var a=[e.r2l(e.range[0]),e.r2l(e.range[1])],i=a[0]+(a[1]-a[0])*n;e.range=e._input.range=[e.l2r(i+(a[0]-i)*t),e.l2r(i+(a[1]-i)*t)]}},function(e,t,n){"use strict";var r=n(57);e.exports=function(e,t){for(var n=0;n<e.length;n++)e[n].i=n;r.mergeArray(t.text,e,"tx"),r.mergeArray(t.hovertext,e,"htx"),r.mergeArray(t.customdata,e,"data"),r.mergeArray(t.textposition,e,"tp"),t.textfont&&(r.mergeArray(t.textfont.size,e,"ts"),r.mergeArray(t.textfont.color,e,"tc"),r.mergeArray(t.textfont.family,e,"tf"));var a=t.marker;if(a){r.mergeArray(a.size,e,"ms"),r.mergeArray(a.opacity,e,"mo"),r.mergeArray(a.symbol,e,"mx"),r.mergeArray(a.color,e,"mc");var i=a.line;a.line&&(r.mergeArray(i.color,e,"mlc"),r.mergeArray(i.width,e,"mlw"));var o=a.gradient;o&&"none"!==o.type&&(r.mergeArray(o.type,e,"mgt"),r.mergeArray(o.color,e,"mgc"))}}},function(e,t,n){"use strict";function r(e,t,n,r,a){var i=e._fullLayout,o=i._modules;t.plot&&t.plot.selectAll("g:not(.scatterlayer)").selectAll("g.trace").remove();for(var l=0;l<o.length;l++){var s=o[l];if("cartesian"===s.basePlotModule.name){for(var c=[],u=0;u<n.length;u++){var f=n[u],d=f[0].trace;d._module===s&&!0===d.visible&&c.push(f)}s.plot(e,t,c,r,a)}}}function a(e){for(var t=e._fullLayout,n=Object.keys(t._plots),r=[],a=[],i=0;i<n.length;i++){var o=n[i],l=t._plots[o],s=l.xaxis,c=l.yaxis,u=s._mainAxis,f=c._mainAxis,d=u._id+f._id;d!==o&&-1!==n.indexOf(d)?(l.mainplot=d,l.mainplotinfo=t._plots[d],a.push(o)):r.push(o)}return r=r.concat(a)}function i(e){var t=e.plotgroup,n=e.id,r=d.layerValue2layerClass[e.xaxis.layer],a=d.layerValue2layerClass[e.yaxis.layer];if(e.mainplot){var i=e.mainplotinfo,o=i.plotgroup,s=n+"-x",c=n+"-y";e.gridlayer=l(i.overgrid,"g",n),e.zerolinelayer=l(i.overzero,"g",n),l(i.overlinesBelow,"path",s),l(i.overlinesBelow,"path",c),l(i.overaxesBelow,"g",s),l(i.overaxesBelow,"g",c),e.plot=l(i.overplot,"g",n),l(i.overlinesAbove,"path",s),l(i.overlinesAbove,"path",c),l(i.overaxesAbove,"g",s),l(i.overaxesAbove,"g",c),e.xlines=o.select(".overlines-"+r).select("."+s),e.ylines=o.select(".overlines-"+a).select("."+c),e.xaxislayer=o.select(".overaxes-"+r).select("."+s),e.yaxislayer=o.select(".overaxes-"+a).select("."+c)}else{var u=l(t,"g","layer-subplot");e.shapelayer=l(u,"g","shapelayer"),e.imagelayer=l(u,"g","imagelayer"),e.gridlayer=l(t,"g","gridlayer"),e.overgrid=l(t,"g","overgrid"),e.zerolinelayer=l(t,"g","zerolinelayer"),e.overzero=l(t,"g","overzero"),l(t,"path","xlines-below"),l(t,"path","ylines-below"),e.overlinesBelow=l(t,"g","overlines-below"),l(t,"g","xaxislayer-below"),l(t,"g","yaxislayer-below"),e.overaxesBelow=l(t,"g","overaxes-below"),e.plot=l(t,"g","plot"),e.overplot=l(t,"g","overplot"),l(t,"path","xlines-above"),l(t,"path","ylines-above"),e.overlinesAbove=l(t,"g","overlines-above"),l(t,"g","xaxislayer-above"),l(t,"g","yaxislayer-above"),e.overaxesAbove=l(t,"g","overaxes-above"),e.xlines=t.select(".xlines-"+r),e.ylines=t.select(".ylines-"+a),e.xaxislayer=t.select(".xaxislayer-"+r),e.yaxislayer=t.select(".yaxislayer-"+a)}for(var f=0;f<d.traceLayerClasses.length;f++)l(e.plot,"g",d.traceLayerClasses[f]);e.xlines.style("fill","none").classed("crisp",!0),e.ylines.style("fill","none").classed("crisp",!0)}function o(e,t){if(e){var n={};e.each(function(e){var r=s.select(this),a="clip"+t._uid+e+"plot";r.remove(),t._draggers.selectAll("g."+e).remove(),t._defs.select("#"+a).remove(),n[e]=!0});for(var r=t._plots,a=Object.keys(r),i=0;i<a.length;i++)for(var o=r[a[i]],l=o.overlays||[],c=0;c<l.length;c++){var u=l[c];n[u.id]&&u.plot.selectAll(".trace").remove()}}}function l(e,t,n){var r=e.selectAll("."+n).data([0]);return r.enter().append(t).classed(n,!0),r}var s=n(58),c=n(57),u=n(65),f=n(73),d=n(66);t.name="cartesian",t.attr=["xaxis","yaxis"],t.idRoot=["x","y"],t.idRegex=d.idRegex,t.attrRegex=d.attrRegex,t.attributes=n(325),t.layoutAttributes=n(80),t.transitionAxes=n(326),t.plot=function(e,t,n,a){var i,o=e._fullLayout,l=u.getSubplotIds(o,"cartesian"),s=e.calcdata;if(!Array.isArray(t))for(t=[],i=0;i<s.length;i++)t.push(i);for(i=0;i<l.length;i++){for(var c,f=l[i],d=o._plots[f],h=[],p=0;p<s.length;p++){var g=s[p],v=g[0].trace;v.xaxis+v.yaxis===f&&((-1!==t.indexOf(v.index)||v.carpet)&&(c&&c[0].trace.xaxis+c[0].trace.yaxis===f&&-1!==["tonextx","tonexty","tonext"].indexOf(v.fill)&&-1===h.indexOf(c)&&h.push(c),h.push(g)),c=g)}r(e,d,h,n,a)}},t.clean=function(e,t,n,r){var a,i,l,s=r._modules||[],c=t._modules||[];for(l=0;l<s.length;l++)if("scatter"===s[l].name){a=!0;break}for(l=0;l<c.length;l++)if("scatter"===c[l].name){i=!0;break}if(a&&!i){var u=r._plots,d=Object.keys(u||{});for(l=0;l<d.length;l++){var h=u[d[l]];h.plot&&h.plot.select("g.scatterlayer").selectAll("g.trace").remove()}r._infolayer.selectAll("g.rangeslider-container").select("g.scatterlayer").selectAll("g.trace").remove()}var p=r._has&&r._has("cartesian"),g=t._has&&t._has("cartesian");if(p&&!g){var v=r._cartesianlayer.selectAll(".subplot"),y=f.listIds({_fullLayout:r});for(v.call(o,r),r._defs.selectAll(".axesclip").remove(),l=0;l<y.length;l++)r._infolayer.select("."+y[l]+"title").remove()}},t.drawFramework=function(e){var t=e._fullLayout,n=a(e),r=t._cartesianlayer.selectAll(".subplot").data(n,c.identity);r.enter().append("g").attr("class",function(e){return"subplot "+e}),r.order(),r.exit().call(o,t),r.each(function(e){var n=t._plots[e];if(n.plotgroup=s.select(this),n.overlays=[],i(n),n.mainplot){t._plots[n.mainplot].overlays.push(n)}n.draglayer=l(t._draggers,"g",e)})},t.rangePlot=function(e,t,n){i(t),r(e,t,n),u.style(e)}},function(e,t,n){"use strict";var r=n(68),a=n(79);e.exports={bgcolor:{valType:"color",role:"style",editType:"legend",description:"Sets the legend background color."},bordercolor:{valType:"color",dflt:a.defaultLine,role:"style",editType:"legend",description:"Sets the color of the border enclosing the legend."},borderwidth:{valType:"number",min:0,dflt:0,role:"style",editType:"legend",description:"Sets the width (in px) of the border enclosing the legend."},font:r({editType:"legend",description:"Sets the font used to text the legend items."}),orientation:{valType:"enumerated",values:["v","h"],dflt:"v",role:"info",editType:"legend",description:"Sets the orientation of the legend."},traceorder:{valType:"flaglist",flags:["reversed","grouped"],extras:["normal"],role:"style",editType:"legend",description:["Determines the order at which the legend items are displayed.","If *normal*, the items are displayed top-to-bottom in the same","order as the input data.","If *reversed*, the items are displayed in the opposite order","as *normal*.","If *grouped*, the items are displayed in groups","(when a trace `legendgroup` is provided).","if *grouped+reversed*, the items are displayed in the opposite order","as *grouped*."].join(" ")},tracegroupgap:{valType:"number",min:0,dflt:10,role:"style",editType:"legend",description:["Sets the amount of vertical space (in px) between legend groups."].join(" ")},x:{valType:"number",min:-2,max:3,dflt:1.02,role:"style",editType:"legend",description:"Sets the x position (in normalized coordinates) of the legend."},xanchor:{valType:"enumerated",values:["auto","left","center","right"],dflt:"left",role:"info",editType:"legend",description:["Sets the legend's horizontal position anchor.","This anchor binds the `x` position to the *left*, *center*","or *right* of the legend."].join(" ")},y:{valType:"number",min:-2,max:3,dflt:1,role:"style",editType:"legend",description:"Sets the y position (in normalized coordinates) of the legend."},yanchor:{valType:"enumerated",values:["auto","top","middle","bottom"],dflt:"auto",role:"info",editType:"legend",description:["Sets the legend's vertical position anchor","This anchor binds the `y` position to the *top*, *middle*","or *bottom* of the legend."].join(" ")},editType:"legend"}},function(e,t,n){"use strict";var r=n(58),a=n(61),i=n(57),o=n(62),l=n(60),s=n(72),c=n(333);e.exports=function(e,t){function n(e){var t=e[0].trace,n=t.visible&&t.fill&&"none"!==t.fill,a=s.hasLines(t);t&&t._module&&"contourcarpet"===t._module.name&&(a=t.contours.showlines,n="fill"===t.contours.coloring);var i=r.select(this).select(".legendfill").selectAll("path").data(n?[e]:[]);i.enter().append("path").classed("js-fill",!0),i.exit().remove(),i.attr("d","M5,0h30v6h-30z").call(o.fillGroupStyle);var l=r.select(this).select(".legendlines").selectAll("path").data(a?[e]:[]);l.enter().append("path").classed("js-line",!0).attr("d","M5,0h30"),l.exit().remove(),l.call(o.lineGroupStyle)}function u(e){function n(e,t,n){var r=i.nestedProperty(f,e).get(),a=Array.isArray(r)&&t?t(r):r;if(n){if(a<n[0])return n[0];if(a>n[1])return n[1]}return a}function a(e){return e[0]}var l,c,u=e[0],f=u.trace,d=s.hasMarkers(f),h=s.hasText(f),p=s.hasLines(f);if(d||h||p){var g={},v={};d&&(g.mc=n("marker.color",a),g.mo=n("marker.opacity",i.mean,[.2,1]),g.ms=n("marker.size",i.mean,[2,16]),g.mlc=n("marker.line.color",a),g.mlw=n("marker.line.width",i.mean,[0,5]),v.marker={sizeref:1,sizemin:1,sizemode:"diameter"}),p&&(v.line={width:n("line.width",a,[0,10])}),h&&(g.tx="Aa",g.tp=n("textposition",a),g.ts=10,g.tc=n("textfont.color",a),g.tf=n("textfont.family",a)),l=[i.minExtend(u,g)],c=i.minExtend(f,v)}var y=r.select(this).select("g.legendpoints"),m=y.selectAll("path.scatterpts").data(d?l:[]);m.enter().append("path").classed("scatterpts",!0).attr("transform","translate(20,0)"),m.exit().remove(),m.call(o.pointStyle,c,t),d&&(l[0].mrc=3);var x=y.selectAll("g.pointtext").data(h?l:[]);x.enter().append("g").classed("pointtext",!0).append("text").attr("transform","translate(20,0)"),x.exit().remove(),x.selectAll("text").call(o.textPointStyle,c,t)}function f(e){var t=e[0].trace,n=t.marker||{},i=n.line||{},o=r.select(this).select("g.legendpoints").selectAll("path.legendbar").data(a.traceIs(t,"bar")?[e]:[]);o.enter().append("path").classed("legendbar",!0).attr("d","M6,6H-6V-6H6Z").attr("transform","translate(20,0)"),o.exit().remove(),o.each(function(e){var t=r.select(this),a=e[0],o=(a.mlw+1||i.width+1)-1;t.style("stroke-width",o+"px").call(l.fill,a.mc||n.color),o&&t.call(l.stroke,a.mlc||i.color)})}function d(e){var t=e[0].trace,n=r.select(this).select("g.legendpoints").selectAll("path.legendbox").data(a.traceIs(t,"box")&&t.visible?[e]:[]);n.enter().append("path").classed("legendbox",!0).attr("d","M6,6H-6V-6H6Z").attr("transform","translate(20,0)"),n.exit().remove(),n.each(function(){var e=t.line.width,n=r.select(this);n.style("stroke-width",e+"px").call(l.fill,t.fillcolor),e&&n.call(l.stroke,t.line.color)})}function h(e){var t=e[0].trace,n=r.select(this).select("g.legendpoints").selectAll("path.legendpie").data(a.traceIs(t,"pie")&&t.visible?[e]:[]);n.enter().append("path").classed("legendpie",!0).attr("d","M6,6H-6V-6H6Z").attr("transform","translate(20,0)"),n.exit().remove(),n.size()&&n.call(c,e[0],t)}e.each(function(e){var t=r.select(this),n=t.selectAll("g.layers").data([0]);n.enter().append("g").classed("layers",!0),n.style("opacity",e[0].trace.opacity),n.selectAll("g.legendfill").data([e]).enter().append("g").classed("legendfill",!0),n.selectAll("g.legendlines").data([e]).enter().append("g").classed("legendlines",!0);var a=n.selectAll("g.legendsymbols").data([e]);a.enter().append("g").classed("legendsymbols",!0),a.selectAll("g.legendpoints").data([e]).enter().append("g").classed("legendpoints",!0)}).each(f).each(d).each(h).each(n).each(u)}},function(e,t,n){"use strict";e.exports=[{path:"",backoff:0},{path:"M-2.4,-3V3L0.6,0Z",backoff:.6},{path:"M-3.7,-2.5V2.5L1.3,0Z",backoff:1.3},{path:"M-4.45,-3L-1.65,-0.2V0.2L-4.45,3L1.55,0Z",backoff:1.55},{path:"M-2.2,-2.2L-0.2,-0.2V0.2L-2.2,2.2L-1.4,3L1.6,0L-1.4,-3Z",backoff:1.6},{path:"M-4.4,-2.1L-0.6,-0.2V0.2L-4.4,2.1L-4,3L2,0L-4,-3Z",backoff:2},{path:"M2,0A2,2 0 1,1 0,-2A2,2 0 0,1 2,0Z",backoff:0,noRotate:!0},{path:"M2,2V-2H-2V2Z",backoff:0,noRotate:!0}]},function(e,t,n){"use strict";var r=n(57),a=n(60);e.exports=function(e,t,n,i){i("opacity");var o=i("bgcolor"),l=i("bordercolor"),s=a.opacity(l);i("borderpad");var c=i("borderwidth"),u=i("showarrow");i("text",u?" ":"new text"),i("textangle"),r.coerceFont(i,"font",n.font),i("width"),i("align"),i("height")&&i("valign"),u&&(i("arrowcolor",s?t.bordercolor:a.defaultLine),i("arrowhead"),i("arrowsize"),i("arrowwidth",2*(s&&c||1)),i("standoff"));var f=i("hovertext"),d=n.hoverlabel||{};if(f){var h=i("hoverlabel.bgcolor",d.bgcolor||(a.opacity(o)?a.rgb(o):a.defaultLine)),p=i("hoverlabel.bordercolor",d.bordercolor||a.contrast(h));r.coerceFont(i,"hoverlabel.font",{family:d.font.family,size:d.font.size,color:d.font.color||p})}i("captureevents",!!f)}},function(e,t,n){"use strict";e.exports={segmentRE:/[MLHVQCTSZ][^MLHVQCTSZ]*/g,paramRE:/[^\s,]+/g,paramIsX:{M:{0:!0,drawn:0},L:{0:!0,drawn:0},H:{0:!0,drawn:0},V:{},Q:{0:!0,2:!0,drawn:2},C:{0:!0,2:!0,4:!0,drawn:4},T:{0:!0,drawn:0},S:{0:!0,2:!0,drawn:2},Z:{}},paramIsY:{M:{1:!0,drawn:1},L:{1:!0,drawn:1},H:{},V:{0:!0,drawn:0},Q:{1:!0,3:!0,drawn:3},C:{1:!0,3:!0,5:!0,drawn:5},T:{1:!0,drawn:1},S:{1:!0,3:!0,drawn:5},Z:{}},numParams:{M:2,L:2,H:1,V:1,Q:4,C:6,T:2,S:4,Z:0}}},function(e,t,n){"use strict";var r=n(122),a=n(118).line,i=n(147).dash,o=n(67).extendFlat;e.exports={_isLinkedToArray:"shape",visible:{valType:"boolean",role:"info",dflt:!0,editType:"calcIfAutorange",description:["Determines whether or not this shape is visible."].join(" ")},type:{valType:"enumerated",values:["circle","rect","path","line"],role:"info",editType:"calcIfAutorange",description:["Specifies the shape type to be drawn.","If *line*, a line is drawn from (`x0`,`y0`) to (`x1`,`y1`)","If *circle*, a circle is drawn from","((`x0`+`x1`)/2, (`y0`+`y1`)/2))","with radius","(|(`x0`+`x1`)/2 - `x0`|, |(`y0`+`y1`)/2 -`y0`)|)","If *rect*, a rectangle is drawn linking","(`x0`,`y0`), (`x1`,`y0`), (`x1`,`y1`), (`x0`,`y1`), (`x0`,`y0`)","If *path*, draw a custom SVG path using `path`."].join(" ")},layer:{valType:"enumerated",values:["below","above"],dflt:"above",role:"info",editType:"arraydraw",description:"Specifies whether shapes are drawn below or above traces."},xref:o({},r.xref,{description:["Sets the shape's x coordinate axis.","If set to an x axis id (e.g. *x* or *x2*), the `x` position","refers to an x coordinate","If set to *paper*, the `x` position refers to the distance from","the left side of the plotting area in normalized coordinates","where *0* (*1*) corresponds to the left (right) side.","If the axis `type` is *log*, then you must take the","log of your desired range.","If the axis `type` is *date*, then you must convert","the date to unix time in milliseconds."].join(" ")}),x0:{valType:"any",role:"info",editType:"calcIfAutorange",description:["Sets the shape's starting x position.","See `type` for more info."].join(" ")},x1:{valType:"any",role:"info",editType:"calcIfAutorange",description:["Sets the shape's end x position.","See `type` for more info."].join(" ")},yref:o({},r.yref,{description:["Sets the annotation's y coordinate axis.","If set to an y axis id (e.g. *y* or *y2*), the `y` position","refers to an y coordinate","If set to *paper*, the `y` position refers to the distance from","the bottom of the plotting area in normalized coordinates","where *0* (*1*) corresponds to the bottom (top)."].join(" ")}),y0:{valType:"any",role:"info",editType:"calcIfAutorange",description:["Sets the shape's starting y position.","See `type` for more info."].join(" ")},y1:{valType:"any",role:"info",editType:"calcIfAutorange",description:["Sets the shape's end y position.","See `type` for more info."].join(" ")},path:{valType:"string",role:"info",editType:"calcIfAutorange",description:["For `type` *path* - a valid SVG path but with the pixel values","replaced by data values. There are a few restrictions / quirks","only absolute instructions, not relative. So the allowed segments","are: M, L, H, V, Q, C, T, S, and Z","arcs (A) are not allowed because radius rx and ry are relative.","In the future we could consider supporting relative commands,","but we would have to decide on how to handle date and log axes.","Note that even as is, Q and C Bezier paths that are smooth on","linear axes may not be smooth on log, and vice versa.",'no chained "polybezier" commands - specify the segment type for',"each one.","On category axes, values are numbers scaled to the serial numbers","of categories because using the categories themselves there would","be no way to describe fractional positions","On data axes: because space and T are both normal components of path","strings, we can't use either to separate date from time parts.","Therefore we'll use underscore for this purpose:","2015-02-21_13:45:56.789"].join(" ")},opacity:{valType:"number",min:0,max:1,dflt:1,role:"info",editType:"arraydraw",description:"Sets the opacity of the shape."},line:{color:o({},a.color,{editType:"arraydraw"}),width:o({},a.width,{editType:"calcIfAutorange"}),dash:o({},i,{editType:"arraydraw"}),role:"info",editType:"calcIfAutorange"},fillcolor:{valType:"color",dflt:"rgba(0,0,0,0)",role:"info",editType:"arraydraw",description:["Sets the color filling the shape's interior."].join(" ")},editType:"arraydraw"}},function(e,t,n){"use strict";var r=n(66);e.exports={_isLinkedToArray:"image",visible:{valType:"boolean",role:"info",dflt:!0,editType:"arraydraw",description:["Determines whether or not this image is visible."].join(" ")},source:{valType:"string",role:"info",editType:"arraydraw",description:["Specifies the URL of the image to be used.","The URL must be accessible from the domain where the","plot code is run, and can be either relative or absolute."].join(" ")},layer:{valType:"enumerated",values:["below","above"],dflt:"above",role:"info",editType:"arraydraw",description:["Specifies whether images are drawn below or above traces.","When `xref` and `yref` are both set to `paper`,","image is drawn below the entire plot area."].join(" ")},sizex:{valType:"number",role:"info",dflt:0,editType:"arraydraw",description:["Sets the image container size horizontally.","The image will be sized based on the `position` value.","When `xref` is set to `paper`, units are sized relative","to the plot width."].join(" ")},sizey:{valType:"number",role:"info",dflt:0,editType:"arraydraw",description:["Sets the image container size vertically.","The image will be sized based on the `position` value.","When `yref` is set to `paper`, units are sized relative","to the plot height."].join(" ")},sizing:{valType:"enumerated",values:["fill","contain","stretch"],dflt:"contain",role:"info",editType:"arraydraw",description:["Specifies which dimension of the image to constrain."].join(" ")},opacity:{valType:"number",role:"info",min:0,max:1,dflt:1,editType:"arraydraw",description:"Sets the opacity of the image."},x:{valType:"any",role:"info",dflt:0,editType:"arraydraw",description:["Sets the image's x position.","When `xref` is set to `paper`, units are sized relative","to the plot height.","See `xref` for more info"].join(" ")},y:{valType:"any",role:"info",dflt:0,editType:"arraydraw",description:["Sets the image's y position.","When `yref` is set to `paper`, units are sized relative","to the plot height.","See `yref` for more info"].join(" ")},xanchor:{valType:"enumerated",values:["left","center","right"],dflt:"left",role:"info",editType:"arraydraw",description:"Sets the anchor for the x position"},yanchor:{valType:"enumerated",values:["top","middle","bottom"],dflt:"top",role:"info",editType:"arraydraw",description:"Sets the anchor for the y position."},xref:{valType:"enumerated",values:["paper",r.idRegex.x.toString()],dflt:"paper",role:"info",editType:"arraydraw",description:["Sets the images's x coordinate axis.","If set to a x axis id (e.g. *x* or *x2*), the `x` position","refers to an x data coordinate","If set to *paper*, the `x` position refers to the distance from","the left of plot in normalized coordinates","where *0* (*1*) corresponds to the left (right)."].join(" ")},yref:{valType:"enumerated",values:["paper",r.idRegex.y.toString()],dflt:"paper",role:"info",editType:"arraydraw",description:["Sets the images's y coordinate axis.","If set to a y axis id (e.g. *y* or *y2*), the `y` position","refers to a y data coordinate.","If set to *paper*, the `y` position refers to the distance from","the bottom of the plot in normalized coordinates","where *0* (*1*) corresponds to the bottom (top)."].join(" ")},editType:"arraydraw"}},function(e,t,n){"use strict";var r=n(68),a=n(79),i=n(67).extendFlat,o=n(84).overrideAll,l=n(213),s={_isLinkedToArray:"button",method:{valType:"enumerated",values:["restyle","relayout","animate","update","skip"],dflt:"restyle",role:"info",description:["Sets the Plotly method to be called on click.","If the `skip` method is used, the API updatemenu will function as normal","but will perform no API calls and will not bind automatically to state","updates. This may be used to create a component interface and attach to","updatemenu events manually via JavaScript."].join(" ")},args:{valType:"info_array",role:"info",freeLength:!0,items:[{valType:"any"},{valType:"any"},{valType:"any"}],description:["Sets the arguments values to be passed to the Plotly","method set in `method` on click."].join(" ")},label:{valType:"string",role:"info",dflt:"",description:"Sets the text label to appear on the button."},execute:{valType:"boolean",role:"info",dflt:!0,description:["When true, the API method is executed. When false, all other behaviors are the same","and command execution is skipped. This may be useful when hooking into, for example,","the `plotly_buttonclicked` method and executing the API command manually without losing","the benefit of the updatemenu automatically binding to the state of the plot through the","specification of `method` and `args`."].join(" ")}};e.exports=o({_isLinkedToArray:"updatemenu",_arrayAttrRegexps:[/^updatemenus\[(0|[1-9][0-9]+)\]\.buttons/],visible:{valType:"boolean",role:"info",description:["Determines whether or not the update menu is visible."].join(" ")},type:{valType:"enumerated",values:["dropdown","buttons"],dflt:"dropdown",role:"info",description:["Determines whether the buttons are accessible via a dropdown menu","or whether the buttons are stacked horizontally or vertically"].join(" ")},direction:{valType:"enumerated",values:["left","right","up","down"],dflt:"down",role:"info",description:["Determines the direction in which the buttons are laid out, whether","in a dropdown menu or a row/column of buttons. For `left` and `up`,","the buttons will still appear in left-to-right or top-to-bottom order","respectively."].join(" ")},active:{valType:"integer",role:"info",min:-1,dflt:0,description:["Determines which button (by index starting from 0) is","considered active."].join(" ")},showactive:{valType:"boolean",role:"info",dflt:!0,description:"Highlights active dropdown item or active button if true."},buttons:s,x:{valType:"number",min:-2,max:3,dflt:-.05,role:"style",description:"Sets the x position (in normalized coordinates) of the update menu."},xanchor:{valType:"enumerated",values:["auto","left","center","right"],dflt:"right",role:"info",description:["Sets the update menu's horizontal position anchor.","This anchor binds the `x` position to the *left*, *center*","or *right* of the range selector."].join(" ")},y:{valType:"number",min:-2,max:3,dflt:1,role:"style",description:"Sets the y position (in normalized coordinates) of the update menu."},yanchor:{valType:"enumerated",values:["auto","top","middle","bottom"],dflt:"top",role:"info",description:["Sets the update menu's vertical position anchor","This anchor binds the `y` position to the *top*, *middle*","or *bottom* of the range selector."].join(" ")},pad:i({},l,{description:"Sets the padding around the buttons or dropdown menu."}),font:r({description:"Sets the font of the update menu button text."}),bgcolor:{valType:"color",role:"style",description:"Sets the background color of the update menu buttons."},bordercolor:{valType:"color",dflt:a.borderLine,role:"style",description:"Sets the color of the border enclosing the update menu."},borderwidth:{valType:"number",min:0,dflt:1,role:"style",editType:"arraydraw",description:"Sets the width (in px) of the border enclosing the update menu."}},"arraydraw","from-root")},function(e,t,n){"use strict";e.exports={t:{valType:"number",dflt:0,role:"style",editType:"arraydraw",description:"The amount of padding (in px) along the top of the component."},r:{valType:"number",dflt:0,role:"style",editType:"arraydraw",description:"The amount of padding (in px) on the right side of the component."},b:{valType:"number",dflt:0,role:"style",editType:"arraydraw",description:"The amount of padding (in px) along the bottom of the component."},l:{valType:"number",dflt:0,role:"style",editType:"arraydraw",description:"The amount of padding (in px) on the left side of the component."},editType:"arraydraw"}},function(e,t,n){"use strict";var r=n(68),a=n(213),i=n(67).extendDeepAll,o=n(84).overrideAll,l=n(144),s=n(123),c={_isLinkedToArray:"step",method:{valType:"enumerated",values:["restyle","relayout","animate","update","skip"],dflt:"restyle",role:"info",description:["Sets the Plotly method to be called when the slider value is changed.","If the `skip` method is used, the API slider will function as normal","but will perform no API calls and will not bind automatically to state","updates. This may be used to create a component interface and attach to","slider events manually via JavaScript."].join(" ")},args:{valType:"info_array",role:"info",freeLength:!0,items:[{valType:"any"},{valType:"any"},{valType:"any"}],description:["Sets the arguments values to be passed to the Plotly","method set in `method` on slide."].join(" ")},label:{valType:"string",role:"info",description:"Sets the text label to appear on the slider"},value:{valType:"string",role:"info",description:["Sets the value of the slider step, used to refer to the step programatically.","Defaults to the slider label if not provided."].join(" ")},execute:{valType:"boolean",role:"info",dflt:!0,description:["When true, the API method is executed. When false, all other behaviors are the same","and command execution is skipped. This may be useful when hooking into, for example,","the `plotly_sliderchange` method and executing the API command manually without losing","the benefit of the slider automatically binding to the state of the plot through the","specification of `method` and `args`."].join(" ")}};e.exports=o({_isLinkedToArray:"slider",visible:{valType:"boolean",role:"info",dflt:!0,description:["Determines whether or not the slider is visible."].join(" ")},active:{valType:"number",role:"info",min:0,dflt:0,description:["Determines which button (by index starting from 0) is","considered active."].join(" ")},steps:c,lenmode:{valType:"enumerated",values:["fraction","pixels"],role:"info",dflt:"fraction",description:["Determines whether this slider length","is set in units of plot *fraction* or in *pixels.","Use `len` to set the value."].join(" ")},len:{valType:"number",min:0,dflt:1,role:"style",description:["Sets the length of the slider","This measure excludes the padding of both ends.","That is, the slider's length is this length minus the","padding on both ends."].join(" ")},x:{valType:"number",min:-2,max:3,dflt:0,role:"style",description:"Sets the x position (in normalized coordinates) of the slider."},pad:i({},a,{description:"Set the padding of the slider component along each side."},{t:{dflt:20}}),xanchor:{valType:"enumerated",values:["auto","left","center","right"],dflt:"left",role:"info",description:["Sets the slider's horizontal position anchor.","This anchor binds the `x` position to the *left*, *center*","or *right* of the range selector."].join(" ")},y:{valType:"number",min:-2,max:3,dflt:0,role:"style",description:"Sets the y position (in normalized coordinates) of the slider."},yanchor:{valType:"enumerated",values:["auto","top","middle","bottom"],dflt:"top",role:"info",description:["Sets the slider's vertical position anchor","This anchor binds the `y` position to the *top*, *middle*","or *bottom* of the range selector."].join(" ")},transition:{duration:{valType:"number",role:"info",min:0,dflt:150,description:"Sets the duration of the slider transition"},easing:{valType:"enumerated",values:l.transition.easing.values,role:"info",dflt:"cubic-in-out",description:"Sets the easing function of the slider transition"}},currentvalue:{visible:{valType:"boolean",role:"info",dflt:!0,description:["Shows the currently-selected value above the slider."].join(" ")},xanchor:{valType:"enumerated",values:["left","center","right"],dflt:"left",role:"info",description:["The alignment of the value readout relative to the length of the slider."].join(" ")},offset:{valType:"number",dflt:10,role:"info",description:["The amount of space, in pixels, between the current value label","and the slider."].join(" ")},prefix:{valType:"string",role:"info",description:"When currentvalue.visible is true, this sets the prefix of the label."},suffix:{valType:"string",role:"info",description:"When currentvalue.visible is true, this sets the suffix of the label."},font:r({description:"Sets the font of the current value label text."})},font:r({description:"Sets the font of the slider step labels."}),activebgcolor:{valType:"color",role:"style",dflt:s.gripBgActiveColor,description:["Sets the background color of the slider grip","while dragging."].join(" ")},bgcolor:{valType:"color",role:"style",dflt:s.railBgColor,description:"Sets the background color of the slider."},bordercolor:{valType:"color",dflt:s.railBorderColor,role:"style",description:"Sets the color of the border enclosing the slider."},borderwidth:{valType:"number",min:0,dflt:s.railBorderWidth,role:"style",description:"Sets the width (in px) of the border enclosing the slider."},ticklen:{valType:"number",min:0,dflt:s.tickLength,role:"style",description:"Sets the length in pixels of step tick marks"},tickcolor:{valType:"color",dflt:s.tickColor,role:"style",description:"Sets the color of the border enclosing the slider."},tickwidth:{valType:"number",min:0,dflt:1,role:"style",description:"Sets the tick width (in px)."},minorticklen:{valType:"number",min:0,dflt:s.minorTickLength,role:"style",description:"Sets the length in pixels of minor step tick marks"}},"arraydraw","from-root")},function(e,t,n){"use strict";e.exports={name:"rangeslider",containerClassName:"rangeslider-container",bgClassName:"rangeslider-bg",rangePlotClassName:"rangeslider-rangeplot",maskMinClassName:"rangeslider-mask-min",maskMaxClassName:"rangeslider-mask-max",slideBoxClassName:"rangeslider-slidebox",grabberMinClassName:"rangeslider-grabber-min",grabAreaMinClassName:"rangeslider-grabarea-min",handleMinClassName:"rangeslider-handle-min",grabberMaxClassName:"rangeslider-grabber-max",grabAreaMaxClassName:"rangeslider-grabarea-max",handleMaxClassName:"rangeslider-handle-max",maskColor:"rgba(0,0,0,0.4)",slideBoxFill:"transparent",slideBoxCursor:"ew-resize",grabAreaFill:"transparent",grabAreaCursor:"col-resize",grabAreaWidth:10,handleWidth:4,handleRadius:1,handleStrokeWidth:1,extraPad:15}},function(e,t,n){"use strict";e.exports={step:{valType:"enumerated",role:"info",values:["month","year","day","hour","minute","second","all"],dflt:"month",editType:"plot",description:["The unit of measurement that the `count` value will set the range by."].join(" ")},stepmode:{valType:"enumerated",role:"info",values:["backward","todate"],dflt:"backward",editType:"plot",description:["Sets the range update mode.","If *backward*, the range update shifts the start of range","back *count* times *step* milliseconds.","If *todate*, the range update shifts the start of range","back to the first timestamp from *count* times","*step* milliseconds back.","For example, with `step` set to *year* and `count` set to *1*","the range update shifts the start of the range back to","January 01 of the current year.","Month and year *todate* are currently available only","for the built-in (Gregorian) calendar."].join(" ")},count:{valType:"number",role:"info",min:0,dflt:1,editType:"plot",description:["Sets the number of steps to take to update the range.","Use with `step` to specify the update interval."].join(" ")},label:{valType:"string",role:"info",editType:"plot",description:"Sets the text label to appear on the button."},editType:"plot"}},function(e,t,n){"use strict";e.exports={yPad:.02,minButtonWidth:30,rx:3,ry:3,lightAmount:25,darkAmount:10}},function(e,t,n){"use strict";function r(e){var t;switch(e){case"themes__thumb":t={autosize:!0,width:150,height:150,title:"",showlegend:!1,margin:{l:5,r:5,t:5,b:5,pad:0},annotations:[]};break;case"thumbnail":t={title:"",hidesources:!0,showlegend:!1,borderwidth:0,bordercolor:"",margin:{l:1,r:1,t:1,b:1,pad:0},annotations:[]};break;default:t={}}return t}function a(e){return["xaxis","yaxis","zaxis"].indexOf(e.slice(0,5))>-1}var i=n(57),o=n(65),l=i.extendFlat,s=i.extendDeep;e.exports=function(e,t){e.framework&&e.framework.isPolar&&(e=e.framework.getConfig());var n,i=e.data,c=e.layout,u=s([],i),f=s({},c,r(t.tileClass)),d=e._context||{};if(t.width&&(f.width=t.width),t.height&&(f.height=t.height),"thumbnail"===t.tileClass||"themes__thumb"===t.tileClass){f.annotations=[];var h=Object.keys(f);for(n=0;n<h.length;n++)a(h[n])&&(f[h[n]].title="");for(n=0;n<u.length;n++){var p=u[n];p.showscale=!1,p.marker&&(p.marker.showscale=!1),"pie"===p.type&&(p.textposition="none")}}if(Array.isArray(t.annotations))for(n=0;n<t.annotations.length;n++)f.annotations.push(t.annotations[n]);var g=o.getSubplotIds(f,"gl3d");if(g.length){var v={};for("thumbnail"===t.tileClass&&(v={title:"",showaxeslabels:!1,showticklabels:!1,linetickenable:!1}),n=0;n<g.length;n++){var y=f[g[n]];y.xaxis||(y.xaxis={}),y.yaxis||(y.yaxis={}),y.zaxis||(y.zaxis={}),l(y.xaxis,v),l(y.yaxis,v),l(y.zaxis,v),y._scene=null}}var m=document.createElement("div");t.tileClass&&(m.className=t.tileClass);var x={gd:m,td:m,layout:f,data:u,config:{staticPlot:void 0===t.staticPlot||t.staticPlot,plotGlPixelRatio:void 0===t.plotGlPixelRatio?2:t.plotGlPixelRatio,displaylogo:t.displaylogo||!1,showLink:t.showLink||!1,showTips:t.showTips||!1,mapboxAccessToken:d.mapboxAccessToken}};return"transparent"!==t.setBackground&&(x.config.setBackground=t.setBackground||"opaque"),x.gd.defaultLayout=r(t.tileClass),x}},,,,,,,,,,function(e,t,n){var r=n(229);"string"==typeof r&&(r=[[e.i,r,""]]),r.locals&&(e.exports=r.locals);n(49)("e7697fae",r,!0)},function(e,t,n){t=e.exports=n(48)(void 0),t.push([e.i,"",""])},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=(n(3),n(231)),a=n.n(r);n(172).register([]),t.default={name:"chartspage",components:{LineChart:a.a},data:function(){return{}},created:function(){},computed:{},mounted:function(){},updated:function(){},beforeDestroy:function(){}}},function(e,t,n){function r(e){n(232)}var a=n(9)(n(234),n(372),r,null,null);e.exports=a.exports},function(e,t,n){var r=n(233);"string"==typeof r&&(r=[[e.i,r,""]]),r.locals&&(e.exports=r.locals);n(49)("ab504094",r,!0)},function(e,t,n){t=e.exports=n(48)(void 0),t.push([e.i,".charttitle{width:100%;text-align:center}",""])},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(124),a=n.n(r),i=n(235),o=n(11),l=n(172);l.register([]),t.default={name:"LineChart",props:{dataset:i.a.string.isRequired},data:function(){return{series:[{name:"Time",data:[0,1],type:"category"},{name:"loading",data:[0,0],type:"line"}]}},created:function(){this.$store.dispatch("brews/FETCH_DATA",{name:this.dataset})},computed:a()({},Object(o.b)({brews:"brews/data",names:"brews/names",brew:"brews/getByName"}),{fetchSeries:function(){return this.brew(this.dataset)}}),methods:{fetch:function(){var e=this.brews[this.dataset];void 0!==e&&(this.series=e)},plot:function(){var e=this.series[0].data,t=this.series.slice(1).filter(function(e){return"line"===e.type}).map(function(t){return{name:t.name,x:e,y:t.data}});l.plot(this.$refs.chart,t,{xaxis:{rangeslider:{type:"date"},rangeselector:{buttons:[{count:1,label:"1h",step:"hour",stepmode:"backward"},{count:6,label:"6h",step:"hour",stepmode:"backward"},{count:1,label:"1d",step:"day",stepmode:"backward"},{count:3,label:"3d",step:"day",stepmode:"backward"},{count:7,label:"1w",step:"day",stepmode:"backward"},{step:"all"}]}},yaxis:{fixedrange:!1},height:750})}},mounted:function(){this.fetch(),this.plot()},beforeDestroy:function(){}}},function(e,t,n){"use strict";var r=n(171),a=n.n(r),i=n(236),o={get any(){return Object(i.f)("any",{type:null})},get func(){return Object(i.f)("function",{type:Function}).def(s.func)},get bool(){return Object(i.f)("boolean",{type:Boolean}).def(s.bool)},get string(){return Object(i.f)("string",{type:String}).def(s.string)},get number(){return Object(i.f)("number",{type:Number}).def(s.number)},get array(){return Object(i.f)("array",{type:Array}).def(s.array)},get object(){return Object(i.f)("object",{type:Object}).def(s.object)},get integer(){return Object(i.f)("integer",{type:Number,validator:function(e){return Object(i.d)(e)}}).def(s.integer)},custom:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"custom validation failed";if("function"!=typeof e)throw new TypeError("[VueTypes error]: You must provide a function as argument");return Object(i.f)(e.name||"<<anonymous function>>",{validator:function(){var n=e.apply(void 0,arguments);return n||Object(i.h)(this._vueTypes_name+" - "+t),n}})},oneOf:function(e){if(!Object(i.b)(e))throw new TypeError("[VueTypes error]: You must provide an array as argument");var t='oneOf - value should be one of "'+e.join('", "')+'"',n=e.reduce(function(e,t){return null!==t&&void 0!==t&&-1===e.indexOf(t.constructor)&&e.push(t.constructor),e},[]);return Object(i.f)("oneOf",{type:n.length>0?n:null,validator:function(n){var r=-1!==e.indexOf(n);return r||Object(i.h)(t),r}})},instanceOf:function(e){return Object(i.f)("instanceOf",{type:e})},oneOfType:function(e){if(!Object(i.b)(e))throw new TypeError("[VueTypes error]: You must provide an array as argument");var t=!1,n=e.reduce(function(e,n,r){if(a()(n)){if("oneOf"===n._vueTypes_name)return e.concat(n.type||[]);if(n.type&&!Object(i.c)(n.validator)){if(Object(i.b)(n.type))return e.concat(n.type);e.push(n.type)}else Object(i.c)(n.validator)&&(t=!0);return e}return e.push(n),e},[]);if(!t)return Object(i.f)("oneOfType",{type:n});var r=e.map(function(e){return e&&Object(i.b)(e.type)?e.type.map(i.a):Object(i.a)(e)}).reduce(function(e,t){return e.concat(Object(i.b)(t)?t:[t])},[]).join('", "');return this.custom(function(t){var n=e.some(function(e){return"oneOf"===e._vueTypes_name?!e.type||Object(i.g)(e.type,t,!0):Object(i.g)(e,t,!0)});return n||Object(i.h)('oneOfType - value type should be one of "'+r+'"'),n})},arrayOf:function(e){return Object(i.f)("arrayOf",{type:Array,validator:function(t){var n=t.every(function(t){return Object(i.g)(e,t)});return n||Object(i.h)('arrayOf - value must be an array of "'+Object(i.a)(e)+'"'),n}})},objectOf:function(e){return Object(i.f)("objectOf",{type:Object,validator:function(t){var n=Object.keys(t).every(function(n){return Object(i.g)(e,t[n])});return n||Object(i.h)('objectOf - value must be an object of "'+Object(i.a)(e)+'"'),n}})},shape:function(e){var t=Object.keys(e),n=t.filter(function(t){return e[t]&&!0===e[t].required}),r=Object(i.f)("shape",{type:Object,validator:function(r){var o=this;if(!a()(r))return!1;var l=Object.keys(r);return n.length>0&&n.some(function(e){return-1===l.indexOf(e)})?(Object(i.h)('shape - at least one of required properties "'+n.join('", "')+'" is not present'),!1):l.every(function(n){if(-1===t.indexOf(n))return!0===o._vueTypes_isLoose||(Object(i.h)('shape - object is missing "'+n+'" property'),!1);var a=e[n];return Object(i.g)(a,r[n])})}});return Object.defineProperty(r,"_vueTypes_isLoose",{enumerable:!1,writable:!0,value:!1}),Object.defineProperty(r,"loose",{get:function(){return this._vueTypes_isLoose=!0,this},enumerable:!1}),r}},l=function(){return{func:i.e,bool:!0,string:"",number:0,array:function(){return[]},object:function(){return{}},integer:0}},s=l();Object.defineProperty(o,"sensibleDefaults",{enumerable:!1,set:function(e){!1===e?s={}:!0===e?s=l():a()(e)&&(s=e)},get:function(){return s}}),t.a=o},function(e,t,n){"use strict";n.d(t,"a",function(){return c}),n.d(t,"e",function(){return f}),n.d(t,"d",function(){return d}),n.d(t,"b",function(){return h}),n.d(t,"c",function(){return p}),n.d(t,"f",function(){return y}),n.d(t,"g",function(){return m}),n.d(t,"h",function(){return x});var r=n(171),a=n.n(r),i=Object.prototype,o=i.toString,l=i.hasOwnProperty,s=/^\s*function (\w+)/,c=function(e){var t=null!==e&&void 0!==e?e.type?e.type:e:null,n=t&&t.toString().match(s);return n&&n[1]},u=function(e){if(null===e||void 0===e)return null;var t=e.constructor.toString().match(s);return t&&t[1]},f=function(){},d=Number.isInteger||function(e){return"number"==typeof e&&isFinite(e)&&Math.floor(e)===e},h=Array.isArray||function(e){return"[object Array]"===o.call(e)},p=function(e){return"[object Function]"===o.call(e)},g=function(e){Object.defineProperty(e,"def",{value:function(e){return void 0!==e||this.default?p(e)||m(this,e)?(this.default=h(e)||a()(e)?function(){return e}:e,this):(x(this._vueTypes_name+' - invalid default value: "'+e+'"',e),this):this},enumerable:!1,writable:!1})},v=function(e){Object.defineProperty(e,"isRequired",{get:function(){return this.required=!0,this},enumerable:!1})},y=function(e,t){return Object.defineProperty(t,"_vueTypes_name",{enumerable:!1,writable:!1,value:e}),v(t),g(t),p(t.validator)&&(t.validator=t.validator.bind(t)),t},m=function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]&&arguments[2],i=t,o=!0,s=void 0;a()(t)||(i={type:t});var f=i._vueTypes_name?i._vueTypes_name+" - ":"";return l.call(i,"type")&&null!==i.type&&(h(i.type)?(o=i.type.some(function(t){return e(t,n,!0)}),s=i.type.map(function(e){return c(e)}).join(" or ")):(s=c(i),o="Array"===s?h(n):"Object"===s?a()(n):"String"===s||"Number"===s||"Boolean"===s||"Function"===s?u(n)===s:n instanceof i.type)),o?l.call(i,"validator")&&p(i.validator)?(o=i.validator(n),o||!1!==r||x(f+"custom validation failed"),o):o:(!1===r&&x(f+'value "'+n+'" should be of type "'+s+'"'),!1)},x=f},function(e,t,n){"use strict";var r=n(64);t.version="1.31.0",n(297).polyfill(),n(299),n(300),t.plot=r.plot,t.newPlot=r.newPlot,t.restyle=r.restyle,t.relayout=r.relayout,t.redraw=r.redraw,t.update=r.update,t.extendTraces=r.extendTraces,t.prependTraces=r.prependTraces,t.addTraces=r.addTraces,t.deleteTraces=r.deleteTraces,t.moveTraces=r.moveTraces,t.purge=r.purge,t.setPlotConfig=n(301),t.register=n(302),t.toImage=n(195),t.downloadImage=n(154),t.validate=n(303),t.addFrames=r.addFrames,t.deleteFrames=r.deleteFrames,t.animate=r.animate,t.register(n(304)),t.register([n(105),n(327),n(334),n(341),n(346),n(351),n(355),n(359),n(362),n(366)]),t.Icons=n(153),t.Plots=r.Plots,t.Fx=n(105),t.Snapshot=n(370),t.PlotSchema=n(115),t.Queue=n(197),t.d3=n(58)},function(e,t,n){"use strict";var r=n(117),a=/^\w*$/;e.exports=function(e,t,n,i){n=n||"name",i=i||"value";var o,l,s={};l=t&&t.length?r(e,t).get():e,t=t||"",l=l||[];var c={};for(o=0;o<l.length;o++)c[l[o][n]]=o;var u=a.test(i),f={set:function(e,t){var a=null===t?4:0,o=c[e];void 0===o?(a|=3,o=l.length,c[e]=o):t!==(u?l[o][i]:r(l[o],i).get())&&(a|=2);var d=l[o]=l[o]||{};return d[n]=e,u?d[i]=t:r(d,i).set(t),null!==t&&(a&=-5),s[o]=s[o]|a,f},get:function(e){var t=c[e];return void 0===t?void 0:u?l[t][i]:r(l[t],i).get()},rename:function(e,t){var r=c[e];return void 0===r?f:(s[r]=1|s[r],c[t]=r,delete c[e],l[r][n]=t,f)},remove:function(e){var t=c[e];if(void 0===t)return f;var a=l[t];if(Object.keys(a).length>2)return s[t]=2|s[t],f.set(e,null);if(u){for(o=t;o<l.length;o++)s[o]=3|s[o];for(o=t;o<l.length;o++)c[l[o][n]]--;l.splice(t,1),delete c[e]}else r(a,i).set(null),s[t]=6|s[t];return f},constructUpdate:function(){for(var e,a,o={},c=Object.keys(s),f=0;f<c.length;f++)a=c[f],e=t+"["+a+"]",l[a]?(1&s[a]&&(o[e+"."+n]=l[a][n]),2&s[a]&&(o[e+"."+i]=u?4&s[a]?null:l[a][i]:4&s[a]?null:r(l[a],i).get())):o[e]=null;return o}};return f}},function(e,t,n){"use strict";var r=/^(.*)(\.[^\.\[\]]+|\[\d\])$/,a=/^[^\.\[\]]+$/;e.exports=function(e,t){for(;t;){var n=e.match(r);if(n)e=n[1];else{if(!e.match(a))throw new Error("bad relativeAttr call:"+[e,t]);e=""}if("^"!==t.charAt(0))break;t=t.slice(1)}return e&&"["!==t.charAt(0)?e+"."+t:e+t}},function(e,t,n){"use strict";var r=n(140),a=n(101);e.exports=function e(t,n){for(var i=Object.keys(n||{}),o=0;o<i.length;o++){var l=i[o],s=n[l],c=t[l];if("_"===l.charAt(0)||"function"==typeof s){if(l in t)continue;t[l]=s}else if(r(s)&&r(c)&&a(s[0]))for(var u=0;u<s.length;u++)a(s[u])&&a(c[u])&&e(c[u],s[u]);else a(s)&&a(c)&&(e(c,s),Object.keys(c).length||delete t[l])}}},function(e,t,n){"use strict";e.exports=function(e,t){return Array.isArray(e)||(e=[]),e.length=t,e}},function(e,t,n){"use strict";var r=n(59),a=n(75),i=n(116),o=n(175),l=Object.keys(n(83)),s=n(117),c=n(178).counter;t.valObjectMeta={data_array:{description:["An {array} of data.","The value MUST be an {array}, or we ignore it."].join(" "),requiredOpts:[],otherOpts:["dflt"],coerceFunction:function(e,t,n){Array.isArray(e)?t.set(e):void 0!==n&&t.set(n)}},enumerated:{description:["Enumerated value type. The available values are listed","in `values`."].join(" "),requiredOpts:["values"],otherOpts:["dflt","coerceNumber","arrayOk"],coerceFunction:function(e,t,n,r){r.coerceNumber&&(e=+e),-1===r.values.indexOf(e)?t.set(n):t.set(e)},validateFunction:function(e,t){t.coerceNumber&&(e=+e);for(var n=t.values,r=0;r<n.length;r++){var a=String(n[r]);if("/"===a.charAt(0)&&"/"===a.charAt(a.length-1)){if(new RegExp(a.substr(1,a.length-2)).test(e))return!0}else if(e===n[r])return!0}return!1}},boolean:{description:"A boolean (true/false) value.",requiredOpts:[],otherOpts:["dflt"],coerceFunction:function(e,t,n){!0===e||!1===e?t.set(e):t.set(n)}},number:{description:["A number or a numeric value","(e.g. a number inside a string).","When applicable, values greater (less) than `max` (`min`)","are coerced to the `dflt`."].join(" "),requiredOpts:[],otherOpts:["dflt","min","max","arrayOk"],coerceFunction:function(e,t,n,a){!r(e)||void 0!==a.min&&e<a.min||void 0!==a.max&&e>a.max?t.set(n):t.set(+e)}},integer:{description:["An integer or an integer inside a string.","When applicable, values greater (less) than `max` (`min`)","are coerced to the `dflt`."].join(" "),requiredOpts:[],otherOpts:["dflt","min","max","arrayOk"],coerceFunction:function(e,t,n,a){e%1||!r(e)||void 0!==a.min&&e<a.min||void 0!==a.max&&e>a.max?t.set(n):t.set(+e)}},string:{description:["A string value.","Numbers are converted to strings except for attributes with","`strict` set to true."].join(" "),requiredOpts:[],otherOpts:["dflt","noBlank","strict","arrayOk","values"],coerceFunction:function(e,t,n,r){if("string"!=typeof e){var a="number"==typeof e;!0!==r.strict&&a?t.set(String(e)):t.set(n)}else r.noBlank&&!e?t.set(n):t.set(e)}},color:{description:["A string describing color.","Supported formats:","- hex (e.g. '#d3d3d3')","- rgb (e.g. 'rgb(255, 0, 0)')","- rgba (e.g. 'rgb(255, 0, 0, 0.5)')","- hsl (e.g. 'hsl(0, 100%, 50%)')","- hsv (e.g. 'hsv(0, 100%, 100%)')","- named colors (full list: http://www.w3.org/TR/css3-color/#svg-color)"].join(" "),requiredOpts:[],otherOpts:["dflt","arrayOk"],coerceFunction:function(e,t,n){a(e).isValid()?t.set(e):t.set(n)}},colorscale:{description:["A Plotly colorscale either picked by a name:","(any of",l.join(", "),")","customized as an {array} of 2-element {arrays} where","the first element is the normalized color level value","(starting at *0* and ending at *1*),","and the second item is a valid color string."].join(" "),requiredOpts:[],otherOpts:["dflt"],coerceFunction:function(e,t,n){t.set(o(e,n))}},angle:{description:["A number (in degree) between -180 and 180."].join(" "),requiredOpts:[],otherOpts:["dflt"],coerceFunction:function(e,t,n){"auto"===e?t.set("auto"):r(e)?(Math.abs(e)>180&&(e-=360*Math.round(e/360)),t.set(+e)):t.set(n)}},subplotid:{description:["An id string of a subplot type (given by dflt), optionally","followed by an integer >1. e.g. if dflt='geo', we can have","'geo', 'geo2', 'geo3', ..."].join(" "),requiredOpts:["dflt"],otherOpts:[],coerceFunction:function(e,t,n){if("string"==typeof e&&c(n).test(e))return void t.set(e);t.set(n)},validateFunction:function(e,t){var n=t.dflt;return e===n||"string"==typeof e&&!!c(n).test(e)}},flaglist:{description:["A string representing a combination of flags","(order does not matter here).","Combine any of the available `flags` with *+*.","(e.g. ('lines+markers')).","Values in `extras` cannot be combined."].join(" "),requiredOpts:["flags"],otherOpts:["dflt","extras","arrayOk"],coerceFunction:function(e,t,n,r){if("string"!=typeof e)return void t.set(n);if(-1!==(r.extras||[]).indexOf(e))return void t.set(e);for(var a=e.split("+"),i=0;i<a.length;){var o=a[i];-1===r.flags.indexOf(o)||a.indexOf(o)<i?a.splice(i,1):i++}a.length?t.set(a.join("+")):t.set(n)}},any:{description:"Any type.",requiredOpts:[],otherOpts:["dflt","values","arrayOk"],coerceFunction:function(e,t,n){void 0===e?t.set(n):t.set(e)}},info_array:{description:["An {array} of plot information."].join(" "),requiredOpts:["items"],otherOpts:["dflt","freeLength"],coerceFunction:function(e,n,r,a){if(!Array.isArray(e))return void n.set(r);var i=a.items,o=[];r=Array.isArray(r)?r:[];for(var l=0;l<i.length;l++)t.coerce(e,o,i,"["+l+"]",r[l]);n.set(o)},validateFunction:function(e,n){if(!Array.isArray(e))return!1;var r=n.items;if(!n.freeLength&&e.length!==r.length)return!1;for(var a=0;a<e.length;a++){if(!t.validate(e[a],n.items[a]))return!1}return!0}}},t.coerce=function(e,n,r,a,i){var o=s(r,a).get(),l=s(e,a),c=s(n,a),u=l.get();return void 0===i&&(i=o.dflt),o.arrayOk&&Array.isArray(u)?(c.set(u),u):(t.valObjectMeta[o.valType].coerceFunction(u,c,i,o),c.get())},t.coerce2=function(e,n,r,a,i){var o=s(e,a),l=t.coerce(e,n,r,a,i),c=o.get();return void 0!==c&&null!==c&&l},t.coerceFont=function(e,t,n){var r={};return n=n||{},r.family=e(t+".family",n.family),r.size=e(t+".size",n.size),r.color=e(t+".color",n.color),r},t.coerceHoverinfo=function(e,n,r){var a,o=n._module.attributes,l=o.hoverinfo?{hoverinfo:o.hoverinfo}:i,s=l.hoverinfo;if(1===r._dataLength){var c="all"===s.dflt?s.flags.slice():s.dflt.split("+");c.splice(c.indexOf("name"),1),a=c.join("+")}return t.coerce(e,n,l,"hoverinfo",a)},t.validate=function(e,n){var r=t.valObjectMeta[n.valType];if(n.arrayOk&&Array.isArray(e))return!0;if(r.validateFunction)return r.validateFunction(e,n);var a={},i=a,o={set:function(e){i=e}};return r.coerceFunction(e,o,a,n),i!==a}},function(e,t,n){"use strict";function r(e){return e&&k.componentsRegistry.calendars&&"string"==typeof e&&"gregorian"!==e}function a(e,t){return String(e+Math.pow(10,t)).substr(1)}function i(e,t,n,r,i){if((t||n||r||i)&&(e+=" "+a(t,2)+":"+a(n,2),(r||i)&&(e+=":"+a(r,2),i))){for(var o=4;i%10==0;)o-=1,i/=10;e+="."+a(i,o)}return e}function o(e,t,n){e=e.replace(D,function(e){var n=Math.min(+e.charAt(1)||6,6);return(t/1e3%1+2).toFixed(n).substr(2).replace(/0+$/,"")||"0"});var a=new Date(Math.floor(t+.05));if(r(n))try{e=k.getComponentMethod("calendars","worldCalFmt")(e,t,n)}catch(e){return"Invalid"}return M(e)(a)}function l(e,t){var n=g(e+.05,m),r=a(Math.floor(n/x),2)+":"+a(g(Math.floor(n/b),60),2);if("M"!==t){h(t)||(t=0);var i=Math.min(g(e/_,60),I[t]),o=(100+i).toFixed(t).substr(1);t>0&&(o=o.replace(/0+$/,"").replace(/[\.]$/,"")),r+=":"+o}return r}function s(e){return e.formatDate("yyyy")}function c(e){return e.formatDate("M yyyy")}function u(e){return e.formatDate("M d")}function f(e){return e.formatDate("M d, yyyy")}var d=n(58),h=n(59),p=n(100).error,g=n(141),v=n(69),y=v.BADNUM,m=v.ONEDAY,x=v.ONEHOUR,b=v.ONEMIN,_=v.ONESEC,w=v.EPOCHJD,k=n(61),M=d.time.format.utc,A=/^\s*(-?\d\d\d\d|\d\d)(-(\d?\d)(-(\d?\d)([ Tt]([01]?\d|2[0-3])(:([0-5]\d)(:([0-5]\d(\.\d+)?))?(Z|z|[+\-]\d\d:?\d\d)?)?)?)?)?\s*$/m,T=/^\s*(-?\d\d\d\d|\d\d)(-(\d?\di?)(-(\d?\d)([ Tt]([01]?\d|2[0-3])(:([0-5]\d)(:([0-5]\d(\.\d+)?))?(Z|z|[+\-]\d\d:?\d\d)?)?)?)?)?\s*$/m,S=(new Date).getFullYear()-70;t.dateTick0=function(e,t){return r(e)?t?k.getComponentMethod("calendars","CANONICAL_SUNDAY")[e]:k.getComponentMethod("calendars","CANONICAL_TICK")[e]:t?"2000-01-02":"2000-01-01"},t.dfltRange=function(e){return r(e)?k.getComponentMethod("calendars","DFLTRANGE")[e]:["2000-01-01","2001-01-01"]},t.isJSDate=function(e){return"object"==typeof e&&null!==e&&"function"==typeof e.getTime};var L,C;t.dateTime2ms=function(e,n){if(t.isJSDate(e))return e=Number(e)-e.getTimezoneOffset()*b,e>=L&&e<=C?e:y;if("string"!=typeof e&&"number"!=typeof e)return y;e=String(e);var a=r(n),i=e.charAt(0);!a||"G"!==i&&"g"!==i||(e=e.substr(1),n="");var o=a&&"chinese"===n.substr(0,7),l=e.match(o?T:A);if(!l)return y;var s=l[1],c=l[3]||"1",u=Number(l[5]||1),f=Number(l[7]||0),d=Number(l[9]||0),h=Number(l[11]||0);if(a){if(2===s.length)return y;s=Number(s);var p;try{var g=k.getComponentMethod("calendars","getCal")(n);if(o){var v="i"===c.charAt(c.length-1);c=parseInt(c,10),p=g.newDate(s,g.toMonthIndex(s,c,v),u)}else p=g.newDate(s,Number(c),u)}catch(e){return y}return p?(p.toJD()-w)*m+f*x+d*b+h*_:y}s=2===s.length?(Number(s)+2e3-S)%100+S:Number(s),c-=1;var M=new Date(Date.UTC(2e3,c,u,f,d));return M.setUTCFullYear(s),M.getUTCMonth()!==c?y:M.getUTCDate()!==u?y:M.getTime()+h*_},L=t.MIN_MS=t.dateTime2ms("-9999"),C=t.MAX_MS=t.dateTime2ms("9999-12-31 23:59:59.9999"),t.isDateTime=function(e,n){return t.dateTime2ms(e,n)!==y};var O=90*m,z=3*x,j=5*b;t.ms2DateTime=function(e,t,n){if("number"!=typeof e||!(e>=L&&e<=C))return y;t||(t=0);var a,o,l,s,c,u,f=Math.floor(10*g(e+.05,1)),d=Math.round(e-f/10);if(r(n)){var h=Math.floor(d/m)+w,p=Math.floor(g(e,m));try{a=k.getComponentMethod("calendars","getCal")(n).fromJD(h).formatDate("yyyy-mm-dd")}catch(e){a=M("G%Y-%m-%d")(new Date(d))}if("-"===a.charAt(0))for(;a.length<11;)a="-0"+a.substr(1);else for(;a.length<10;)a="0"+a;o=t<O?Math.floor(p/x):0,l=t<O?Math.floor(p%x/b):0,s=t<z?Math.floor(p%b/_):0,c=t<j?p%_*10+f:0}else u=new Date(d),a=M("%Y-%m-%d")(u),o=t<O?u.getUTCHours():0,l=t<O?u.getUTCMinutes():0,s=t<z?u.getUTCSeconds():0,c=t<j?10*u.getUTCMilliseconds()+f:0;return i(a,o,l,s,c)},t.ms2DateTimeLocal=function(e){if(!(e>=L+m&&e<=C-m))return y;var t=Math.floor(10*g(e+.05,1)),n=new Date(Math.round(e-t/10));return i(d.time.format("%Y-%m-%d")(n),n.getHours(),n.getMinutes(),n.getSeconds(),10*n.getUTCMilliseconds()+t)},t.cleanDate=function(e,n,a){if(t.isJSDate(e)||"number"==typeof e){if(r(a))return p("JS Dates and milliseconds are incompatible with world calendars",e),n;if(!(e=t.ms2DateTimeLocal(+e))&&void 0!==n)return n}else if(!t.isDateTime(e,a))return p("unrecognized date",e),n;return e};var D=/%\d?f/g,I=[59,59.9,59.99,59.999,59.9999],P=M("%Y"),E=M("%b %Y"),N=M("%b %-d"),R=M("%b %-d, %Y");t.formatDate=function(e,t,n,a){var i,d;if(a=r(a)&&a,t)return o(t,e,a);if(a)try{var h=Math.floor((e+.05)/m)+w,p=k.getComponentMethod("calendars","getCal")(a).fromJD(h);"y"===n?d=s(p):"m"===n?d=c(p):"d"===n?(i=s(p),d=u(p)):(i=f(p),d=l(e,n))}catch(e){return"Invalid"}else{var g=new Date(Math.floor(e+.05));"y"===n?d=P(g):"m"===n?d=E(g):"d"===n?(i=P(g),d=N(g)):(i=R(g),d=l(e,n))}return d+(i?"\n"+i:"")};var F=3*m;t.incrementMonth=function(e,t,n){n=r(n)&&n;var a=g(e,m);if(e=Math.round(e-a),n)try{var i=Math.round(e/m)+w,o=k.getComponentMethod("calendars","getCal")(n),l=o.fromJD(i);return t%12?o.add(l,t,"m"):o.add(l,t/12,"y"),(l.toJD()-w)*m+a}catch(t){p("invalid ms "+e+" in calendar "+n)}var s=new Date(e+F);return s.setUTCMonth(s.getUTCMonth()+t)+a-F},t.findExactDates=function(e,t){for(var n,a,i=0,o=0,l=0,s=0,c=r(t)&&k.getComponentMethod("calendars","getCal")(t),u=0;u<e.length;u++)if(a=e[u],h(a)){if(!(a%m))if(c)try{n=c.fromJD(a/m+w),1===n.day()?1===n.month()?i++:o++:l++}catch(e){}else n=new Date(a),1===n.getUTCDate()?0===n.getUTCMonth()?i++:o++:l++}else s++;o+=i,l+=o;var f=e.length-s;return{exactYears:i/f,exactMonths:o/f,exactDays:l/f}}},function(e,t,n){"use strict";var r=n(59);t.aggNums=function(e,n,a,i){var o,l;if(i||(i=a.length),r(n)||(n=!1),Array.isArray(a[0])){for(l=new Array(i),o=0;o<i;o++)l[o]=t.aggNums(e,n,a[o]);a=l}for(o=0;o<i;o++)r(n)?r(a[o])&&(n=e(+n,+a[o])):n=a[o];return n},t.len=function(e){return t.aggNums(function(e){return e+1},0,e)},t.mean=function(e,n){return n||(n=t.len(e)),t.aggNums(function(e,t){return e+t},0,e)/n},t.variance=function(e,n,a){return n||(n=t.len(e)),r(a)||(a=t.mean(e,n)),t.aggNums(function(e,t){return e+Math.pow(t-a,2)},0,e)/n},t.stdev=function(e,n,r){return Math.sqrt(t.variance(e,n,r))},t.interp=function(e,t){if(!r(t))throw"n should be a finite number";if((t=t*e.length-.5)<0)return e[0];if(t>e.length-1)return e[e.length-1];var n=t%1;return n*e[Math.ceil(t)]+(1-n)*e[Math.floor(t)]}},function(e,t,n){"use strict";function r(e,t,n,r,a,i,o,l){var s=n-e,c=a-e,u=o-a,f=r-t,d=i-t,h=l-i,p=s*h-u*f;if(0===p)return null;var g=(c*h-u*d)/p,v=(c*f-s*d)/p;return v<0||v>1||g<0||g>1?null:{x:e+s*g,y:t+f*g}}function a(e,t,n,r,a){var i=r*e+a*t;if(i<0)return r*r+a*a;if(i>n){var o=r-e,l=a-t;return o*o+l*l}var s=r*t-a*e;return s*s/n}var i=n(141);t.segmentsIntersect=r,t.segmentDistance=function(e,t,n,i,o,l,s,c){if(r(e,t,n,i,o,l,s,c))return 0;var u=n-e,f=i-t,d=s-o,h=c-l,p=u*u+f*f,g=d*d+h*h,v=Math.min(a(u,f,p,o-e,l-t),a(u,f,p,s-e,c-t),a(d,h,g,e-o,t-l),a(d,h,g,n-o,i-l));return Math.sqrt(v)};var o,l,s;t.getTextLocation=function(e,t,n,r){if(e===l&&r===s||(o={},l=e,s=r),o[n])return o[n];var a=e.getPointAtLength(i(n-r/2,t)),c=e.getPointAtLength(i(n+r/2,t)),u=Math.atan((c.y-a.y)/(c.x-a.x)),f=e.getPointAtLength(i(n,t)),d=(4*f.x+a.x+c.x)/6,h=(4*f.y+a.y+c.y)/6,p={x:d,y:h,theta:u};return o[n]=p,p},t.clearLocationCache=function(){l=null},t.getVisibleSegment=function(e,t,n){function r(t){var n=e.getPointAtLength(t);0===t?a=n:t===f&&(i=n);var r=n.x<o?o-n.x:n.x>l?n.x-l:0,u=n.y<s?s-n.y:n.y>c?n.y-c:0;return Math.sqrt(r*r+u*u)}for(var a,i,o=t.left,l=t.right,s=t.top,c=t.bottom,u=0,f=e.getTotalLength(),d=f,h=r(u);h;){if((u+=h+n)>d)return;h=r(u)}for(h=r(d);h;){if(d-=h+n,u>d)return;h=r(d)}return{min:u,max:d,len:d-u,total:f,isClosed:0===u&&d===f&&Math.abs(a.x-i.x)<.1&&Math.abs(a.y-i.y)<.1}}},function(e,t,n){"use strict";var r=n(58),a=n(59),i=[];e.exports=function(e,t){function n(e){e.duration(700).style("opacity",0).each("end",function(e){var t=i.indexOf(e);-1!==t&&i.splice(t,1),r.select(this).remove()})}if(-1===i.indexOf(e)){i.push(e);var o=1e3;a(t)?o=t:"long"===t&&(o=3e3);var l=r.select("body").selectAll(".plotly-notifier").data([0]);l.enter().append("div").classed("plotly-notifier",!0);l.selectAll(".notifier-note").data(i).enter().append("div").classed("notifier-note",!0).style("opacity",0).each(function(e){var t=r.select(this);t.append("button").classed("notifier-close",!0).html("&times;").on("click",function(){t.transition().call(n)});for(var a=t.append("p"),i=e.split(/<br\s*\/?>/g),l=0;l<i.length;l++)l&&a.append("br"),a.append("span").text(i[l]);t.transition().duration(700).style("opacity",1).transition().delay(o).call(n)})}}},function(e,t,n){"use strict";e.exports=function(e){for(var t={},n=[],r=0,a=0;a<e.length;a++){var i=e[a];1!==t[i]&&(t[i]=1,n[r++]=i)}return n}},function(e,t,n){"use strict";e.exports=function(e){for(var t=[],n=0;n<e.length;n++){var r=e[n];!0===r.visible&&t.push(r)}return t}},function(e,t,n){"use strict";var r=n(59),a=n(69).BADNUM,i=/^['"%,$#\s']+|[, ]|['"%,$#\s']+$/g;e.exports=function(e){return"string"==typeof e&&(e=e.replace(i,"")),r(e)?Number(e):a}},function(e,t,n){"use strict";e.exports=function(e){return e}},function(e,t,n){"use strict";var r=n(118),a=r.marker;e.exports={r:r.r,t:r.t,marker:{color:a.color,size:a.size,symbol:a.symbol,opacity:a.opacity,editType:"calc"}}},function(e,t,n){"use strict";var r=n(183),a=n(67).extendFlat,i=n(83);e.exports=function(e,t,n){var o=e?e+".":"";return{color:{valType:"color",arrayOk:!0,role:"style",editType:t||"style",description:["Sets the",e,"color. It accepts either a specific color","or an array of numbers that are mapped to the colorscale","relative to the max and min values of the array or relative to","`cmin` and `cmax` if set."].join(" ")},colorscale:a({},r.colorscale,{description:["Sets the colorscale and only has an effect","if `"+o+"color` is set to a numerical array.","The colorscale must be an array containing","arrays mapping a normalized value to an","rgb, rgba, hex, hsl, hsv, or named color string.","At minimum, a mapping for the lowest (0) and highest (1)","values are required. For example,","`[[0, 'rgb(0,0,255)', [1, 'rgb(255,0,0)']]`.","To control the bounds of the colorscale in color space,","use `"+o+"cmin` and `"+o+"cmax`.","Alternatively, `colorscale` may be a palette name string","of the following list:",Object.keys(i).join(", ")].join(" ")}),cauto:a({},r.zauto,{impliedEdits:{cmin:void 0,cmax:void 0},description:["Has an effect only if `"+o+"color` is set to a numerical array","and `cmin`, `cmax` are set by the user. In this case,","it controls whether the range of colors in `colorscale` is mapped to","the range of values in the `color` array (`cauto: true`), or the `cmin`/`cmax`","values (`cauto: false`).","Defaults to `false` when `cmin`, `cmax` are set by the user."].join(" ")}),cmax:a({},r.zmax,{editType:t||r.zmax.editType,impliedEdits:{cauto:!1},description:["Has an effect only if `"+o+"color` is set to a numerical array.","Sets the upper bound of the color domain.","Value should be associated to the `"+o+"color` array index,","and if set, `"+o+"cmin` must be set as well."].join(" ")}),cmin:a({},r.zmin,{editType:t||r.zmin.editType,impliedEdits:{cauto:!1},description:["Has an effect only if `"+o+"color` is set to a numerical array.","Sets the lower bound of the color domain.","Value should be associated to the `"+o+"color` array index,","and if set, `"+o+"cmax` must be set as well."].join(" ")}),autocolorscale:a({},r.autocolorscale,{description:["Has an effect only if `"+o+"color` is set to a numerical array.","Determines whether the colorscale is a default palette (`autocolorscale: true`)","or the palette determined by `"+o+"colorscale`.","In case `colorscale` is unspecified or `autocolorscale` is true, the default ","palette will be chosen according to whether numbers in the `color` array are","all positive, all negative or mixed."].join(" "),dflt:!1===n?n:r.autocolorscale.dflt}),reversescale:a({},r.reversescale,{description:["Has an effect only if `"+o+"color` is set to a numerical array.","Reverses the color mapping if true (`cmin` will correspond to the last color","in the array and `cmax` will correspond to the first color)."].join(" ")})}}},function(e,t,n){"use strict";var r=n(57);e.exports=function(e){return r.isPlainObject(e.colorbar)}},function(e,t,n){"use strict";var r=n(57),a=n(185),i=n(186),o=n(187),l=n(146);e.exports=function(e,t,n){function s(e,t){return r.coerce(u,c,l,e,t)}var c=t.colorbar={},u=e.colorbar||{};s("thickness","fraction"===s("thicknessmode")?30/(n.width-n.margin.l-n.margin.r):30),s("len","fraction"===s("lenmode")?1:n.height-n.margin.t-n.margin.b),s("x"),s("xanchor"),s("xpad"),s("y"),s("yanchor"),s("ypad"),r.noneOrAll(u,c,["x","y"]),s("outlinecolor"),s("outlinewidth"),s("bordercolor"),s("borderwidth"),s("bgcolor"),a(u,c,s,"linear"),o(u,c,s,"linear",{outerTicks:!1,font:n.font,noHover:!0}),i(u,c,s,"linear",{outerTicks:!1,font:n.font,noHover:!0}),s("title"),r.coerceFont(s,"titlefont",n.font),s("titleside")}},function(e,t,n){"use strict";e.exports=function(e,t,n){for(var r=e.length,a=new Array(r),i=new Array(r),o=0;o<r;o++){var l=e[o];a[o]=t+l[0]*(n-t),i[o]=l[1]}return{domain:a,range:i}}},function(e,t,n){"use strict";function r(e){var t={r:e[0],g:e[1],b:e[2],a:e[3]};return i(t).toRgbString()}var a=n(58),i=n(75),o=n(59),l=n(60);e.exports=function(e,t){t=t||{};for(var n=e.domain,s=e.range,c=s.length,u=new Array(c),f=0;f<c;f++){var d=i(s[f]).toRgb();u[f]=[d.r,d.g,d.b,d.a]}var h,p=a.scale.linear().domain(n).range(u).clamp(!0),g=t.noNumericCheck,v=t.returnArray;return h=g&&v?p:g?function(e){return r(p(e))}:v?function(e){return o(e)?p(e):i(e).isValid()?e:l.defaultLine}:function(e){return o(e)?r(p(e)):i(e).isValid()?e:l.defaultLine},h.domain=p.domain,h.range=function(){return s},h}},function(e,t,n){"use strict";e.exports={entityToUnicode:{mu:"μ","#956":"μ",amp:"&","#28":"&",lt:"<","#60":"<",gt:">","#62":">",nbsp:" ","#160":" ",times:"×","#215":"×",plusmn:"±","#177":"±",deg:"°","#176":"°"}}},function(e,t,n){"use strict";var r=n(59);e.exports=function(e){var t=e.marker,n=t.sizeref||1,a=t.sizemin||0,i="area"===t.sizemode?function(e){return Math.sqrt(e/n)}:function(e){return e/n};return function(e){var t=i(e/2);return r(t)&&t>0?Math.max(t,a):0}}},function(e,t,n){"use strict";var r=n(58);e.exports={circle:{n:0,f:function(e){var t=r.round(e,2);return"M"+t+",0A"+t+","+t+" 0 1,1 0,-"+t+"A"+t+","+t+" 0 0,1 "+t+",0Z"}},square:{n:1,f:function(e){var t=r.round(e,2);return"M"+t+","+t+"H-"+t+"V-"+t+"H"+t+"Z"}},diamond:{n:2,f:function(e){var t=r.round(1.3*e,2);return"M"+t+",0L0,"+t+"L-"+t+",0L0,-"+t+"Z"}},cross:{n:3,f:function(e){var t=r.round(.4*e,2),n=r.round(1.2*e,2);return"M"+n+","+t+"H"+t+"V"+n+"H-"+t+"V"+t+"H-"+n+"V-"+t+"H-"+t+"V-"+n+"H"+t+"V-"+t+"H"+n+"Z"}},x:{n:4,f:function(e){var t=r.round(.8*e/Math.sqrt(2),2),n="l"+t+","+t,a="l"+t+",-"+t,i="l-"+t+",-"+t,o="l-"+t+","+t;return"M0,"+t+n+a+i+a+i+o+i+o+n+o+n+"Z"}},"triangle-up":{n:5,f:function(e){var t=r.round(2*e/Math.sqrt(3),2);return"M-"+t+","+r.round(e/2,2)+"H"+t+"L0,-"+r.round(e,2)+"Z"}},"triangle-down":{n:6,f:function(e){var t=r.round(2*e/Math.sqrt(3),2);return"M-"+t+",-"+r.round(e/2,2)+"H"+t+"L0,"+r.round(e,2)+"Z"}},"triangle-left":{n:7,f:function(e){var t=r.round(2*e/Math.sqrt(3),2);return"M"+r.round(e/2,2)+",-"+t+"V"+t+"L-"+r.round(e,2)+",0Z"}},"triangle-right":{n:8,f:function(e){var t=r.round(2*e/Math.sqrt(3),2);return"M-"+r.round(e/2,2)+",-"+t+"V"+t+"L"+r.round(e,2)+",0Z"}},"triangle-ne":{n:9,f:function(e){var t=r.round(.6*e,2),n=r.round(1.2*e,2);return"M-"+n+",-"+t+"H"+t+"V"+n+"Z"}},"triangle-se":{n:10,f:function(e){var t=r.round(.6*e,2),n=r.round(1.2*e,2);return"M"+t+",-"+n+"V"+t+"H-"+n+"Z"}},"triangle-sw":{n:11,f:function(e){var t=r.round(.6*e,2),n=r.round(1.2*e,2);return"M"+n+","+t+"H-"+t+"V-"+n+"Z"}},"triangle-nw":{n:12,f:function(e){var t=r.round(.6*e,2),n=r.round(1.2*e,2);return"M-"+t+","+n+"V-"+t+"H"+n+"Z"}},pentagon:{n:13,f:function(e){var t=r.round(.951*e,2),n=r.round(.588*e,2),a=r.round(-e,2),i=r.round(-.309*e,2);return"M"+t+","+i+"L"+n+","+r.round(.809*e,2)+"H-"+n+"L-"+t+","+i+"L0,"+a+"Z"}},hexagon:{n:14,f:function(e){var t=r.round(e,2),n=r.round(e/2,2),a=r.round(e*Math.sqrt(3)/2,2);return"M"+a+",-"+n+"V"+n+"L0,"+t+"L-"+a+","+n+"V-"+n+"L0,-"+t+"Z"}},hexagon2:{n:15,f:function(e){var t=r.round(e,2),n=r.round(e/2,2),a=r.round(e*Math.sqrt(3)/2,2);return"M-"+n+","+a+"H"+n+"L"+t+",0L"+n+",-"+a+"H-"+n+"L-"+t+",0Z"}},octagon:{n:16,f:function(e){var t=r.round(.924*e,2),n=r.round(.383*e,2);return"M-"+n+",-"+t+"H"+n+"L"+t+",-"+n+"V"+n+"L"+n+","+t+"H-"+n+"L-"+t+","+n+"V-"+n+"Z"}},star:{n:17,f:function(e){var t=1.4*e,n=r.round(.225*t,2),a=r.round(.951*t,2),i=r.round(.363*t,2),o=r.round(.588*t,2),l=r.round(-t,2),s=r.round(-.309*t,2),c=r.round(.118*t,2),u=r.round(.809*t,2);return"M"+n+","+s+"H"+a+"L"+i+","+c+"L"+o+","+u+"L0,"+r.round(.382*t,2)+"L-"+o+","+u+"L-"+i+","+c+"L-"+a+","+s+"H-"+n+"L0,"+l+"Z"}},hexagram:{n:18,f:function(e){var t=r.round(.66*e,2),n=r.round(.38*e,2),a=r.round(.76*e,2);return"M-"+a+",0l-"+n+",-"+t+"h"+a+"l"+n+",-"+t+"l"+n+","+t+"h"+a+"l-"+n+","+t+"l"+n+","+t+"h-"+a+"l-"+n+","+t+"l-"+n+",-"+t+"h-"+a+"Z"}},"star-triangle-up":{n:19,f:function(e){var t=r.round(e*Math.sqrt(3)*.8,2),n=r.round(.8*e,2),a=r.round(1.6*e,2),i=r.round(4*e,2),o="A "+i+","+i+" 0 0 1 ";return"M-"+t+","+n+o+t+","+n+o+"0,-"+a+o+"-"+t+","+n+"Z"}},"star-triangle-down":{n:20,f:function(e){var t=r.round(e*Math.sqrt(3)*.8,2),n=r.round(.8*e,2),a=r.round(1.6*e,2),i=r.round(4*e,2),o="A "+i+","+i+" 0 0 1 ";return"M"+t+",-"+n+o+"-"+t+",-"+n+o+"0,"+a+o+t+",-"+n+"Z"}},"star-square":{n:21,f:function(e){var t=r.round(1.1*e,2),n=r.round(2*e,2),a="A "+n+","+n+" 0 0 1 ";return"M-"+t+",-"+t+a+"-"+t+","+t+a+t+","+t+a+t+",-"+t+a+"-"+t+",-"+t+"Z"}},"star-diamond":{n:22,f:function(e){var t=r.round(1.4*e,2),n=r.round(1.9*e,2),a="A "+n+","+n+" 0 0 1 ";return"M-"+t+",0"+a+"0,"+t+a+t+",0"+a+"0,-"+t+a+"-"+t+",0Z"}},"diamond-tall":{n:23,f:function(e){var t=r.round(.7*e,2),n=r.round(1.4*e,2);return"M0,"+n+"L"+t+",0L0,-"+n+"L-"+t+",0Z"}},"diamond-wide":{n:24,f:function(e){var t=r.round(1.4*e,2),n=r.round(.7*e,2);return"M0,"+n+"L"+t+",0L0,-"+n+"L-"+t+",0Z"}},hourglass:{n:25,f:function(e){var t=r.round(e,2);return"M"+t+","+t+"H-"+t+"L"+t+",-"+t+"H-"+t+"Z"},noDot:!0},bowtie:{n:26,f:function(e){var t=r.round(e,2);return"M"+t+","+t+"V-"+t+"L-"+t+","+t+"V-"+t+"Z"},noDot:!0},"circle-cross":{n:27,f:function(e){var t=r.round(e,2);return"M0,"+t+"V-"+t+"M"+t+",0H-"+t+"M"+t+",0A"+t+","+t+" 0 1,1 0,-"+t+"A"+t+","+t+" 0 0,1 "+t+",0Z"},needLine:!0,noDot:!0},"circle-x":{n:28,f:function(e){var t=r.round(e,2),n=r.round(e/Math.sqrt(2),2);return"M"+n+","+n+"L-"+n+",-"+n+"M"+n+",-"+n+"L-"+n+","+n+"M"+t+",0A"+t+","+t+" 0 1,1 0,-"+t+"A"+t+","+t+" 0 0,1 "+t+",0Z"},needLine:!0,noDot:!0},"square-cross":{n:29,f:function(e){var t=r.round(e,2);return"M0,"+t+"V-"+t+"M"+t+",0H-"+t+"M"+t+","+t+"H-"+t+"V-"+t+"H"+t+"Z"},needLine:!0,noDot:!0},"square-x":{n:30,f:function(e){var t=r.round(e,2);return"M"+t+","+t+"L-"+t+",-"+t+"M"+t+",-"+t+"L-"+t+","+t+"M"+t+","+t+"H-"+t+"V-"+t+"H"+t+"Z"},needLine:!0,noDot:!0},"diamond-cross":{n:31,f:function(e){var t=r.round(1.3*e,2);return"M"+t+",0L0,"+t+"L-"+t+",0L0,-"+t+"ZM0,-"+t+"V"+t+"M-"+t+",0H"+t},needLine:!0,noDot:!0},"diamond-x":{n:32,f:function(e){var t=r.round(1.3*e,2),n=r.round(.65*e,2);return"M"+t+",0L0,"+t+"L-"+t+",0L0,-"+t+"ZM-"+n+",-"+n+"L"+n+","+n+"M-"+n+","+n+"L"+n+",-"+n},needLine:!0,noDot:!0},"cross-thin":{n:33,f:function(e){var t=r.round(1.4*e,2);return"M0,"+t+"V-"+t+"M"+t+",0H-"+t},needLine:!0,noDot:!0},"x-thin":{n:34,f:function(e){var t=r.round(e,2);return"M"+t+","+t+"L-"+t+",-"+t+"M"+t+",-"+t+"L-"+t+","+t},needLine:!0,noDot:!0},asterisk:{n:35,f:function(e){var t=r.round(1.2*e,2),n=r.round(.85*e,2);return"M0,"+t+"V-"+t+"M"+t+",0H-"+t+"M"+n+","+n+"L-"+n+",-"+n+"M"+n+",-"+n+"L-"+n+","+n},needLine:!0,noDot:!0},hash:{n:36,f:function(e){var t=r.round(e/2,2),n=r.round(e,2);return"M"+t+","+n+"V-"+n+"m-"+n+",0V"+n+"M"+n+","+t+"H-"+n+"m0,-"+n+"H"+n},needLine:!0},"y-up":{n:37,f:function(e){var t=r.round(1.2*e,2),n=r.round(1.6*e,2),a=r.round(.8*e,2);return"M-"+t+","+a+"L0,0M"+t+","+a+"L0,0M0,-"+n+"L0,0"},needLine:!0,noDot:!0},"y-down":{n:38,f:function(e){var t=r.round(1.2*e,2),n=r.round(1.6*e,2),a=r.round(.8*e,2);return"M-"+t+",-"+a+"L0,0M"+t+",-"+a+"L0,0M0,"+n+"L0,0"},needLine:!0,noDot:!0},"y-left":{n:39,f:function(e){var t=r.round(1.2*e,2),n=r.round(1.6*e,2),a=r.round(.8*e,2);return"M"+a+","+t+"L0,0M"+a+",-"+t+"L0,0M-"+n+",0L0,0"},needLine:!0,noDot:!0},"y-right":{n:40,f:function(e){var t=r.round(1.2*e,2),n=r.round(1.6*e,2),a=r.round(.8*e,2);return"M-"+a+","+t+"L0,0M-"+a+",-"+t+"L0,0M"+n+",0L0,0"},needLine:!0,noDot:!0},"line-ew":{n:41,f:function(e){var t=r.round(1.4*e,2);return"M"+t+",0H-"+t},needLine:!0,noDot:!0},"line-ns":{n:42,f:function(e){var t=r.round(1.4*e,2);return"M0,"+t+"V-"+t},needLine:!0,noDot:!0},"line-ne":{n:43,f:function(e){var t=r.round(e,2);return"M"+t+",-"+t+"L-"+t+","+t},needLine:!0,noDot:!0},"line-nw":{n:44,f:function(e){var t=r.round(e,2);return"M"+t+","+t+"L-"+t+",-"+t},needLine:!0,noDot:!0}}},function(e,t,n){"use strict";function r(e,t){var n={showline:{valType:"boolean",role:"style",description:["Determines whether or not the line bounding this",e,"axis","will be shown on the figure."].join(" ")},showticklabels:{valType:"boolean",role:"style",description:["Determines whether or not the",e,"axis ticks","will feature tick labels."].join(" ")},tickorientation:{valType:"enumerated",values:["horizontal","vertical"],role:"style",description:["Sets the orientation (from the paper perspective)","of the",e,"axis tick labels."].join(" ")},ticklen:{valType:"number",min:0,role:"style",description:["Sets the length of the tick lines on this",e,"axis."].join(" ")},tickcolor:{valType:"color",role:"style",description:["Sets the color of the tick lines on this",e,"axis."].join(" ")},ticksuffix:{valType:"string",role:"style",description:["Sets the length of the tick lines on this",e,"axis."].join(" ")},endpadding:{valType:"number",role:"style"},visible:{valType:"boolean",role:"info",description:["Determines whether or not this axis will be visible."].join(" ")}};return i({},t,n)}var a=n(80),i=n(67).extendFlat,o=n(84).overrideAll,l=i({},a.domain,{description:["Polar chart subplots are not supported yet.","This key has currently no effect."].join(" ")});e.exports=o({radialaxis:r("radial",{range:{valType:"info_array",role:"info",items:[{valType:"number"},{valType:"number"}],description:["Defines the start and end point of this radial axis."].join(" ")},domain:l,orientation:{valType:"number",role:"style",description:["Sets the orientation (an angle with respect to the origin)","of the radial axis."].join(" ")}}),angularaxis:r("angular",{range:{valType:"info_array",role:"info",items:[{valType:"number",dflt:0},{valType:"number",dflt:360}],description:["Defines the start and end point of this angular axis."].join(" ")},domain:l}),layout:{direction:{valType:"enumerated",values:["clockwise","counterclockwise"],role:"info",description:["For polar plots only.","Sets the direction corresponding to positive angles."].join(" ")},orientation:{valType:"angle",role:"info",description:["For polar plots only.","Rotates the entire polar by the given angle."].join(" ")}}},"plot","nested")},function(e,t,n){"use strict";function r(e,t,n,r){var i=t["error_"+r]||{},s=i.visible&&-1!==["linear","log"].indexOf(n.type),c=[];if(s){for(var u=l(i),f=0;f<e.length;f++){var d=e[f],h=d[r];if(a(n.c2l(h))){var p=u(h,f);if(a(p[0])&&a(p[1])){var g=d[r+"s"]=h-p[0],v=d[r+"h"]=h+p[1];c.push(g,v)}}}o.expand(n,c,{padded:!0})}}var a=n(59),i=n(61),o=n(63),l=n(267);e.exports=function(e){for(var t=e.calcdata,n=0;n<t.length;n++){var a=t[n],l=a[0].trace;if(i.traceIs(l,"errorBarsOK")){var s=o.getFromId(e,l.xaxis),c=o.getFromId(e,l.yaxis);r(a,l,s,"x"),r(a,l,c,"y")}}}},function(e,t,n){"use strict";var r=n(61),a=n(57),i=n(60),o=n(102),l=n(66),s=n(80),c=n(263),u=n(191),f=n(266),d=n(193),h=n(73);e.exports=function(e,t,n){function p(e,t){return Number(e.substr(5)||1)-Number(t.substr(5)||1)}function g(e,t){return a.coerce(F,B,s,e,t)}function v(e){var t={x:I,y:D}[e];return a.simpleMap(t,h.name2id)}var y,m=Object.keys(e),x=[],b=[],_=[],w=[],k=[],M=[],A={},T={};for(y=0;y<n.length;y++){var S,L,C=n[y];if(r.traceIs(C,"cartesian"))S=x,L=b;else{if(!r.traceIs(C,"gl2d"))continue;S=_,L=w}var O=h.id2name(C.xaxis),z=h.id2name(C.yaxis);if(r.traceIs(C,"carpet")&&("carpet"!==C.type||C._cheater)||O&&a.pushUnique(M,O),"carpet"===C.type&&C._cheater&&O&&a.pushUnique(k,O),O&&-1===S.indexOf(O)&&S.push(O),z&&-1===L.indexOf(z)&&L.push(z),r.traceIs(C,"2dMap")&&(A[O]=!0,A[z]=!0),r.traceIs(C,"oriented")){T["h"===C.orientation?z:O]=!0}}if(!t._has("gl3d")&&!t._has("geo"))for(y=0;y<m.length;y++){var j=m[y];-1===_.indexOf(j)&&-1===x.indexOf(j)&&l.xAxisMatch.test(j)?x.push(j):-1===w.indexOf(j)&&-1===b.indexOf(j)&&l.yAxisMatch.test(j)&&b.push(j)}x.length&&b.length&&a.pushUnique(t._basePlotModules,r.subplotsRegistry.cartesian);var D=x.concat(_).sort(p),I=b.concat(w).sort(p),P=D.concat(I),E=i.background;D.length&&I.length&&(E=a.coerce(e,t,o,"plot_bgcolor"));var N,R,F,B,q=i.combine(E,t.paper_bgcolor),H={x:v("x"),y:v("y")};for(y=0;y<P.length;y++){N=P[y],a.isPlainObject(e[N])||(e[N]={}),F=e[N],B=t[N]={},c(F,B,g,n,N),R=N.charAt(0);var V=function(t,n){for(var r={x:D,y:I}[t],a=[],i=0;i<r.length;i++){var o=r[i];o===n||(e[o]||{}).overlaying||a.push(h.name2id(o))}return a}(R,N),U={letter:R,font:t.font,outerTicks:A[N],showGrid:!T[N],data:n,bgColor:q,calendar:t.calendar,cheateronly:"x"===R&&-1!==k.indexOf(N)&&-1===M.indexOf(N)};u(F,B,g,U,t);g("showspikes")&&(g("spikecolor"),g("spikethickness"),g("spikedash"),g("spikemode"));var G={letter:R,counterAxes:H[R],overlayableAxes:V};d(F,B,g,G),B._input=F}var X=r.getComponentMethod("rangeslider","handleDefaults"),Y=r.getComponentMethod("rangeselector","handleDefaults");for(y=0;y<D.length;y++)N=D[y],F=e[N],B=t[N],X(e,t,N),"date"===B.type&&Y(F,B,t,I,B.calendar),g("fixedrange");for(y=0;y<I.length;y++){N=I[y],F=e[N],B=t[N];var Z=t[h.id2name(B.anchor)];g("fixedrange",Z&&Z.rangeslider&&Z.rangeslider.visible)}t._axisConstraintGroups=[];var W=H.x.concat(H.y);for(y=0;y<P.length;y++)N=P[y],R=N.charAt(0),F=e[N],B=t[N],f(F,B,g,W,t)}},function(e,t,n){"use strict";function r(e,t){if("-"===e.type){var n=e._id,r=n.charAt(0);-1!==n.indexOf("scene")&&(n=r);var c=a(t,n,r);if(c){if("histogram"===c.type&&r==={v:"y",h:"x"}[c.orientation||"v"])return void(e.type="linear");var u=r+"calendar",f=c[u];if(o(c,r)){for(var d,h=i(c),p=[],g=0;g<t.length;g++)d=t[g],l.traceIs(d,"box")&&(d[r+"axis"]||r)===n&&(void 0!==d[h]?p.push(d[h][0]):void 0!==d.name?p.push(d.name):p.push("text"),d[u]!==f&&(f=void 0));e.type=s(p,f)}else e.type=s(c[r]||[c[r+"0"]],f)}}}function a(e,t,n){for(var r=0;r<e.length;r++){var a=e[r];if((a[n+"axis"]||n)===t){if(o(a,n))return a;if((a[n]||[]).length||a[n+"0"])return a}}}function i(e){return{v:"x",h:"y"}[e.orientation||"v"]}function o(e,t){var n=i(e),r=l.traceIs(e,"box"),a=l.traceIs(e._fullInput||{},"candlestick");return r&&!a&&t===n&&void 0===e[n]&&void 0===e[n+"0"]}var l=n(61),s=n(190),c=n(73).name2id;e.exports=function(e,t,n,a,i){i&&(t._name=i,t._id=c(i)),"-"===n("type")&&(r(t,a),"-"===t.type?t.type="linear":e.type=t.type)}},function(e,t,n){"use strict";e.exports=function(e,t,n){if("category"===t.type){var r,a=e.categoryarray,i=Array.isArray(a)&&a.length>0;i&&(r="array");var o=n("categoryorder",r);"array"===o&&n("categoryarray"),i||"array"!==o||(t.categoryorder="trace")}}},function(e,t,n){"use strict";function r(e,t,n){var r,i,o,l,s,c=[],u=n.map(function(t){return t[e]}),f=a.bisector(t).left;for(r=0;r<u.length;r++)for(o=u[r],i=0;i<o.length;i++)null!==(l=o[i])&&void 0!==l&&((s=f(c,l))<c.length&&c[s]===l||c.splice(s,0,l));return c}var a=n(58);e.exports=function(e,t,n,i){switch(t){case"array":return Array.isArray(n)?n.slice():[];case"category ascending":return r(e,a.ascending,i);case"category descending":return r(e,a.descending,i);case"trace":default:return[]}}},function(e,t,n){"use strict";function r(e,t,n,r){var a,i,l,s,c=r[o(t)].type,u=[];for(i=0;i<n.length;i++)(l=n[i])!==t&&(s=r[o(l)],s.type!==c||s.fixedrange||u.push(l));for(a=0;a<e.length;a++)if(e[a][t]){var f=e[a],d=[];for(i=0;i<u.length;i++)l=u[i],f[l]||d.push(l);return{linkableAxes:d,thisGroup:f}}return{linkableAxes:u,thisGroup:null}}function a(e,t,n,r,a){var i,o,l,s,c;null===t?(t={},t[n]=1,c=e.length,e.push(t)):c=e.indexOf(t);var u=Object.keys(t);for(i=0;i<e.length;i++)if(l=e[i],i!==c&&l[r]){var f=l[r];for(o=0;o<u.length;o++)s=u[o],l[s]=f*a*t[s];return void e.splice(c,1)}if(1!==a)for(o=0;o<u.length;o++)t[u[o]]*=a;t[r]=1}var i=n(57),o=n(73).id2name;e.exports=function(e,t,n,o,l){var s=l._axisConstraintGroups,c=t._id,u=c.charAt(0);if(!t.fixedrange&&(n("constrain"),i.coerce(e,t,{constraintoward:{valType:"enumerated",values:"x"===u?["left","center","right"]:["bottom","middle","top"],dflt:"x"===u?"center":"middle"}},"constraintoward"),e.scaleanchor)){var f=r(s,c,o,l),d=i.coerce(e,t,{scaleanchor:{valType:"enumerated",values:f.linkableAxes}},"scaleanchor");if(d){var h=n("scaleratio");h||(h=t.scaleratio=1),a(s,f.thisGroup,c,d,h)}else-1!==o.indexOf(e.scaleanchor)&&i.warn("ignored "+t._name+'.scaleanchor: "'+e.scaleanchor+'" to avoid either an infinite loop and possibly inconsistent scaleratios, or because the targetaxis has fixed range.')}}},function(e,t,n){"use strict";function r(e,t){return"percent"===e?function(e){return Math.abs(e*t/100)}:"constant"===e?function(){return Math.abs(t)}:"sqrt"===e?function(e){return Math.sqrt(Math.abs(e))}:void 0}e.exports=function(e){var t=e.type,n=e.symmetric;if("data"===t){var a=e.array,i=e.arrayminus;return n||void 0===i?function(e,t){var n=+a[t];return[n,n]}:function(e,t){return[+i[t],+a[t]]}}var o=r(t,e.value),l=r(t,e.valueminus);return n||void 0===e.valueminus?function(e){var t=o(e);return[t,t]}:function(e){return[l(e),o(e)]}}},function(e,t,n){"use strict";function r(e,t,n){var r={x:t.c2p(e.x),y:n.c2p(e.y)};return void 0!==e.yh&&(r.yh=n.c2p(e.yh),r.ys=n.c2p(e.ys),i(r.ys)||(r.noYS=!0,r.ys=n.c2p(e.ys,!0))),void 0!==e.xh&&(r.xh=t.c2p(e.xh),r.xs=t.c2p(e.xs),i(r.xs)||(r.noXS=!0,r.xs=t.c2p(e.xs,!0))),r}var a=n(58),i=n(59),o=n(62),l=n(72);e.exports=function(e,t,n){var s,c=t.xaxis,u=t.yaxis,f=n&&n.duration>0;e.each(function(e){var d,h=e[0].trace,p=h.error_x||{},g=h.error_y||{};h.ids&&(d=function(e){return e.id});var v=l.hasMarkers(h)&&h.marker.maxdisplayed>0;g.visible||p.visible||(e=[]);var y=a.select(this).selectAll("g.errorbar").data(e,d);if(y.exit().remove(),e.length){p.visible||y.selectAll("path.xerror").remove(),g.visible||y.selectAll("path.yerror").remove(),y.style("opacity",1);var m=y.enter().append("g").classed("errorbar",!0);f&&m.style("opacity",0).transition().duration(n.duration).style("opacity",1),o.setClipUrl(y,t.layerClipId),y.each(function(e){var t=a.select(this),o=r(e,c,u);if(!v||e.vis){var l;if(g.visible&&i(o.x)&&i(o.yh)&&i(o.ys)){var d=g.width;l="M"+(o.x-d)+","+o.yh+"h"+2*d+"m-"+d+",0V"+o.ys,o.noYS||(l+="m-"+d+",0h"+2*d);var h=t.select("path.yerror");s=!h.size(),s?h=t.append("path").style("vector-effect","non-scaling-stroke").classed("yerror",!0):f&&(h=h.transition().duration(n.duration).ease(n.easing)),h.attr("d",l)}if(p.visible&&i(o.y)&&i(o.xh)&&i(o.xs)){var y=(p.copy_ystyle?g:p).width;l="M"+o.xh+","+(o.y-y)+"v"+2*y+"m0,-"+y+"H"+o.xs,o.noXS||(l+="m0,-"+y+"v"+2*y);var m=t.select("path.xerror");s=!m.size(),s?m=t.append("path").style("vector-effect","non-scaling-stroke").classed("xerror",!0):f&&(m=m.transition().duration(n.duration).ease(n.easing)),m.attr("d",l)}}})}})}},function(e,t,n){"use strict";var r=n(58),a=n(60);e.exports=function(e){e.each(function(e){var t=e[0].trace,n=t.error_y||{},i=t.error_x||{},o=r.select(this);o.selectAll("path.yerror").style("stroke-width",n.thickness+"px").call(a.stroke,n.color),i.copy_ystyle&&(i=n),o.selectAll("path.xerror").style("stroke-width",i.thickness+"px").call(a.stroke,i.color)})}},function(e,t,n){"use strict";function r(e,t,n){var r,a,i,o=!1;if("data"===t.type)r=e._fullData[null!==t.traces?t.traces[0]:0];else{if("layout"!==t.type)return!1;r=e._fullLayout}return a=c.nestedProperty(r,t.prop).get(),i=n[t.type]=n[t.type]||{},i.hasOwnProperty(t.prop)&&i[t.prop]!==a&&(o=!0),i[t.prop]=a,{changed:o,value:a}}function a(e,t){return Array.isArray(t[0])&&1===t[0].length&&-1!==["string","number"].indexOf(typeof t[0][0])?[{type:"layout",prop:"_currentFrame",value:t[0][0].toString()}]:[]}function i(e,t){var n=[],r=t[0],a={};if("string"==typeof r)a[r]=t[1];else{if(!c.isPlainObject(r))return n;a=r}return l(a,function(e,t,r){n.push({type:"layout",prop:e,value:r})},"",0),n}function o(e,t){var n,r,a,i,o=[];if(r=t[0],a=t[1],n=t[2],i={},"string"==typeof r)i[r]=a;else{if(!c.isPlainObject(r))return o;i=r,void 0===n&&(n=a)}return void 0===n&&(n=null),l(i,function(t,r,a){var i;if(Array.isArray(a)){var l=Math.min(a.length,e.data.length);n&&(l=Math.min(l,n.length)),i=[];for(var s=0;s<l;s++)i[s]=n?n[s]:s}else i=n?n.slice(0):null;if(null===i)Array.isArray(a)&&(a=a[0]);else if(Array.isArray(i)){if(!Array.isArray(a)){var c=a;a=[];for(var u=0;u<i.length;u++)a[u]=c}a.length=Math.min(i.length,a.length)}o.push({type:"data",prop:t,traces:i,value:a})},"",0),o}function l(e,t,n,r){Object.keys(e).forEach(function(a){var i=e[a];if("_"!==a[0]){var o=n+(r>0?".":"")+a;c.isPlainObject(i)?l(i,t,o,r+1):t(o,a,i)}})}var s=n(64),c=n(57);t.manageCommandObserver=function(e,n,a,i){var o={},l=!0;n&&n._commandObserver&&(o=n._commandObserver),o.cache||(o.cache={}),o.lookupTable={};var s=t.hasSimpleAPICommandBindings(e,a,o.lookupTable);if(n&&n._commandObserver){if(s)return o;if(n._commandObserver.remove)return n._commandObserver.remove(),n._commandObserver=null,o}if(s){r(e,s,o.cache),o.check=function(){if(l){var t=r(e,s,o.cache);return t.changed&&i&&void 0!==o.lookupTable[t.value]&&(o.disable(),Promise.resolve(i({value:t.value,type:s.type,prop:s.prop,traces:s.traces,index:o.lookupTable[t.value]})).then(o.enable,o.enable)),t.changed}};for(var u=["plotly_relayout","plotly_redraw","plotly_restyle","plotly_update","plotly_animatingframe","plotly_afterplot"],f=0;f<u.length;f++)e._internalOn(u[f],o.check);o.remove=function(){for(var t=0;t<u.length;t++)e._removeInternalListener(u[t],o.check)}}else c.warn("Unable to automatically bind plot updates to API command"),o.lookupTable={},o.remove=function(){};return o.disable=function(){l=!1},o.enable=function(){l=!0},n&&(n._commandObserver=o),o},t.hasSimpleAPICommandBindings=function(e,n,r){var a,i,o=n.length;for(a=0;a<o;a++){var l,s=n[a],c=s.method,u=s.args;if(Array.isArray(u)||(u=[]),!c)return!1;var f=t.computeAPICommandBindings(e,c,u);if(1!==f.length)return!1;if(i){if(l=f[0],l.type!==i.type)return!1;if(l.prop!==i.prop)return!1;if(Array.isArray(i.traces)){if(!Array.isArray(l.traces))return!1;l.traces.sort();for(var d=0;d<i.traces.length;d++)if(i.traces[d]!==l.traces[d])return!1}else if(l.prop!==i.prop)return!1}else i=f[0],Array.isArray(i.traces)&&i.traces.sort();l=f[0];var h=l.value;if(Array.isArray(h)){if(1!==h.length)return!1;h=h[0]}r&&(r[h]=a)}return i},t.executeAPICommand=function(e,t,n){if("skip"===t)return Promise.resolve();var r=s[t],a=[e];Array.isArray(n)||(n=[]);for(var i=0;i<n.length;i++)a.push(n[i]);return r.apply(null,a).catch(function(e){return c.warn("API call to Plotly."+t+" rejected.",e),Promise.reject(e)})},t.computeAPICommandBindings=function(e,t,n){var r;switch(Array.isArray(n)||(n=[]),t){case"restyle":r=o(e,n);break;case"relayout":r=i(e,n);break;case"update":r=o(e,[n[0],n[2]]).concat(i(e,[n[1]]));break;case"animate":r=a(e,n);break;default:r=[]}return r}},function(e,t,n){"use strict";function r(e,t,n){function r(e){for(var n=[],r=0;r<e.length;r++){var a=e[r];-1===t.indexOf(a)&&n.push(d[a])}y.push(n)}var l=e._fullLayout,s=e._fullData,c=l._has("cartesian"),u=l._has("gl3d"),f=l._has("geo"),h=l._has("pie"),p=l._has("gl2d"),g=l._has("ternary"),v=l._has("mapbox"),y=[];if(r(["toImage","sendDataToCloud"]),(c||p||h||g)+f+u>1)return r(["resetViews","toggleHover"]),o(y,n);u&&(r(["zoom3d","pan3d","orbitRotation","tableRotation"]),r(["resetCameraDefault3d","resetCameraLastSave3d"]),r(["hoverClosest3d"]));var m=a(l),x=[];return((c||p)&&!m||g)&&(x=["zoom2d","pan2d"]),(v||f)&&(x=["pan2d"]),i(s)&&(x.push("select2d"),x.push("lasso2d")),x.length&&r(x),!c&&!p||m||g||r(["zoomIn2d","zoomOut2d","autoScale2d","resetScale2d"]),c&&h?r(["toggleHover"]):p?r(["hoverClosestGl2d"]):c?r(["toggleSpikelines","hoverClosestCartesian","hoverCompareCartesian"]):h?r(["hoverClosestPie"]):v?r(["resetViewMapbox","toggleHover"]):f&&(r(["zoomInGeo","zoomOutGeo","resetGeo"]),r(["hoverClosestGeo"])),o(y,n)}function a(e){for(var t=s.list({_fullLayout:e},null,!0),n=!0,r=0;r<t.length;r++)if(!t[r].fixedrange){n=!1;break}return n}function i(e){for(var t=!1,n=0;n<e.length&&!t;n++){var r=e[n];r._module&&r._module.selectPoints&&(u.traceIs(r,"scatter-like")?(c.hasMarkers(r)||c.hasText(r))&&(t=!0):t=!0)}return t}function o(e,t){if(t.length)if(Array.isArray(t[0]))for(var n=0;n<t.length;n++)e.push(t[n]);else e.push(t);return e}function l(e){for(var t=0;t<e.length;t++)for(var n=e[t],r=0;r<n.length;r++){var a=n[r];if("string"==typeof a){if(void 0===d[a])throw new Error(["*modeBarButtons* configuration options","invalid button name"].join(" "));e[t][r]=d[a]}}return e}var s=n(63),c=n(72),u=n(61),f=n(272),d=n(273);e.exports=function(e){var t=e._fullLayout,n=e._context,a=t._modeBar;if(!n.displayModeBar)return void(a&&(a.destroy(),delete t._modeBar));if(!Array.isArray(n.modeBarButtonsToRemove))throw new Error(["*modeBarButtonsToRemove* configuration options","must be an array."].join(" "));if(!Array.isArray(n.modeBarButtonsToAdd))throw new Error(["*modeBarButtonsToAdd* configuration options","must be an array."].join(" "));var i,o=n.modeBarButtons;i=Array.isArray(o)&&o.length?l(o):r(e,n.modeBarButtonsToRemove,n.modeBarButtonsToAdd),a?a.update(e,i):t._modeBar=f(e,i)}},function(e,t,n){"use strict";function r(e){this.container=e.container,this.element=document.createElement("div"),this.update(e.graphInfo,e.buttons),this.container.appendChild(this.element)}function a(e,t){var n=e._fullLayout,a=new r({graphInfo:e,container:n._paperdiv.node(),buttons:t});return n._privateplot&&i.select(a.element).append("span").classed("badge-private float--left",!0).text("PRIVATE"),a}var i=n(58),o=n(57),l=n(153),s=r.prototype;s.update=function(e,t){this.graphInfo=e;var n=this.graphInfo._context;"hover"===n.displayModeBar?this.element.className="modebar modebar--hover":this.element.className="modebar";var r=!this.hasButtons(t),a=this.hasLogo!==n.displaylogo;(r||a)&&(this.removeAllButtons(),this.updateButtons(t),n.displaylogo&&(this.element.appendChild(this.getLogo()),this.hasLogo=!0)),this.updateActiveButton()},s.updateButtons=function(e){var t=this;this.buttons=e,this.buttonElements=[],this.buttonsNames=[],this.buttons.forEach(function(e){var n=t.createGroup();e.forEach(function(e){var r=e.name;if(!r)throw new Error("must provide button 'name' in button config");if(-1!==t.buttonsNames.indexOf(r))throw new Error("button name '"+r+"' is taken");t.buttonsNames.push(r);var a=t.createButton(e);t.buttonElements.push(a),n.appendChild(a)}),t.element.appendChild(n)})},s.createGroup=function(){var e=document.createElement("div");return e.className="modebar-group",e},s.createButton=function(e){var t=this,n=document.createElement("a");n.setAttribute("rel","tooltip"),n.className="modebar-btn";var r=e.title;void 0===r&&(r=e.name),(r||0===r)&&n.setAttribute("data-title",r),void 0!==e.attr&&n.setAttribute("data-attr",e.attr);var a=e.val;if(void 0!==a&&("function"==typeof a&&(a=a(this.graphInfo)),n.setAttribute("data-val",a)),"function"!=typeof e.click)throw new Error("must provide button 'click' function in button config");return n.addEventListener("click",function(n){e.click(t.graphInfo,n),t.updateActiveButton(n.currentTarget)}),n.setAttribute("data-toggle",e.toggle||!1),e.toggle&&i.select(n).classed("active",!0),n.appendChild(this.createIcon(e.icon||l.question,e.name)),n.setAttribute("data-gravity",e.gravity||"n"),n},s.createIcon=function(e,t){var n=e.ascent-e.descent,r="http://www.w3.org/2000/svg",a=document.createElementNS(r,"svg"),i=document.createElementNS(r,"path");a.setAttribute("height","1em"),a.setAttribute("width",e.width/n+"em"),a.setAttribute("viewBox",[0,0,e.width,n].join(" "));var o="toggleSpikelines"===t?"matrix(1.5 0 0 -1.5 0 "+e.ascent+")":"matrix(1 0 0 -1 0 "+e.ascent+")";return i.setAttribute("d",e.path),i.setAttribute("transform",o),a.appendChild(i),a},s.updateActiveButton=function(e){var t=this.graphInfo._fullLayout,n=void 0!==e?e.getAttribute("data-attr"):null;this.buttonElements.forEach(function(e){var r=e.getAttribute("data-val")||!0,a=e.getAttribute("data-attr"),l="true"===e.getAttribute("data-toggle"),s=i.select(e);if(l)a===n&&s.classed("active",!s.classed("active"));else{var c=null===a?a:o.nestedProperty(t,a).get();s.classed("active",c===r)}})},s.hasButtons=function(e){var t=this.buttons;if(!t)return!1;if(e.length!==t.length)return!1;for(var n=0;n<e.length;++n){if(e[n].length!==t[n].length)return!1;for(var r=0;r<e[n].length;r++)if(e[n][r].name!==t[n][r].name)return!1}return!0},s.getLogo=function(){var e=this.createGroup(),t=document.createElement("a");return t.href="https://plot.ly/",t.target="_blank",t.setAttribute("data-title","Produced with Plotly"),t.className="modebar-btn plotlyjsicon modebar-btn--logo",t.appendChild(this.createIcon(l.plotlylogo)),e.appendChild(t),e},s.removeAllButtons=function(){for(;this.element.firstChild;)this.element.removeChild(this.element.firstChild);this.hasLogo=!1},s.destroy=function(){o.removeElement(this.container.querySelector(".modebar"))},e.exports=a},function(e,t,n){"use strict";function r(e,t){var n,r,a=t.currentTarget,i=a.getAttribute("data-attr"),o=a.getAttribute("data-val")||!0,l=e._fullLayout,s={},c=h.list(e,null,!0),u="on";if("zoom"===i){var d,p="in"===o?.5:2,g=(1+p)/2,v=(1-p)/2;for(r=0;r<c.length;r++)if(n=c[r],!n.fixedrange)if(d=n._name,"auto"===o)s[d+".autorange"]=!0;else if("reset"===o){if(void 0===n._rangeInitial)s[d+".autorange"]=!0;else{var y=n._rangeInitial.slice();s[d+".range[0]"]=y[0],s[d+".range[1]"]=y[1]}void 0!==n._showSpikeInitial&&(s[d+".showspikes"]=n._showSpikeInitial,"on"!==u||n._showSpikeInitial||(u="off"))}else{var m=[n.r2l(n.range[0]),n.r2l(n.range[1])],x=[g*m[0]+v*m[1],g*m[1]+v*m[0]];s[d+".range[0]"]=n.l2r(x[0]),s[d+".range[1]"]=n.l2r(x[1])}l._cartesianSpikesEnabled=u}else{if("hovermode"!==i||"x"!==o&&"y"!==o){if("hovermode"===i&&"closest"===o){for(r=0;r<c.length;r++)n=c[r],"on"!==u||n.showspikes||(u="off");l._cartesianSpikesEnabled=u}}else o=l._isHoriz?"y":"x",a.setAttribute("data-val",o),"closest"!==o&&(l._cartesianSpikesEnabled="off");s[i]=o}f.relayout(e,s)}function a(e,t){for(var n=t.currentTarget,r=n.getAttribute("data-attr"),a=n.getAttribute("data-val")||!0,i=e._fullLayout,o=d.getSubplotIds(i,"gl3d"),l={},s=r.split("."),c=0;c<o.length;c++)l[o[c]+"."+s[1]]=a;f.relayout(e,l)}function i(e,t){for(var n=t.currentTarget,r=n.getAttribute("data-attr"),a=e._fullLayout,i=d.getSubplotIds(a,"gl3d"),o={},l=0;l<i.length;l++){var s=i[l],c=s+".camera",u=a[s]._scene;"resetDefault"===r?o[c]=null:"resetLastSave"===r&&(o[c]=p.extendDeep({},u.cameraInitial))}f.relayout(e,o)}function o(e,t){var n=t.currentTarget,r=n._previousVal||!1,a=e.layout,i=e._fullLayout,o=d.getSubplotIds(i,"gl3d"),l=["xaxis","yaxis","zaxis"],s=["showspikes","spikesides","spikethickness","spikecolor"],c={},u={},h={};if(r)h=p.extendDeep(a,r),n._previousVal=null;else{h={"allaxes.showspikes":!1};for(var g=0;g<o.length;g++){var v=o[g],y=i[v],m=c[v]={};m.hovermode=y.hovermode,h[v+".hovermode"]=!1;for(var x=0;x<3;x++){var b=l[x];u=m[b]={};for(var _=0;_<s.length;_++){var w=s[_];u[w]=y[b][w]}}}n._previousVal=p.extendDeep({},c)}f.relayout(e,h)}function l(e,t){for(var n=t.currentTarget,r=n.getAttribute("data-attr"),a=n.getAttribute("data-val")||!0,i=e._fullLayout,o=d.getSubplotIds(i,"geo"),l=0;l<o.length;l++){var s=o[l],c=i[s];if("zoom"===r){var h=c.projection.scale,p="in"===a?2*h:.5*h;f.relayout(e,s+".projection.scale",p)}else"reset"===r&&u(e,"geo")}}function s(e){var t,n=e._fullLayout;t=n._has("cartesian")?n._isHoriz?"y":"x":"closest";var r=!e._fullLayout.hovermode&&t;f.relayout(e,"hovermode",r)}function c(e){for(var t,n,r=e._fullLayout,a=h.list(e,null,!0),i={},o=0;o<a.length;o++)t=a[o],n=t._name,i[n+".showspikes"]="on"===r._cartesianSpikesEnabled;return i}function u(e,t){for(var n=e._fullLayout,r=d.getSubplotIds(n,t),a={},i=0;i<r.length;i++)for(var o=r[i],l=n[o]._subplot,s=l.viewInitial,c=Object.keys(s),u=0;u<c.length;u++){var h=c[u];a[o+"."+h]=s[h]}f.relayout(e,a)}var f=n(64),d=n(65),h=n(63),p=n(57),g=n(154),v=n(153),y=e.exports={};y.toImage={name:"toImage",title:"Download plot as a png",icon:v.camera,click:function(e){var t="png";p.notifier("Taking snapshot - this may take a few seconds","long"),p.isIE()&&(p.notifier("IE only supports svg.  Changing format to svg.","long"),t="svg"),g(e,{format:t}).then(function(e){p.notifier("Snapshot succeeded - "+e,"long")}).catch(function(){p.notifier("Sorry there was a problem downloading your snapshot!","long")})}},y.sendDataToCloud={name:"sendDataToCloud",title:"Save and edit plot in cloud",icon:v.disk,click:function(e){d.sendDataToCloud(e)}},y.zoom2d={name:"zoom2d",title:"Zoom",attr:"dragmode",val:"zoom",icon:v.zoombox,click:r},y.pan2d={name:"pan2d",title:"Pan",attr:"dragmode",val:"pan",icon:v.pan,click:r},y.select2d={name:"select2d",title:"Box Select",attr:"dragmode",val:"select",icon:v.selectbox,click:r},y.lasso2d={name:"lasso2d",title:"Lasso Select",attr:"dragmode",val:"lasso",icon:v.lasso,click:r},y.zoomIn2d={name:"zoomIn2d",title:"Zoom in",attr:"zoom",val:"in",icon:v.zoom_plus,click:r},y.zoomOut2d={name:"zoomOut2d",title:"Zoom out",attr:"zoom",val:"out",icon:v.zoom_minus,click:r},y.autoScale2d={name:"autoScale2d",title:"Autoscale",attr:"zoom",val:"auto",icon:v.autoscale,click:r},y.resetScale2d={name:"resetScale2d",title:"Reset axes",attr:"zoom",val:"reset",icon:v.home,click:r},y.hoverClosestCartesian={name:"hoverClosestCartesian",title:"Show closest data on hover",attr:"hovermode",val:"closest",icon:v.tooltip_basic,gravity:"ne",click:r},y.hoverCompareCartesian={name:"hoverCompareCartesian",title:"Compare data on hover",attr:"hovermode",val:function(e){return e._fullLayout._isHoriz?"y":"x"},icon:v.tooltip_compare,gravity:"ne",click:r},y.zoom3d={name:"zoom3d",title:"Zoom",attr:"scene.dragmode",val:"zoom",icon:v.zoombox,click:a},y.pan3d={name:"pan3d",title:"Pan",attr:"scene.dragmode",val:"pan",icon:v.pan,click:a},y.orbitRotation={name:"orbitRotation",title:"orbital rotation",attr:"scene.dragmode",val:"orbit",icon:v["3d_rotate"],click:a},y.tableRotation={name:"tableRotation",title:"turntable rotation",attr:"scene.dragmode",val:"turntable",icon:v["z-axis"],click:a},y.resetCameraDefault3d={name:"resetCameraDefault3d",title:"Reset camera to default",attr:"resetDefault",icon:v.home,click:i},y.resetCameraLastSave3d={name:"resetCameraLastSave3d",title:"Reset camera to last save",attr:"resetLastSave",icon:v.movie,click:i},y.hoverClosest3d={name:"hoverClosest3d",title:"Toggle show closest data on hover",attr:"hovermode",val:null,toggle:!0,icon:v.tooltip_basic,gravity:"ne",click:o},y.zoomInGeo={name:"zoomInGeo",title:"Zoom in",attr:"zoom",val:"in",icon:v.zoom_plus,click:l},y.zoomOutGeo={name:"zoomOutGeo",title:"Zoom out",attr:"zoom",val:"out",icon:v.zoom_minus,click:l},y.resetGeo={name:"resetGeo",title:"Reset",attr:"reset",val:null,icon:v.autoscale,click:l},y.hoverClosestGeo={name:"hoverClosestGeo",title:"Toggle show closest data on hover",attr:"hovermode",val:null,toggle:!0,icon:v.tooltip_basic,gravity:"ne",click:s},y.hoverClosestGl2d={name:"hoverClosestGl2d",title:"Toggle show closest data on hover",attr:"hovermode",val:null,toggle:!0,icon:v.tooltip_basic,gravity:"ne",click:s},y.hoverClosestPie={name:"hoverClosestPie",title:"Toggle show closest data on hover",attr:"hovermode",val:"closest",icon:v.tooltip_basic,gravity:"ne",click:s},y.toggleHover={name:"toggleHover",title:"Toggle show closest data on hover",attr:"hovermode",val:null,toggle:!0,icon:v.tooltip_basic,gravity:"ne",click:function(e,t){s(e),o(e,t)}},y.resetViews={name:"resetViews",title:"Reset views",icon:v.home,click:function(e,t){var n=t.currentTarget;n.setAttribute("data-attr","zoom"),n.setAttribute("data-val","reset"),r(e,t),n.setAttribute("data-attr","resetLastSave"),i(e,t),u(e,"geo"),u(e,"mapbox")}},y.toggleSpikelines={name:"toggleSpikelines",title:"Toggle Spike Lines",icon:v.spikeline,attr:"_cartesianSpikesEnabled",val:"on",click:function(e){var t=e._fullLayout;t._cartesianSpikesEnabled="closest"===t.hovermode&&"on"===t._cartesianSpikesEnabled?"off":"on";var n=c(e);n.hovermode="closest",f.relayout(e,n)}},y.resetViewMapbox={name:"resetViewMapbox",title:"Reset view",attr:"reset",icon:v.home,click:function(e){u(e,"mapbox")}}},function(e,t,n){"use strict";var r=function(e,t){var n=document.createElement("a"),r="download"in n,a=/Version\/[\d\.]+.*Safari/.test(navigator.userAgent);return new Promise(function(i,o){"undefined"!=typeof navigator&&/MSIE [1-9]\./.test(navigator.userAgent)&&o(new Error("IE < 10 unsupported")),a&&(document.location.href="data:application/octet-stream"+e.slice(e.search(/[,;]/)),i(t)),t||(t="download"),r&&(n.href=e,n.download=t,document.body.appendChild(n),n.click(),document.body.removeChild(n),i(t)),"undefined"!=typeof navigator&&navigator.msSaveBlob&&(navigator.msSaveBlob(new Blob([e]),t),i(t)),o(new Error("download error"))})};e.exports=r},function(e,t,n){"use strict";function r(e,t){try{e._fullLayout._paper.style("background",t)}catch(e){w.error(e)}}function a(e,t){r(e,z.combine(t,"white"))}function i(e,t){e._context||(e._context=w.extendDeep({},_.defaultConfig));var n,i,o,l=e._context;if(t){for(i=Object.keys(t),n=0;n<i.length;n++)"editable"!==(o=i[n])&&"edits"!==o&&o in l&&("setBackground"===o&&"opaque"===t[o]?l[o]=a:l[o]=t[o]);t.plot3dPixelRatio&&!l.plotGlPixelRatio&&(l.plotGlPixelRatio=l.plot3dPixelRatio);var s=t.editable;if(void 0!==s)for(l.editable=s,i=Object.keys(l.edits),n=0;n<i.length;n++)l.edits[i[n]]=s;if(t.edits)for(i=Object.keys(t.edits),n=0;n<i.length;n++)(o=i[n])in l.edits&&(l.edits[o]=t.edits[o])}l.staticPlot&&(l.editable=!1,l.edits={},l.autosizable=!1,l.scrollZoom=!1,l.doubleClick=!1,l.showTips=!1,l.showLink=!1,l.displayModeBar=!1),"hover"!==l.displayModeBar||b||(l.displayModeBar=!0),"transparent"!==l.setBackground&&"function"==typeof l.setBackground||(l.setBackground=r)}function o(e,t,n){var r=m.select(e).selectAll(".plot-container").data([0]);r.enter().insert("div",":first-child").classed("plot-container plotly",!0);var a=r.selectAll(".svg-container").data([0]);a.enter().append("div").classed("svg-container",!0).style("position","relative"),a.html(""),t&&(e.data=t),n&&(e.layout=n),L.manager.fillLayout(e),a.style({width:e._fullLayout.width+"px",height:e._fullLayout.height+"px"}),e.framework=L.manager.framework(e),e.framework({data:e.data,layout:e.layout},a.node()),e.framework.setUndoPoint();var i=e.framework.svg(),o=1,l=e._fullLayout.title;""!==l&&l||(o=0);var s=function(){this.call(I.convertToTspans,e)},c=i.select(".title-group text").call(s);if(e._context.edits.titleText){l&&"Click to enter title"!==l||(o=.2,c.attr({"data-unformatted":"Click to enter title"}).text("Click to enter title").style({opacity:o}).on("mouseover.opacity",function(){m.select(this).transition().duration(100).style("opacity",1)}).on("mouseout.opacity",function(){m.select(this).transition().duration(1e3).style("opacity",0)}));var u=function(){this.call(I.makeEditable,{gd:e}).on("edit",function(t){e.framework({layout:{title:t}}),this.text(t).call(s),this.call(u)}).on("cancel",function(){var e=this.attr("data-unformatted");this.text(e).call(s)})};c.call(u)}return e._context.setBackground(e,e._fullLayout.paper_bgcolor),S.addLinks(e),Promise.resolve()}function l(e,t){var n,r,a=t+1,i=[];for(n=0;n<e.length;n++)r=e[n],r<0?i.push(a+r):i.push(r);return i}function s(e,t,n){var r,a;for(r=0;r<t.length;r++){if((a=t[r])!==parseInt(a,10))throw new Error("all values in "+n+" must be integers");if(a>=e.data.length||a<-e.data.length)throw new Error(n+" must be valid indices for gd.data.");if(t.indexOf(a,r+1)>-1||a>=0&&t.indexOf(-e.data.length+a)>-1||a<0&&t.indexOf(e.data.length+a)>-1)throw new Error("each index in "+n+" must be unique.")}}function c(e,t,n){if(!Array.isArray(e.data))throw new Error("gd.data must be an array.");if(void 0===t)throw new Error("currentIndices is a required argument.");if(Array.isArray(t)||(t=[t]),s(e,t,"currentIndices"),void 0===n||Array.isArray(n)||(n=[n]),void 0!==n&&s(e,n,"newIndices"),void 0!==n&&t.length!==n.length)throw new Error("current and new indices must be of equal length.")}function u(e,t,n){var r,a;if(!Array.isArray(e.data))throw new Error("gd.data must be an array.");if(void 0===t)throw new Error("traces must be defined.");for(Array.isArray(t)||(t=[t]),r=0;r<t.length;r++)if("object"!=typeof(a=t[r])||Array.isArray(a)||null===a)throw new Error("all values in traces array must be non-array objects");if(void 0===n||Array.isArray(n)||(n=[n]),void 0!==n&&n.length!==t.length)throw new Error("if indices is specified, traces.length must equal indices.length")}function f(e,t,n,r){var a=w.isPlainObject(r);if(!Array.isArray(e.data))throw new Error("gd.data must be an array");if(!w.isPlainObject(t))throw new Error("update must be a key:value object");if(void 0===n)throw new Error("indices must be an integer or array of integers");s(e,n,"indices");for(var i in t){if(!Array.isArray(t[i])||t[i].length!==n.length)throw new Error("attribute "+i+" must be an array of length equal to indices array length");if(a&&(!(i in r)||!Array.isArray(r[i])||r[i].length!==t[i].length))throw new Error("when maxPoints is set as a key:value object it must contain a 1:1 corrispondence with the keys and number of traces in the update object")}}function d(e,t,n,r){var a,i,o,s,c,u=w.isPlainObject(r),f=[];Array.isArray(n)||(n=[n]),n=l(n,e.data.length-1);for(var d in t)for(var h=0;h<n.length;h++){if(a=e.data[n[h]],o=w.nestedProperty(a,d),i=o.get(),s=t[d][h],!Array.isArray(s))throw new Error("attribute: "+d+" index: "+h+" must be an array");if(!Array.isArray(i))throw new Error("cannot extend missing or non-array attribute: "+d);c=u?r[d][h]:r,x(c)||(c=-1),f.push({prop:o,target:i,insert:s,maxp:Math.floor(c)})}return f}function h(e,t,n,r,a,i){f(e,t,n,r);for(var o,l,s,c=d(e,t,n,r),u=[],h={},p={},g=0;g<c.length;g++)l=c[g].prop,s=c[g].maxp,o=a(c[g].target,c[g].insert),s>=0&&s<o.length&&(u=i(o,s)),s=c[g].target.length,l.set(o),Array.isArray(h[l.astr])||(h[l.astr]=[]),Array.isArray(p[l.astr])||(p[l.astr]=[]),h[l.astr].push(u),p[l.astr].push(s);return{update:h,maxPoints:p}}function p(e){return void 0===e?null:e}function g(e,t,n){function r(){return n.map(function(){})}function a(e){var t=_.Axes.id2name(e);-1===c.indexOf(t)&&c.push(t)}function i(e){return"LAYOUT"+e+".autorange"}function o(e){return"LAYOUT"+e+".range"}function l(a,i,o){if(Array.isArray(a))return void a.forEach(function(e){l(e,i,o)});if(!(a in t||E.hasParent(t,a))){var s;s="LAYOUT"===a.substr(0,6)?w.nestedProperty(e.layout,a.replace("LAYOUT","")):w.nestedProperty(d[n[o]],a),a in v||(v[a]=r()),void 0===v[a][o]&&(v[a][o]=p(s.get())),void 0!==i&&s.set(i)}}var s,c,u=e._fullLayout,f=e._fullData,d=e.data,h=R.traceFlags(),g={},v={},y={};for(var m in t){if(E.hasParent(t,m))throw new Error("cannot set "+m+"and a parent attribute simultaneously");var x,b,k,M,L,C,O=t[m];if(g[m]=O,"LAYOUT"!==m.substr(0,6)){for(v[m]=r(),s=0;s<n.length;s++)if(x=d[n[s]],b=f[n[s]],k=w.nestedProperty(x,m),M=k.get(),void 0!==(L=Array.isArray(O)?O[s%O.length]:O)){if((C=T.getTraceValObject(b,k.parts))&&C.impliedEdits&&null!==L)for(var z in C.impliedEdits)l(w.relativeAttr(m,z),C.impliedEdits[z],s);else if("colorbar.thicknessmode"===m&&k.get()!==L&&-1!==["fraction","pixels"].indexOf(L)&&b.colorbar){var j=-1!==["top","bottom"].indexOf(b.colorbar.orient)?u.height-u.margin.t-u.margin.b:u.width-u.margin.l-u.margin.r;l("colorbar.thickness",b.colorbar.thickness*("fraction"===L?1/j:j),s)}else if("colorbar.lenmode"===m&&k.get()!==L&&-1!==["fraction","pixels"].indexOf(L)&&b.colorbar){var D=-1!==["top","bottom"].indexOf(b.colorbar.orient)?u.width-u.margin.l-u.margin.r:u.height-u.margin.t-u.margin.b;l("colorbar.len",b.colorbar.len*("fraction"===L?1/D:D),s)}else"colorbar.tick0"!==m&&"colorbar.dtick"!==m||l("colorbar.tickmode","linear",s);if("type"===m&&"pie"===L!=("pie"===M)){var I="x",P="y";"bar"!==L&&"bar"!==M||"h"!==x.orientation||(I="y",P="x"),w.swapAttrs(x,["?","?src"],"labels",I),w.swapAttrs(x,["d?","?0"],"label",I),w.swapAttrs(x,["?","?src"],"values",P),"pie"===M?(w.nestedProperty(x,"marker.color").set(w.nestedProperty(x,"marker.colors").get()),u._pielayer.selectAll("g.trace").remove()):A.traceIs(x,"cartesian")&&(w.nestedProperty(x,"marker.colors").set(w.nestedProperty(x,"marker.color").get()),y[x.xaxis||"x"]=!0,y[x.yaxis||"y"]=!0)}v[m][s]=p(M);var N=["swapxy","swapxyaxes","orientation","orientationaxes"];if(-1!==N.indexOf(m)){if("orientation"===m){k.set(L);var F=x.x&&!x.y?"h":"v";if((k.get()||F)===b.orientation)continue}else"orientationaxes"===m&&(x.orientation={v:"h",h:"v"}[b.orientation]);E.swapXYData(x),h.calc=h.clearAxisTypes=!0}else-1!==S.dataArrayContainers.indexOf(k.parts[0])?(E.manageArrayContainers(k,L,v),h.calc=!0):(C?C.arrayOk&&(Array.isArray(L)||Array.isArray(M))?h.calc=!0:R.update(h,C):h.calc=!0,k.set(L))}if(-1!==["swapxyaxes","orientationaxes"].indexOf(m)&&_.Axes.swap(e,n),"orientationaxes"===m){var B=w.nestedProperty(e.layout,"hovermode");"x"===B.get()?B.set("y"):"y"===B.get()&&B.set("x")}if(-1!==["orientation","type"].indexOf(m)){for(c=[],s=0;s<n.length;s++){var q=d[n[s]];A.traceIs(q,"cartesian")&&(a(q.xaxis||"x"),a(q.yaxis||"y"),"type"===m&&l(["autobinx","autobiny"],!0,s))}l(c.map(i),!0,0),l(c.map(o),[0,1],0)}}else k=w.nestedProperty(e.layout,m.replace("LAYOUT","")),v[m]=[p(k.get())],k.set(Array.isArray(O)?O[0]:O),h.calc=!0}var H=!1,V=_.Axes.list(e);for(s=0;s<V.length;s++)if(V[s].autorange){H=!0;break}var U=Object.keys(y);e:for(s=0;s<U.length;s++){for(var G=U[s],X=G.charAt(0),Y=X+"axis",Z=0;Z<d.length;Z++)if(A.traceIs(d[Z],"cartesian")&&(d[Z][Y]||X)===G)continue e;l("LAYOUT"+_.Axes.id2name(G),null,0)}return(h.calc||h.calcIfAutorange&&H)&&(h.clearCalc=!0),(h.calc||h.plot||h.calcIfAutorange)&&(h.fullReplot=!0),{flags:h,undoit:v,redoit:g,traces:n,eventData:w.extendDeepNoArrays([],[g,n])}}function v(e,t){function n(e,r){if(Array.isArray(e))return void e.forEach(function(e){n(e,r)});if(!(e in t||E.hasParent(t,e))){var a=w.nestedProperty(s,e);e in b||(b[e]=p(a.get())),void 0!==r&&a.set(r)}}function r(t,n){if(!w.isPlainObject(t))return!1;var r=t[n+"ref"]||n,a=_.Axes.getFromId(e,r);return a||r.charAt(0)!==n||(a=_.Axes.getFromId(e,n)),(a||{}).autorange}function a(e){var t=V.name2id(e.split(".")[0]);return k[t]=1,t}var i,o,l,s=e.layout,c=e._fullLayout,u=Object.keys(t),f=_.Axes.list(e),d={};for(o=0;o<u.length;o++)if(0===u[o].indexOf("allaxes")){for(l=0;l<f.length;l++){var h=f[l]._id.substr(1),g=-1!==h.indexOf("scene")?h+".":"",v=u[o].replace("allaxes",g+f[l]._name);t[v]||(t[v]=t[u[o]])}delete t[u[o]]}var y,m=R.layoutFlags(),x={},b={},k={};for(var M in t){if(E.hasParent(t,M))throw new Error("cannot set "+M+"and a parent attribute simultaneously");var L=w.nestedProperty(s,M),C=t[M],O=L.parts.length,z="string"==typeof L.parts[O-1]?O-1:O-2,j=L.parts[z],D=L.parts[z-1]+"."+j,I=L.parts.slice(0,z).join("."),N=w.nestedProperty(e.layout,I).get(),B=w.nestedProperty(c,I).get(),q=L.get();if(void 0!==C){x[M]=C,b[M]="reverse"===j?C:p(q);var H=T.getLayoutValObject(c,L.parts);if(H&&H.impliedEdits&&null!==C)for(var U in H.impliedEdits)n(w.relativeAttr(M,U),H.impliedEdits[U]);if(-1!==["width","height"].indexOf(M)&&null===C)c[M]=e._initialAutoSize[M];else if(D.match(/^[xyz]axis[0-9]*\.range(\[[0|1]\])?$/))a(D),w.nestedProperty(c,I+"._inputRange").set(null);else if(D.match(/^[xyz]axis[0-9]*\.autorange$/)){a(D),w.nestedProperty(c,I+"._inputRange").set(null);var G=w.nestedProperty(c,I).get();G._inputDomain&&(G._input.domain=G._inputDomain.slice())}else D.match(/^[xyz]axis[0-9]*\.domain(\[[0|1]\])?$/)&&w.nestedProperty(c,I+"._inputDomain").set(null);if("type"===j){var X=N,Y="linear"===B.type&&"log"===C,Z="log"===B.type&&"linear"===C;if(Y||Z){if(X&&X.range)if(B.autorange)Y&&(X.range=X.range[1]>X.range[0]?[1,2]:[2,1]);else{var W=X.range[0],Q=X.range[1];Y?(W<=0&&Q<=0&&n(I+".autorange",!0),W<=0?W=Q/1e6:Q<=0&&(Q=W/1e6),n(I+".range[0]",Math.log(W)/Math.LN10),n(I+".range[1]",Math.log(Q)/Math.LN10)):(n(I+".range[0]",Math.pow(10,W)),n(I+".range[1]",Math.pow(10,Q)))}else n(I+".autorange",!0);A.getComponentMethod("annotations","convertCoords")(e,B,C,n),A.getComponentMethod("images","convertCoords")(e,B,C,n)}else n(I+".autorange",!0),n(I+".range",null);w.nestedProperty(c,I+"._inputRange").set(null)}else if(j.match(F.AX_NAME_PATTERN)){var $=w.nestedProperty(c,M).get(),J=(C||{}).type;J&&"-"!==J||(J="linear"),A.getComponentMethod("annotations","convertCoords")(e,$,J,n),A.getComponentMethod("images","convertCoords")(e,$,J,n)}var K=P.containerArrayMatch(M);if(K){i=K.array,o=K.index;var ee=K.property,te=w.nestedProperty(s,i),ne=(te||[])[o]||{},re=ne,ae=H||{editType:"calc"},ie=-1!==ae.editType.indexOf("calcIfAutorange");""===o?(ie?m.calc=!0:R.update(m,ae),ie=!1):""===ee&&(re=C,P.isAddVal(C)?b[M]=null:P.isRemoveVal(C)?(b[M]=ne,re=ne):w.warn("unrecognized full object value",t)),ie&&(r(re,"x")||r(re,"y"))?m.calc=!0:R.update(m,ae),d[i]||(d[i]={});var oe=d[i][o];oe||(oe=d[i][o]={}),oe[ee]=C,delete t[M]}else"reverse"===j?(N.range?N.range.reverse():(n(I+".autorange",!0),N.range=[1,0]),B.autorange?m.calc=!0:m.plot=!0):((!c._has("gl2d")||"dragmode"!==M||"lasso"!==C&&"select"!==C||"lasso"===q||"select"===q)&&H?R.update(m,H):m.calc=!0,L.set(C))}}for(i in d){P.applyContainerArrayChanges(e,w.nestedProperty(s,i),d[i],m)||(m.plot=!0)}var le=c._axisConstraintGroups;for(y in k)for(o=0;o<le.length;o++){var se=le[o];if(se[y]){m.calc=!0;for(var ce in se)k[ce]||(V.getFromId(e,ce)._constraintShrinkable=!0)}}var ue=c.width,fe=c.height;return e.layout.autosize&&S.plotAutoSize(e,e.layout,c),(t.height||t.width||c.width!==ue||c.height!==fe)&&(m.calc=!0),(m.plot||m.calc)&&(m.layoutReplot=!0),{flags:m,undoit:b,redoit:x,eventData:w.extendDeep({},x)}}function y(e){var t=m.select(e),n=e._fullLayout;if(n._container=t.selectAll(".plot-container").data([0]),n._container.enter().insert("div",":first-child").classed("plot-container",!0).classed("plotly",!0),n._paperdiv=n._container.selectAll(".svg-container").data([0]),n._paperdiv.enter().append("div").classed("svg-container",!0).style("position","relative"),n._glcontainer=n._paperdiv.selectAll(".gl-container").data([0]),n._glcontainer.enter().append("div").classed("gl-container",!0),n._paperdiv.selectAll(".main-svg").remove(),n._paper=n._paperdiv.insert("svg",":first-child").classed("main-svg",!0),n._toppaper=n._paperdiv.append("svg").classed("main-svg",!0),!n._uid){var r=[];m.selectAll("defs").each(function(){this.id&&r.push(this.id.split("-")[1])}),n._uid=w.randstr(r)}n._paperdiv.selectAll(".main-svg").attr(D.svgAttrs),n._defs=n._paper.append("defs").attr("id","defs-"+n._uid),n._clips=n._defs.append("g").classed("clips",!0),n._topdefs=n._toppaper.append("defs").attr("id","topdefs-"+n._uid),n._topclips=n._topdefs.append("g").classed("clips",!0),n._bgLayer=n._paper.append("g").classed("bglayer",!0),n._draggers=n._paper.append("g").classed("draglayer",!0);var a=n._paper.append("g").classed("layer-below",!0);n._imageLowerLayer=a.append("g").classed("imagelayer",!0),n._shapeLowerLayer=a.append("g").classed("shapelayer",!0),n._cartesianlayer=n._paper.append("g").classed("cartesianlayer",!0),n._ternarylayer=n._paper.append("g").classed("ternarylayer",!0),n._geolayer=n._paper.append("g").classed("geolayer",!0);var i=n._paper.append("g").classed("layer-above",!0);n._imageUpperLayer=i.append("g").classed("imagelayer",!0),n._shapeUpperLayer=i.append("g").classed("shapelayer",!0),n._pielayer=n._paper.append("g").classed("pielayer",!0),n._glimages=n._paper.append("g").classed("glimages",!0),n._infolayer=n._toppaper.append("g").classed("infolayer",!0),n._zoomlayer=n._toppaper.append("g").classed("zoomlayer",!0),n._hoverlayer=n._toppaper.append("g").classed("hoverlayer",!0),e.emit("plotly_framework")}var m=n(58),x=n(59),b=n(196),_=n(64),w=n(57),k=n(159),M=n(197),A=n(61),T=n(115),S=n(65),L=n(277),C=n(199),O=n(62),z=n(60),j=n(104),D=n(103),I=n(70),P=n(292),E=n(293),N=n(295),R=n(84),F=n(66),B=n(296),q=B.enforce,H=B.clean,V=n(73);_.plot=function(e,t,n,r){function a(){if(g)return _.addFrames(e,g)}function l(){for(var t=b._basePlotModules,n=0;n<t.length;n++)t[n].drawFramework&&t[n].drawFramework(e);return w.syncOrAsync([N.layoutStyles],e)}function s(){var t,n,r,a=e.calcdata;for(A.getComponentMethod("legend","draw")(e),A.getComponentMethod("rangeselector","draw")(e),A.getComponentMethod("sliders","draw")(e),A.getComponentMethod("updatemenus","draw")(e),t=0;t<a.length;t++)n=a[t],r=n[0].trace,!0===r.visible&&r._module.colorbar?r._module.colorbar(e,n):S.autoMargin(e,"cb"+r.uid);return S.doAutoMargin(e),S.previousPromises(e)}function c(){if(JSON.stringify(b._size)!==L)return w.syncOrAsync([s,N.layoutStyles],e)}function u(){if(!M)return void q(e);var t,n,r,a=S.getSubplotIds(b,"cartesian"),i=b._modules,o=[];for(r=0;r<i.length;r++)w.pushUnique(o,i[r].setPositions);if(o.length)for(n=0;n<a.length;n++)for(t=b._plots[a[n]],r=0;r<o.length;r++)o[r](e,t);return j.calc(e),w.syncOrAsync([A.getComponentMethod("shapes","calcAutorange"),A.getComponentMethod("annotations","calcAutorange"),f,A.getComponentMethod("rangeslider","calcAutorange")],e)}function f(){if(!e._transitioning){for(var t=_.Axes.list(e,"",!0),n=0;n<t.length;n++){var r=t[n];H(e,r),_.Axes.doAutoRange(r)}q(e),x&&_.Axes.saveRangeInitial(e)}}function d(){return _.Axes.doTicks(e,"redraw")}function h(){var t,n=e.calcdata,r=b._infolayer.selectAll("g.rangeslider-container");for(t=0;t<n.length;t++){var a=n[t][0].trace,i=!0===a.visible,o=a.uid;if(!i||!A.traceIs(a,"2dMap")){var l=".hm"+o+",.contour"+o+",#clip"+o;b._paper.selectAll(l).remove(),r.selectAll(l).remove()}i&&a._module.colorbar||b._infolayer.selectAll(".cb"+o).remove()}var s=b._basePlotModules;for(t=0;t<s.length;t++)s[t].plot(e);var c=b._paper.selectAll(".layer-subplot");return b._shapeSubplotLayers=c.selectAll(".shapelayer"),S.style(e),A.getComponentMethod("shapes","draw")(e),A.getComponentMethod("annotations","draw")(e),S.addLinks(e),b._replotting=!1,S.previousPromises(e)}function p(){A.getComponentMethod("shapes","draw")(e),A.getComponentMethod("images","draw")(e),A.getComponentMethod("annotations","draw")(e),A.getComponentMethod("legend","draw")(e),A.getComponentMethod("rangeslider","draw")(e),A.getComponentMethod("rangeselector","draw")(e),A.getComponentMethod("sliders","draw")(e),A.getComponentMethod("updatemenus","draw")(e)}var g;if(e=w.getGraphDiv(e),k.init(e),w.isPlainObject(t)){var v=t;t=v.data,n=v.layout,r=v.config,g=v.frames}if(!1===k.triggerHandler(e,"plotly_beforeplot",[t,n,r]))return Promise.reject();t||n||w.isPlotDiv(e)||w.warn("Calling Plotly.plot as if redrawing but this container doesn't yet have a plot.",e),i(e,r),n||(n={}),m.select(e).classed("js-plotly-plot",!0),O.makeTester(),Array.isArray(e._promises)||(e._promises=[]);var x=0===(e.data||[]).length&&Array.isArray(t);if(Array.isArray(t)&&(E.cleanData(t,e.data),x?e.data=t:e.data.push.apply(e.data,t),e.empty=!1),e.layout&&!x||(e.layout=E.cleanLayout(n)),e._dragging&&!e._transitioning)return e._replotPending=!0,Promise.reject();e._replotPending=!1,S.supplyDefaults(e);var b=e._fullLayout;if(t&&t[0]&&t[0].r)return o(e,t,n);b._replotting=!0,x&&y(e),e.framework!==y&&(e.framework=y,y(e)),O.initGradients(e),x&&_.Axes.saveShowSpikeInitial(e);var M=!e.calcdata||e.calcdata.length!==(e._fullData||[]).length;M&&S.doCalcdata(e);for(var T=0;T<e.calcdata.length;T++)e.calcdata[T][0].trace=e._fullData[T];var L=JSON.stringify(b._size),z=[S.previousPromises,a,l,s,c,u,N.layoutStyles,d,h,p,C,S.rehover,S.previousPromises],D=w.syncOrAsync(z,e);return D&&D.then||(D=Promise.resolve()),D.then(function(){return e.emit("plotly_afterplot"),e})},_.redraw=function(e){if(e=w.getGraphDiv(e),!w.isPlotDiv(e))throw new Error("This element is not a Plotly plot: "+e);return E.cleanData(e.data,e.data),E.cleanLayout(e.layout),e.calcdata=void 0,_.plot(e).then(function(){return e.emit("plotly_redraw"),e})},_.newPlot=function(e,t,n,r){return e=w.getGraphDiv(e),S.cleanPlot([],{},e._fullData||{},e._fullLayout||{}),S.purge(e),_.plot(e,t,n,r)},_.extendTraces=function e(t,n,r,a){t=w.getGraphDiv(t);var i=h(t,n,r,a,function(e,t){return e.concat(t)},function(e,t){return e.splice(0,e.length-t)}),o=_.redraw(t),l=[t,i.update,r,i.maxPoints];return M.add(t,_.prependTraces,l,e,arguments),o},_.prependTraces=function e(t,n,r,a){t=w.getGraphDiv(t);var i=h(t,n,r,a,function(e,t){return t.concat(e)},function(e,t){return e.splice(t,e.length)}),o=_.redraw(t),l=[t,i.update,r,i.maxPoints];return M.add(t,_.extendTraces,l,e,arguments),o},_.addTraces=function e(t,n,r){t=w.getGraphDiv(t);var a,i,o=[],l=_.deleteTraces,s=e,f=[t,o],d=[t,n];for(u(t,n,r),Array.isArray(n)||(n=[n]),n=n.map(function(e){return w.extendFlat({},e)}),E.cleanData(n,t.data),a=0;a<n.length;a++)t.data.push(n[a]);for(a=0;a<n.length;a++)o.push(-n.length+a);if(void 0===r)return i=_.redraw(t),M.add(t,l,f,s,d),i;Array.isArray(r)||(r=[r]);try{c(t,o,r)}catch(e){throw t.data.splice(t.data.length-n.length,n.length),e}return M.startSequence(t),M.add(t,l,f,s,d),i=_.moveTraces(t,o,r),M.stopSequence(t),i},_.deleteTraces=function e(t,n){t=w.getGraphDiv(t);var r,a,i=[],o=_.addTraces,c=e,u=[t,i,n],f=[t,n];if(void 0===n)throw new Error("indices must be an integer or array of integers.");for(Array.isArray(n)||(n=[n]),s(t,n,"indices"),n=l(n,t.data.length-1),n.sort(w.sorterDes),r=0;r<n.length;r+=1)a=t.data.splice(n[r],1)[0],i.push(a);var d=_.redraw(t);return M.add(t,o,u,c,f),d},_.moveTraces=function e(t,n,r){t=w.getGraphDiv(t);var a,i=[],o=[],s=e,u=e,f=[t,r,n],d=[t,n,r];if(c(t,n,r),n=Array.isArray(n)?n:[n],void 0===r)for(r=[],a=0;a<n.length;a++)r.push(-n.length+a);for(r=Array.isArray(r)?r:[r],n=l(n,t.data.length-1),r=l(r,t.data.length-1),a=0;a<t.data.length;a++)-1===n.indexOf(a)&&i.push(t.data[a]);for(a=0;a<n.length;a++)o.push({newIndex:r[a],trace:t.data[n[a]]});for(o.sort(function(e,t){return e.newIndex-t.newIndex}),a=0;a<o.length;a+=1)i.splice(o[a].newIndex,0,o[a].trace);t.data=i;var h=_.redraw(t);return M.add(t,s,f,u,d),h},_.restyle=function e(t,n,r,a){t=w.getGraphDiv(t),E.clearPromiseQueue(t);var i={};if("string"==typeof n)i[n]=r;else{if(!w.isPlainObject(n))return w.warn("Restyle fail.",n,r,a),Promise.reject();i=w.extendFlat({},n),void 0===a&&(a=r)}Object.keys(i).length&&(t.changed=!0);var o=E.coerceTraceIndices(t,a),l=g(t,i,o),s=l.flags;s.clearCalc&&(t.calcdata=void 0),s.clearAxisTypes&&E.clearAxisTypes(t,o,{});var c=[];s.fullReplot?c.push(_.plot):(c.push(S.previousPromises),S.supplyDefaults(t),s.style&&c.push(N.doTraceStyle),s.colorbars&&c.push(N.doColorBars)),c.push(S.rehover),M.add(t,e,[t,l.undoit,l.traces],e,[t,l.redoit,l.traces]);var u=w.syncOrAsync(c,t);return u&&u.then||(u=Promise.resolve()),u.then(function(){return t.emit("plotly_restyle",l.eventData),t})},_.relayout=function e(t,n,r){if(t=w.getGraphDiv(t),E.clearPromiseQueue(t),t.framework&&t.framework.isPolar)return Promise.resolve(t);var a={};if("string"==typeof n)a[n]=r;else{if(!w.isPlainObject(n))return w.warn("Relayout fail.",n,r),Promise.reject();a=w.extendFlat({},n)}Object.keys(a).length&&(t.changed=!0);var i=v(t,a),o=i.flags;o.calc&&(t.calcdata=void 0);var l=[S.previousPromises];o.layoutReplot?l.push(N.layoutReplot):Object.keys(a).length&&(S.supplyDefaults(t),o.legend&&l.push(N.doLegend),o.layoutstyle&&l.push(N.layoutStyles),o.ticks&&l.push(N.doTicksRelayout),o.modebar&&l.push(N.doModeBar),o.camera&&l.push(N.doCamera)),l.push(S.rehover),M.add(t,e,[t,i.undoit],e,[t,i.redoit]);var s=w.syncOrAsync(l,t);return s&&s.then||(s=Promise.resolve(t)),s.then(function(){return t.emit("plotly_relayout",i.eventData),t})},_.update=function e(t,n,r,a){if(t=w.getGraphDiv(t),E.clearPromiseQueue(t),t.framework&&t.framework.isPolar)return Promise.resolve(t);w.isPlainObject(n)||(n={}),w.isPlainObject(r)||(r={}),Object.keys(n).length&&(t.changed=!0),Object.keys(r).length&&(t.changed=!0);var i=E.coerceTraceIndices(t,a),o=g(t,w.extendFlat({},n),i),l=o.flags,s=v(t,w.extendFlat({},r)),c=s.flags;(l.clearCalc||c.calc)&&(t.calcdata=void 0),l.clearAxisTypes&&E.clearAxisTypes(t,i,r);var u=[];if(l.fullReplot&&c.layoutReplot){var f=t.data,d=t.layout;t.data=void 0,t.layout=void 0,u.push(function(){return _.plot(t,f,d)})}else l.fullReplot?u.push(_.plot):c.layoutReplot?u.push(N.layoutReplot):(u.push(S.previousPromises),S.supplyDefaults(t),l.style&&u.push(N.doTraceStyle),l.colorbars&&u.push(N.doColorBars),c.legend&&u.push(N.doLegend),c.layoutstyle&&u.push(N.layoutStyles),c.ticks&&u.push(N.doTicksRelayout),c.modebar&&u.push(N.doModeBar),c.camera&&u.push(N.doCamera));u.push(S.rehover),M.add(t,e,[t,o.undoit,s.undoit,o.traces],e,[t,o.redoit,s.redoit,o.traces]);var h=w.syncOrAsync(u,t);return h&&h.then||(h=Promise.resolve(t)),h.then(function(){return t.emit("plotly_update",{data:o.eventData,layout:s.eventData}),t})},_.animate=function(e,t,n){function r(e){return Array.isArray(l)?e>=l.length?l[0]:l[e]:l}function a(e){return Array.isArray(s)?e>=s.length?s[0]:s[e]:s}function i(e,t){var n=0;return function(){if(e&&++n===t)return e()}}if(e=w.getGraphDiv(e),!w.isPlotDiv(e))throw new Error("This element is not a Plotly plot: "+e+". It's likely that you've failed to create a plot before animating it. For more details, see https://plot.ly/javascript/animations/");var o=e._transitionData;o._frameQueue||(o._frameQueue=[]),n=S.supplyAnimationDefaults(n);var l=n.transition,s=n.frame;return void 0===o._frameWaitingCnt&&(o._frameWaitingCnt=0),new Promise(function(s,c){function u(){e.emit("plotly_animated"),window.cancelAnimationFrame(o._animationRaf),o._animationRaf=null}function f(){o._currentFrame&&o._currentFrame.onComplete&&o._currentFrame.onComplete();var t=o._currentFrame=o._frameQueue.shift();if(t){var n=t.name?t.name.toString():null;e._fullLayout._currentFrame=n,o._lastFrameAt=Date.now(),o._timeToNext=t.frameOpts.duration,S.transition(e,t.frame.data,t.frame.layout,E.coerceTraceIndices(e,t.frame.traces),t.frameOpts,t.transitionOpts).then(function(){t.onComplete&&t.onComplete()}),e.emit("plotly_animatingframe",{name:n,frame:t.frame,animation:{frame:t.frameOpts,transition:t.transitionOpts}})}else u()}function d(){e.emit("plotly_animating"),o._lastFrameAt=-1/0,o._timeToNext=0,o._runningTransitions=0,o._currentFrame=null;var t=function(){o._animationRaf=window.requestAnimationFrame(t),Date.now()-o._lastFrameAt>o._timeToNext&&f()};t()}function h(e){return Array.isArray(l)?v>=l.length?e.transitionOpts=l[v]:e.transitionOpts=l[0]:e.transitionOpts=l,v++,e}var p,g,v=0,y=[],m=void 0===t||null===t,x=Array.isArray(t);if(m||x||!w.isPlainObject(t)){if(m||-1!==["string","number"].indexOf(typeof t))for(p=0;p<o._frames.length;p++)(g=o._frames[p])&&(m||String(g.group)===String(t))&&y.push({type:"byname",name:String(g.name),data:h({name:g.name})});else if(x)for(p=0;p<t.length;p++){var b=t[p];-1!==["number","string"].indexOf(typeof b)?(b=String(b),y.push({type:"byname",name:b,data:h({name:b})})):w.isPlainObject(b)&&y.push({type:"object",data:h(w.extendFlat({},b))})}}else y.push({type:"object",data:h(w.extendFlat({},t))});for(p=0;p<y.length;p++)if(g=y[p],"byname"===g.type&&!o._frameHash[g.data.name])return w.warn('animate failure: frame not found: "'+g.data.name+'"'),void c();-1!==["next","immediate"].indexOf(n.mode)&&function(){if(0!==o._frameQueue.length){for(;o._frameQueue.length;){var t=o._frameQueue.pop();t.onInterrupt&&t.onInterrupt()}e.emit("plotly_animationinterrupted",[])}}(),"reverse"===n.direction&&y.reverse();var _=e._fullLayout._currentFrame;if(_&&n.fromcurrent){var k=-1;for(p=0;p<y.length;p++)if(g=y[p],"byname"===g.type&&g.name===_){k=p;break}if(k>0&&k<y.length-1){var M=[];for(p=0;p<y.length;p++)g=y[p],("byname"!==y[p].type||p>k)&&M.push(g);y=M}}y.length>0?function(t){if(0!==t.length){for(var l=0;l<t.length;l++){var u;u="byname"===t[l].type?S.computeFrame(e,t[l].name):t[l].data;var f=a(l),h=r(l);h.duration=Math.min(h.duration,f.duration);var p={frame:u,name:t[l].name,frameOpts:f,transitionOpts:h};l===t.length-1&&(p.onComplete=i(s,2),p.onInterrupt=c),o._frameQueue.push(p)}"immediate"===n.mode&&(o._lastFrameAt=-1/0),o._animationRaf||d()}}(y):(e.emit("plotly_animated"),s())})},_.addFrames=function(e,t,n){e=w.getGraphDiv(e);var r=0;if(null===t||void 0===t)return Promise.resolve();if(!w.isPlotDiv(e))throw new Error("This element is not a Plotly plot: "+e+". It's likely that you've failed to create a plot before adding frames. For more details, see https://plot.ly/javascript/animations/");var a,i,o,l,s=e._transitionData._frames,c=e._transitionData._frameHash;if(!Array.isArray(t))throw new Error("addFrames failure: frameList must be an Array of frame definitions"+t);var u=s.length+2*t.length,f=[];for(a=t.length-1;a>=0;a--)if(w.isPlainObject(t[a])){var d=(c[t[a].name]||{}).name,h=t[a].name;d&&h&&"number"==typeof h&&c[d]&&(r++,w.warn('addFrames: overwriting frame "'+c[d].name+'" with a frame whose name of type "number" also equates to "'+d+'". This is valid but may potentially lead to unexpected behavior since all plotly.js frame names are stored internally as strings.'),r>5&&w.warn("addFrames: This API call has yielded too many warnings. For the rest of this call, further warnings about numeric frame names will be suppressed.")),f.push({frame:S.supplyFrameDefaults(t[a]),index:n&&void 0!==n[a]&&null!==n[a]?n[a]:u+a})}f.sort(function(e,t){return e.index>t.index?-1:e.index<t.index?1:0});var p=[],g=[],v=s.length;for(a=f.length-1;a>=0;a--){if(i=f[a].frame,"number"==typeof i.name&&w.warn("Warning: addFrames accepts frames with numeric names, but the numbers areimplicitly cast to strings"),!i.name)for(;c[i.name="frame "+e._transitionData._counter++];);if(c[i.name]){for(o=0;o<s.length&&(s[o]||{}).name!==i.name;o++);p.push({type:"replace",index:o,value:i}),g.unshift({type:"replace",index:o,value:s[o]})}else l=Math.max(0,Math.min(f[a].index,v)),p.push({type:"insert",index:l,value:i}),g.unshift({type:"delete",index:l}),v++}var y=S.modifyFrames,m=S.modifyFrames,x=[e,g],b=[e,p];return M&&M.add(e,y,x,m,b),S.modifyFrames(e,p)},_.deleteFrames=function(e,t){if(e=w.getGraphDiv(e),!w.isPlotDiv(e))throw new Error("This element is not a Plotly plot: "+e);var n,r,a=e._transitionData._frames,i=[],o=[];if(!t)for(t=[],n=0;n<a.length;n++)t.push(n);for(t=t.slice(0),t.sort(),n=t.length-1;n>=0;n--)r=t[n],i.push({type:"delete",index:r}),o.unshift({type:"insert",index:r,value:a[r]});var l=S.modifyFrames,s=S.modifyFrames,c=[e,o],u=[e,i];return M&&M.add(e,l,c,s,u),S.modifyFrames(e,i)},_.purge=function(e){e=w.getGraphDiv(e);var t=e._fullLayout||{},n=e._fullData||[];return S.cleanPlot([],{},n,t),S.purge(e),k.purge(e),t._container&&t._container.remove(),delete e._context,e}},function(e,t){e.exports=!0},function(e,t,n){"use strict";(e.exports=n(198)).manager=n(278)},function(e,t,n){"use strict";var r=n(58),a=n(57),i=n(60),o=n(198),l=n(279),s=a.extendDeepAll,c=e.exports={};c.framework=function(e){function t(t,a){return a&&(f=a),r.select(r.select(f).node().parentNode).selectAll(".svg-container>*:not(.chart-root)").remove(),n=n?s(n,t):t,i||(i=o.Axis()),u=o.adapter.plotly().convert(n),i.config(u).render(f),e.data=n.data,e.layout=n.layout,c.fillLayout(e),n}var n,a,i,u,f,d=new l;return t.isPolar=!0,t.svg=function(){return i.svg()},t.getConfig=function(){return n},t.getLiveConfig=function(){return o.adapter.plotly().convert(i.getLiveConfig(),!0)},t.getLiveScales=function(){return{t:i.angularScale(),r:i.radialScale()}},t.setUndoPoint=function(){var e=this,t=o.util.cloneJson(n);!function(t,n){d.add({undo:function(){n&&e(n)},redo:function(){e(t)}})}(t,a),a=o.util.cloneJson(t)},t.undo=function(){d.undo()},t.redo=function(){d.redo()},t},c.fillLayout=function(e){var t=r.select(e).selectAll(".plot-container"),n=t.selectAll(".svg-container"),a=e.framework&&e.framework.svg&&e.framework.svg(),o={width:800,height:600,paper_bgcolor:i.background,_container:t,_paperdiv:n,_paper:a};e._fullLayout=s(o,e.layout)}},function(e,t,n){"use strict";e.exports=function(){function e(e,t){return e?(a=!0,e[t](),a=!1,this):this}var t,n=[],r=-1,a=!1;return{add:function(e){return a?this:(n.splice(r+1,n.length-r),n.push(e),r=n.length-1,this)},setCallback:function(e){t=e},undo:function(){var a=n[r];return a?(e(a,"undo"),r-=1,t&&t(a.undo),this):this},redo:function(){var a=n[r+1];return a?(e(a,"redo"),r+=1,t&&t(a.redo),this):this},clear:function(){n=[],r=-1},hasUndo:function(){return-1!==r},hasRedo:function(){return r<n.length-1},getCommands:function(){return n},getPreviousCommand:function(){return n[r-1]},getIndex:function(){return r}}}},function(e,t){function n(e,t,n){t=t||e.currentTarget||e.srcElement,Array.isArray(n)||(n=[0,0]);var a=e.clientX||0,i=e.clientY||0,o=r(t);return n[0]=a-o.left,n[1]=i-o.top,n}function r(e){return e===window||e===document||e===document.body?a:e.getBoundingClientRect()}var a={left:0,top:0};e.exports=n},function(e,t,n){"use strict";e.exports=function(e,t,n,r,a){var i=(e-n)/(r-n),o=i+t/(r-n),l=(i+o)/2;return"left"===a||"bottom"===a?i:"center"===a||"middle"===a?l:"right"===a||"top"===a?o:i<2/3-l?i:o>4/3-l?o:l}},function(e,t,n){"use strict";var r=n(57),a=[["sw-resize","s-resize","se-resize"],["w-resize","move","e-resize"],["nw-resize","n-resize","ne-resize"]];e.exports=function(e,t,n,i){return e="left"===n?0:"center"===n?1:"right"===n?2:r.constrain(Math.floor(3*e),0,2),t="bottom"===i?0:"middle"===i?1:"top"===i?2:r.constrain(Math.floor(3*t),0,2),a[t][e]}},function(e,t,n){"use strict";var r=n(159),a=n(143),i=n(181),o=n(106),l=e.exports={};l.wrapped=function(e,t,n){e=i(e),a.clear(e._fullLayout._uid+o.HOVERID),l.raw(e,t,n)},l.raw=function(e,t){var n=e._fullLayout,a=e._hoverdata;t||(t={}),t.target&&!1===r.triggerHandler(e,"plotly_beforehover",t)||(n._hoverlayer.selectAll("g").remove(),n._hoverlayer.selectAll("line").remove(),n._hoverlayer.selectAll("circle").remove(),e._hoverdata=void 0,t.target&&a&&e.emit("plotly_unhover",{event:t,points:a}))}},function(e,t,n){"use strict";var r=n(57),a=n(200),i=n(161);e.exports=function(e,t){function n(n,a){return r.coerce(e,t,i,n,a)}a(e,t,n)}},function(e,t,n){"use strict";var r=n(57),a=n(139),i=n(200);e.exports=function(e,t,n,o){function l(n,i){return r.coerce(e,t,a,n,i)}i(e,t,l,o.hoverlabel)}},function(e,t,n){"use strict";function r(e){for(var t=!0,n=0;n<e.length;n++){if("h"!==e[n].orientation){t=!1;break}}return t}var a=n(57),i=n(161);e.exports=function(e,t,n){function o(n,r){return a.coerce(e,t,i,n,r)}o("dragmode");var l;t._has("cartesian")?(t._isHoriz=r(n),l=t._isHoriz?"y":"x"):l="closest",o("hovermode",l);var s=t._has("mapbox"),c=t._has("geo"),u=t._basePlotModules.length;"zoom"===t.dragmode&&((s||c)&&1===u||s&&c&&2===u)&&(t.dragmode="pan")}},function(e,t,n){"use strict";function r(e,t,n,r){r=r||a.identity,Array.isArray(e)&&(t[0][n]=r(e))}var a=n(57),i=n(61);e.exports=function(e){for(var t=e.calcdata,n=e._fullLayout,o=0;o<t.length;o++){var l=t[o],s=l[0].trace;if(!i.traceIs(s,"pie")){var c=i.traceIs(s,"2dMap")?r:a.fillArray;c(s.hoverinfo,l,"hi",function(e){return function(t){return a.coerceHoverinfo({hoverinfo:t},{_module:e._module},n)}}(s)),s.hoverlabel&&(c(s.hoverlabel.bgcolor,l,"hbg"),c(s.hoverlabel.bordercolor,l,"hbc"),c(s.hoverlabel.font.size,l,"hts"),c(s.hoverlabel.font.color,l,"htc"),c(s.hoverlabel.font.family,l,"htf"),c(s.hoverlabel.namelength,l,"hnl"))}}}},function(e,t,n){"use strict";var r=n(92),a="data-savedcursor";e.exports=function(e,t){var n=e.attr(a);if(t){if(!n){for(var i=(e.attr("class")||"").split(" "),o=0;o<i.length;o++){var l=i[o];0===l.indexOf("cursor-")&&e.attr(a,l.substr(7)).classed(l,!1)}e.attr(a)||e.attr(a,"!!")}r(e,t)}else n&&(e.attr(a,null),"!!"===n?r(e):r(e,n))}},function(e,t,n){"use strict";var r=n(61),a=n(162).hover;e.exports=function(e,t,n){function i(){e.emit("plotly_click",{points:e._hoverdata,event:t})}var o=r.getComponentMethod("annotations","onClick")(e,e._hoverdata);void 0!==n&&a(e,t,n,!0),e._hoverdata&&t&&t.target&&(o&&o.then?o.then(i):i(),t.stopImmediatePropagation&&t.stopImmediatePropagation())}},function(e,t,n){"use strict";function r(e,t,n,r,a,i,o){var l=e.draglayer.selectAll("."+t).data([0]);return l.enter().append("rect").classed("drag",!0).classed(t,!0).style({fill:"transparent","stroke-width":0}).attr("data-subplot",e.id),l.call(S.setRect,r,a,i,o).call(L,n),l.node()}function a(e,t){for(var n=0;n<e.length;n++)if(!e[n].fixedrange)return t;return""}function i(e,t){var n,r=e.range[t],a=Math.abs(r-e.range[1-t]);return"date"===e.type?r:"log"===e.type?(n=Math.ceil(Math.max(0,-Math.log(a)/Math.LN10))+3,b.format("."+n+"g")(Math.pow(10,r))):(n=Math.floor(Math.log(Math.abs(r))/Math.LN10)-Math.floor(Math.log(a)/Math.LN10)+4,b.format("."+String(n)+"g")(r))}function o(e,t,n,r,a){var i,l,s,c;for(i=0;i<e.length;i++)l=e[i],l.fixedrange||(s=l._rl[0],c=l._rl[1]-s,l.range=[l.l2r(s+c*t),l.l2r(s+c*n)],r[l._name+".range[0]"]=l.range[0],r[l._name+".range[1]"]=l.range[1]);if(a&&a.length){var u=(t+(1-n))/2;o(a,u,1-u,r)}}function l(e,t){for(var n=0;n<e.length;n++){var r=e[n];r.fixedrange||(r.range=[r.l2r(r._rl[0]-t/r._m),r.l2r(r._rl[1]-t/r._m)])}}function s(e){return 1-(e>=0?Math.min(e,.9):1/(1/Math.max(e,-.3)+3.222))}function c(e,t){return e?"nsew"===e?"pan"===t?"move":"crosshair":e.toLowerCase()+"-resize":"pointer"}function u(e,t,n,r,a){return e.append("path").attr("class","zoombox").style({fill:t>.2?"rgba(0,0,0,0)":"rgba(255,255,255,0)","stroke-width":0}).attr("transform","translate("+n+", "+r+")").attr("d",a+"Z")}function f(e,t,n){return e.append("path").attr("class","zoombox-corners").style({fill:T.background,stroke:T.defaultLine,"stroke-width":1,opacity:0}).attr("transform","translate("+t+", "+n+")").attr("d","M0,0Z")}function d(e){e.selectAll(".select-outline").remove()}function h(e,t,n,r,a,i){e.attr("d",r+"M"+n.l+","+n.t+"v"+n.h+"h"+n.w+"v-"+n.h+"h-"+n.w+"Z"),a||(e.transition().style("fill",i>.2?"rgba(0,0,0,0.4)":"rgba(255,255,255,0.3)").duration(200),t.transition().style("opacity",1).duration(200))}function p(e){b.select(e).selectAll(".zoombox,.js-zoombox-backdrop,.js-zoombox-menu,.zoombox-corners").remove()}function g(e){return-1!==["lasso","select"].indexOf(e)}function v(e,t){return"M"+(e.l-.5)+","+(t-R-.5)+"h-3v"+(2*R+1)+"h3ZM"+(e.r+.5)+","+(t-R-.5)+"h3v"+(2*R+1)+"h-3Z"}function y(e,t){return"M"+(t-R-.5)+","+(e.t-.5)+"v-3h"+(2*R+1)+"v3ZM"+(t-R-.5)+","+(e.b+.5)+"v3h"+(2*R+1)+"v-3Z"}function m(e){var t=Math.floor(Math.min(e.b-e.t,e.r-e.l,R)/2);return"M"+(e.l-3.5)+","+(e.t-.5+t)+"h3v"+-t+"h"+t+"v-3h-"+(t+3)+"ZM"+(e.r+3.5)+","+(e.t-.5+t)+"h-3v"+-t+"h"+-t+"v-3h"+(t+3)+"ZM"+(e.r+3.5)+","+(e.b+.5-t)+"h-3v"+t+"h"+-t+"v3h"+(t+3)+"ZM"+(e.l-3.5)+","+(e.b+.5-t)+"h3v"+t+"h"+t+"v3h-"+(t+3)+"Z"}function x(e,t,n){var r,a,i,o,l,s,c=!1,u={},f={};for(r=0;r<e.length;r++){for(o=e[r],a=0;a<t.length;a++)if(o[t[a]]){for(l in o)-1===("x"===l.charAt(0)?t:n).indexOf(l)&&(u[l]=1);for(i=0;i<n.length;i++)o[n[i]]&&(c=!0)}for(a=0;a<n.length;a++)if(o[n[a]])for(s in o)-1===("x"===s.charAt(0)?t:n).indexOf(s)&&(f[s]=1)}return c&&(M.extendFlat(u,f),f={}),{x:u,y:f,xy:c}}var b=n(58),_=n(75),w=n(64),k=n(61),M=n(57),A=n(70),T=n(60),S=n(62),L=n(92),C=n(76),O=n(71).FROM_TL,z=n(65),j=n(63).doTicks,D=n(73).getFromId,I=n(291),P=n(202),E=n(66),N=E.MINDRAG,R=E.MINZOOM,F=!0;e.exports=function(e,t,n,T,L,B,q,H){function V(){te=[t.xaxis],ne=[t.yaxis];var n=te[0],r=ne[0];ie=n._length,oe=r._length;var i=he._axisConstraintGroups,o=[n._id],l=[r._id];ee=[t].concat(q&&H?t.overlays:[]);for(var s=1;s<ee.length;s++){var u=ee[s].xaxis,f=ee[s].yaxis;-1===te.indexOf(u)&&(te.push(u),o.push(u._id)),-1===ne.indexOf(f)&&(ne.push(f),l.push(f._id))}le=a(te,H),se=a(ne,q),ce=c(se+le,he.dragmode),re=n._offset,ae=r._offset;var d=x(i,o,l);ue=d.xy,fe=[];for(var h in d.x)fe.push(D(e,h));de=[];for(var p in d.y)de.push(D(e,p))}function U(t,n,r){var a=ve.getBoundingClientRect();me=n-a.left,xe=r-a.top,be={l:me,r:me,w:0,t:xe,b:xe,h:0},_e=e._hmpixcount?e._hmlumcount/e._hmpixcount:_(e._fullLayout.plot_bgcolor).getLuminance(),we="M0,0H"+ie+"V"+oe+"H0V0",ke=!1,Me="xy",Ae=u(pe,_e,re,ae,we),Te=f(pe,re,ae),d(pe)}function G(t,n){function r(){Me="",be.r=be.l,be.t=be.b,Te.attr("d","M0,0Z")}if(e._transitioningWithDuration)return!1;var a=Math.max(0,Math.min(ie,t+me)),i=Math.max(0,Math.min(oe,n+xe)),o=Math.abs(a-me),l=Math.abs(i-xe);be.l=Math.min(me,a),be.r=Math.max(me,a),be.t=Math.min(xe,i),be.b=Math.max(xe,i),ue?o>R||l>R?(Me="xy",o/ie>l/oe?(l=o*oe/ie,xe>i?be.t=xe-l:be.b=xe+l):(o=l*ie/oe,me>a?be.l=me-o:be.r=me+o),Te.attr("d",m(be))):r():!se||l<Math.min(Math.max(.6*o,N),R)?o<N?r():(be.t=0,be.b=oe,Me="x",Te.attr("d",v(be,xe))):!le||o<Math.min(.6*l,R)?(be.l=0,be.r=ie,Me="y",Te.attr("d",y(be,me))):(Me="xy",Te.attr("d",m(be))),be.w=be.r-be.l,be.h=be.b-be.t,h(Ae,Te,be,we,ke,_e),ke=!0}function X(t,n){if(Math.min(be.h,be.w)<2*N)return 2===n&&$(),p(e);"xy"!==Me&&"x"!==Me||o(te,be.l/ie,be.r/ie,Se,fe),"xy"!==Me&&"y"!==Me||o(ne,(oe-be.b)/oe,(oe-be.t)/oe,Se,de),p(e),J(Me),F&&e.data&&e._context.showTips&&(M.notifier("Double-click to<br>zoom back out","long"),F=!1)}function Y(t,n){var r=1===(q+H).length;if(t)J();else if(2!==n||r){if(1===n&&r){var a=q?ne[0]:te[0],o="s"===q||"w"===H?0:1,l=a._name+".range["+o+"]",s=i(a,o),c="left",u="middle";if(a.fixedrange)return;q?(u="n"===q?"top":"bottom","right"===a.side&&(c="right")):"e"===H&&(c="right"),e._context.showAxisRangeEntryBoxes&&b.select(ve).call(A.makeEditable,{gd:e,immediate:!0,background:he.paper_bgcolor,text:String(s),fill:a.tickfont?a.tickfont.color:"#444",horizontalAlign:c,verticalAlign:u}).on("edit",function(t){var n=a.d2r(t);void 0!==n&&w.relayout(e,l,n)})}}else $()}function Z(t){function n(e,t,n){function r(t){return e.l2r(i+(t-i)*n)}if(!e.fixedrange){var a=M.simpleMap(e.range,e.r2l),i=a[0]+(a[1]-a[0])*t;e.range=a.map(r)}}if(e._context.scrollZoom||he._enablescrollzoom){if(e._transitioningWithDuration)return M.pauseEvent(t);var r=e.querySelector(".plotly");if(V(),!(r.scrollHeight-r.clientHeight>10||r.scrollWidth-r.clientWidth>10)){clearTimeout(Ce);var a=-t.deltaY;if(isFinite(a)||(a=t.wheelDelta/10),!isFinite(a))return void M.log("Did not find wheel motion attributes: ",t);var i,o=Math.exp(-Math.min(Math.max(a,-20),20)/200),l=ze.draglayer.select(".nsewdrag").node().getBoundingClientRect(),s=(t.clientX-l.left)/l.width,c=(l.bottom-t.clientY)/l.height;if(H||ue){for(H||(s=.5),i=0;i<te.length;i++)n(te[i],s,o);Le[2]*=o,Le[0]+=Le[2]*s*(1/o-1)}if(q||ue){for(q||(c=.5),i=0;i<ne.length;i++)n(ne[i],c,o);Le[3]*=o,Le[1]+=Le[3]*(1-c)*(1/o-1)}return K(Le),Q(q,H),Ce=setTimeout(function(){Le=[0,0,ie,oe];var e;e=ue?"xy":(H?"x":"")+(q?"y":""),J(e)},Oe),M.pauseEvent(t)}}}function W(t,n){function r(e,t,n){for(var r,a,i=1-t,o=0;o<e.length;o++){var l=e[o];if(!l.fixedrange){r=l,a=l._rl[i]+(l._rl[t]-l._rl[i])/s(n/l._length);var c=l.l2r(a);!1!==c&&void 0!==c&&(l.range[t]=c)}}return r._length*(r._rl[t]-a)/(r._rl[t]-r._rl[i])}if(!e._transitioningWithDuration){if(V(),"ew"===le||"ns"===se)return le&&l(te,t),se&&l(ne,n),K([le?-t:0,se?-n:0,ie,oe]),void Q(se,le);if(ue&&le&&se){var a="w"===le==("n"===se)?1:-1,i=(t/ie+a*n/oe)/2;t=i*ie,n=a*i*oe}"w"===le?t=r(te,0,t):"e"===le?t=r(te,1,-t):le||(t=0),"n"===se?n=r(ne,1,n):"s"===se?n=r(ne,0,-n):se||(n=0);var o="w"===le?t:0,c="n"===se?n:0;if(ue){var u;if(!le&&1===se.length){for(u=0;u<te.length;u++)te[u].range=te[u]._r.slice(),P(te[u],1-n/oe);t=n*ie/oe,o=t/2}if(!se&&1===le.length){for(u=0;u<ne.length;u++)ne[u].range=ne[u]._r.slice(),P(ne[u],1-t/ie);n=t*oe/ie,c=n/2}}K([o,c,ie-t,oe-n]),Q(se,le)}}function Q(t,n){function r(e){for(i=0;i<e.length;i++)e[i].fixedrange||o.push(e[i]._id)}function a(r,a,l){for(i=0;i<r.length;i++){var s=r[i];if((n&&-1!==o.indexOf(s.xref)||t&&-1!==o.indexOf(s.yref))&&(a(e,i),l))return}}var i,o=[];for((n||ue)&&(r(te),r(fe)),(t||ue)&&(r(ne),r(de)),Se={},i=0;i<o.length;i++){var l=o[i];j(e,l,!0);var s=D(e,l);Se[s._name+".range[0]"]=s.range[0],Se[s._name+".range[1]"]=s.range[1]}a(he.annotations||[],k.getComponentMethod("annotations","drawOne")),a(he.shapes||[],k.getComponentMethod("shapes","drawOne")),a(he.images||[],k.getComponentMethod("images","draw"),!0)}function $(){if(!e._transitioningWithDuration){var t,n,r,a=e._context.doubleClick,i=(le?te:[]).concat(se?ne:[]),o={};if("reset+autosize"===a)for(a="autosize",n=0;n<i.length;n++)if(t=i[n],t._rangeInitial&&(t.range[0]!==t._rangeInitial[0]||t.range[1]!==t._rangeInitial[1])||!t._rangeInitial&&!t.autorange){a="reset";break}if("autosize"===a)for(n=0;n<i.length;n++)t=i[n],t.fixedrange||(o[t._name+".autorange"]=!0);else if("reset"===a)for((le||ue)&&(i=i.concat(fe)),se&&!ue&&(i=i.concat(de)),ue&&(le?se||(i=i.concat(ne)):i=i.concat(te)),n=0;n<i.length;n++)t=i[n],t._rangeInitial?(r=t._rangeInitial,o[t._name+".range[0]"]=r[0],o[t._name+".range[1]"]=r[1]):o[t._name+".autorange"]=!0;e.emit("plotly_doubleclick",null),w.relayout(e,o)}}function J(t){void 0===t&&(t=(H?"x":"")+(q?"y":"")),K([0,0,ie,oe]),M.syncOrAsync([z.previousPromises,function(){w.relayout(e,Se)}],e)}function K(e){function t(e){return e.fixedrange?0:h&&-1!==fe.indexOf(e)?f:p&&-1!==(ue?fe:de).indexOf(e)?d:0}function n(e,t){return t?(e.range=e._r.slice(),P(e,t),r(e,t)):0}function r(e,t){return e._length*(1-t)*O[e.constraintoward||"middle"]}var a,i,o,l,s,c=he._plots,u=Object.keys(c),f=e[2]/te[0]._length,d=e[3]/ne[0]._length,h=H||ue,p=q||ue;for(a=0;a<u.length;a++){var g=c[u[a]],v=g.xaxis,y=g.yaxis,m=h&&!v.fixedrange&&-1!==te.indexOf(v),x=p&&!y.fixedrange&&-1!==ne.indexOf(y);if(m?(i=f,l=H?e[0]:r(v,i)):(i=t(v),l=n(v,i)),x?(o=d,s=q?e[1]:r(y,o)):(o=t(y),s=n(y,o)),i||o){i||(i=1),o||(o=1);var b=v._offset-l/i,_=y._offset-s/o;he._defs.select("#"+g.clipId+"> rect").call(S.setTranslate,l,s).call(S.setScale,i,o);var w=g.plot.selectAll(".scatterlayer .points, .boxlayer .points");g.plot.call(S.setTranslate,b,_).call(S.setScale,1/i,1/o),w.selectAll(".point").call(S.setPointGroupScale,i,o).call(S.hideOutsideRangePoints,g),w.selectAll(".textpoint").call(S.setTextPointsScale,i,o).call(S.hideOutsideRangePoints,g)}}}var ee,te,ne,re,ae,ie,oe,le,se,ce,ue,fe,de,he=e._fullLayout,pe=e._fullLayout._zoomlayer,ge=q+H==="nsew";V();var ve=r(t,q+H+"drag",ce,n,T,L,B);if(!se&&!le&&!g(he.dragmode))return ve.onmousedown=null,ve.style.pointerEvents=ge?"all":"none",ve;var ye={element:ve,gd:e,plotinfo:t,prepFn:function(t,n,r){var a=e._fullLayout.dragmode;ge?t.shiftKey&&(a="pan"===a?"zoom":"pan"):a="pan",ye.minDrag="lasso"===a?1:void 0,"zoom"===a?(ye.moveFn=G,ye.doneFn=X,ye.minDrag=1,U(t,n,r)):"pan"===a?(ye.moveFn=W,ye.doneFn=Y,d(pe)):g(a)&&(ye.xaxes=te,ye.yaxes=ne,I(t,n,r,ye,a))}};C.init(ye);var me,xe,be,_e,we,ke,Me,Ae,Te,Se={},Le=[0,0,ie,oe],Ce=null,Oe=E.REDRAWDELAY,ze=t.mainplot?he._plots[t.mainplot]:t;return q.length*H.length!=1&&(void 0!==ve.onwheel?ve.onwheel=Z:void 0!==ve.onmousewheel&&(ve.onmousewheel=Z)),ve}},function(e,t,n){"use strict";function r(e){return e._id}function a(e,t){if(Array.isArray(e))for(var n=t.cd[0].trace,r=0;r<e.length;r++){var a=e[r];a.curveNumber=n.index,a.data=n._input,a.fullData=n,s(a,n,a.pointNumber)}return e}var i=n(201),o=n(143),l=n(60),s=n(160).appendArrayPointValue,c=n(63),u=n(66),f=i.filter,d=i.tester,h=u.MINSELECT;e.exports=function(e,t,n,i,s){function p(e){var t="y"===e._id.charAt(0)?1:0;return function(n){return e.p2d(n[t])}}function g(e,t){return e-t}var v,y=i.gd._fullLayout._zoomlayer,m=i.element.getBoundingClientRect(),x=i.plotinfo,b=x.xaxis._offset,_=x.yaxis._offset,w=t-m.left,k=n-m.top,M=w,A=k,T="M"+w+","+k,S=i.xaxes[0]._length,L=i.yaxes[0]._length,C=i.xaxes.map(r),O=i.yaxes.map(r),z=i.xaxes.concat(i.yaxes);"lasso"===s&&(v=f([[w,k]],u.BENDPX));var j=y.selectAll("path.select-outline").data([1,2]);j.enter().append("path").attr("class",function(e){return"select-outline select-outline-"+e}).attr("transform","translate("+b+", "+_+")").attr("d",T+"Z");var D,I,P,E,N,R=y.append("path").attr("class","zoombox-corners").style({fill:l.background,stroke:l.defaultLine,"stroke-width":1}).attr("transform","translate("+b+", "+_+")").attr("d","M0,0Z"),F=[],B=i.gd,q=B._fullLayout._uid+u.SELECTID,H=[];for(D=0;D<B.calcdata.length;D++)if(I=B.calcdata[D],P=I[0].trace,P._module&&P._module.selectPoints)if(i.subplot)P.subplot!==i.subplot&&P.geo!==i.subplot||F.push({selectPoints:P._module.selectPoints,cd:I,xaxis:i.xaxes[0],yaxis:i.yaxes[0]});else{if(-1===C.indexOf(P.xaxis))continue;if(-1===O.indexOf(P.yaxis))continue;F.push({selectPoints:P._module.selectPoints,cd:I,xaxis:c.getFromId(B,P.xaxis),yaxis:c.getFromId(B,P.yaxis)})}var V;V=x.fillRangeItems?x.fillRangeItems:"select"===s?function(e,t){var n=e.range={};for(D=0;D<z.length;D++){var r=z[D],a=r._id.charAt(0);n[r._id]=[r.p2d(t[a+"min"]),r.p2d(t[a+"max"])].sort(g)}}:function(e,t,n){var r=e.lassoPoints={};for(D=0;D<z.length;D++){var a=z[D];r[a._id]=n.filtered.map(p(a))}},i.moveFn=function(e,t){var n;M=Math.max(0,Math.min(S,e+w)),A=Math.max(0,Math.min(L,t+k));var r=Math.abs(M-w),l=Math.abs(A-k);"select"===s?(l<Math.min(.6*r,h)?(n=d([[w,0],[w,L],[M,L],[M,0]]),R.attr("d","M"+n.xmin+","+(k-h)+"h-4v"+2*h+"h4ZM"+(n.xmax-1)+","+(k-h)+"h4v"+2*h+"h-4Z")):r<Math.min(.6*l,h)?(n=d([[0,k],[0,A],[S,A],[S,k]]),R.attr("d","M"+(w-h)+","+n.ymin+"v-4h"+2*h+"v4ZM"+(w-h)+","+(n.ymax-1)+"v4h"+2*h+"v-4Z")):(n=d([[w,k],[w,A],[M,A],[M,k]]),R.attr("d","M0,0Z")),j.attr("d","M"+n.xmin+","+n.ymin+"H"+(n.xmax-1)+"V"+(n.ymax-1)+"H"+n.xmin+"Z")):"lasso"===s&&(v.addPt([M,A]),n=d(v.filtered),j.attr("d","M"+v.filtered.join("L")+"Z")),o.throttle(q,u.SELECTDELAY,function(){for(H=[],D=0;D<F.length;D++){E=F[D];var e=a(E.selectPoints(E,n),E);if(H.length)for(var t=0;t<e.length;t++)H.push(e[t]);else H=e}N={points:H},V(N,n,v),i.gd.emit("plotly_selecting",N)})},i.doneFn=function(e,t){R.remove(),o.done(q).then(function(){if(o.clear(q),e||2!==t)i.gd.emit("plotly_selected",N);else{for(j.remove(),D=0;D<F.length;D++)E=F[D],E.selectPoints(E,!1);B.emit("plotly_deselect",null)}})}}},function(e,t,n){"use strict";var r=n(117),a=n(101),i=n(138),o=n(100),l=n(179).sorterAsc,s=n(61);t.containerArrayMatch=n(174);var c=t.isAddVal=function(e){return"add"===e||a(e)},u=t.isRemoveVal=function(e){return null===e||"remove"===e};t.applyContainerArrayChanges=function(e,t,n,a){var f=t.astr,d=s.getComponentMethod(f,"supplyLayoutDefaults"),h=s.getComponentMethod(f,"draw"),p=s.getComponentMethod(f,"drawOne"),g=a.replot||a.recalc||d===i||h===i,v=e.layout,y=e._fullLayout;if(n[""]){Object.keys(n).length>1&&o.warn("Full array edits are incompatible with other edits",f);var m=n[""][""];if(u(m))t.set(null);else{if(!Array.isArray(m))return o.warn("Unrecognized full array edit value",f,m),!0;t.set(m)}return!g&&(d(v,y),h(e),!0)}var x,b,_,w,k,M,A,T=Object.keys(n).map(Number).sort(l),S=t.get(),L=S||[],C=r(y,f).get(),O=[],z=-1,j=L.length;for(x=0;x<T.length;x++)if(_=T[x],w=n[_],k=Object.keys(w),M=w[""],A=c(M),_<0||_>L.length-(A?0:1))o.warn("index out of range",f,_);else if(void 0!==M)k.length>1&&o.warn("Insertion & removal are incompatible with edits to the same index.",f,_),u(M)?O.push(_):A?("add"===M&&(M={}),L.splice(_,0,M),C&&C.splice(_,0,{})):o.warn("Unrecognized full object edit value",f,_,M),-1===z&&(z=_);else for(b=0;b<k.length;b++)r(L[_],k[b]).set(w[k[b]]);for(x=O.length-1;x>=0;x--)L.splice(O[x],1),C&&C.splice(O[x],1);if(L.length?S||t.set(L):t.set(null),g)return!1;if(d(v,y),p!==i){var D;if(-1===z)D=T;else{for(j=Math.max(L.length,j),D=[],x=0;x<T.length&&!((_=T[x])>=z);x++)D.push(_);for(x=z;x<j;x++)D.push(x)}for(x=0;x<D.length;x++)p(e,D[x])}else h(e);return!0}},function(e,t,n){"use strict";function r(e,t){var n=e[t],r=t.charAt(0);n&&"paper"!==n&&(e[t]=d.cleanId(n,r))}function a(e){var t="middle",n="center";return-1!==e.indexOf("top")?t="top":-1!==e.indexOf("bottom")&&(t="bottom"),-1!==e.indexOf("left")?n="left":-1!==e.indexOf("right")&&(n="right"),t+" "+n}function i(e,t){return t in e&&"object"==typeof e[t]&&0===Object.keys(e[t]).length}function o(e){var t=e.search(p);if(t>0)return e.substr(0,t)}var l=n(59),s=n(294),c=n(61),u=n(57),f=n(65),d=n(63),h=n(60);t.clearPromiseQueue=function(e){Array.isArray(e._promises)&&e._promises.length>0&&u.log("Clearing previous rejected promises from queue."),e._promises=[]},t.cleanLayout=function(e){var t,n;e||(e={}),e.xaxis1&&(e.xaxis||(e.xaxis=e.xaxis1),delete e.xaxis1),e.yaxis1&&(e.yaxis||(e.yaxis=e.yaxis1),delete e.yaxis1);var a=d.list({_fullLayout:e});for(t=0;t<a.length;t++){var o=a[t];o.anchor&&"free"!==o.anchor&&(o.anchor=d.cleanId(o.anchor)),o.overlaying&&(o.overlaying=d.cleanId(o.overlaying)),o.type||(o.isdate?o.type="date":o.islog?o.type="log":!1===o.isdate&&!1===o.islog&&(o.type="linear")),"withzero"!==o.autorange&&"tozero"!==o.autorange||(o.autorange=!0,o.rangemode="tozero"),delete o.islog,delete o.isdate,delete o.categories,i(o,"domain")&&delete o.domain,void 0!==o.autotick&&(void 0===o.tickmode&&(o.tickmode=o.autotick?"auto":"linear"),delete o.autotick)}var l=Array.isArray(e.annotations)?e.annotations.length:0;for(t=0;t<l;t++){var c=e.annotations[t];u.isPlainObject(c)&&(c.ref&&("paper"===c.ref?(c.xref="paper",c.yref="paper"):"data"===c.ref&&(c.xref="x",c.yref="y"),delete c.ref),r(c,"xref"),r(c,"yref"))}var p=Array.isArray(e.shapes)?e.shapes.length:0;for(t=0;t<p;t++){var g=e.shapes[t];u.isPlainObject(g)&&(r(g,"xref"),r(g,"yref"))}var v=e.legend;v&&(v.x>3?(v.x=1.02,v.xanchor="left"):v.x<-2&&(v.x=-.02,v.xanchor="right"),v.y>3?(v.y=1.02,v.yanchor="bottom"):v.y<-2&&(v.y=-.02,v.yanchor="top")),"rotate"===e.dragmode&&(e.dragmode="orbit"),e.scene1&&(e.scene||(e.scene=e.scene1),delete e.scene1);var y=f.getSubplotIds(e,"gl3d");for(t=0;t<y.length;t++){var m=e[y[t]],x=m.cameraposition;if(Array.isArray(x)&&4===x[0].length){var b=x[0],_=x[1],w=x[2],k=s([],b),M=[];for(n=0;n<3;++n)M[n]=_[t]+w*k[2+4*n];m.camera={eye:{x:M[0],y:M[1],z:M[2]},center:{x:_[0],y:_[1],z:_[2]},up:{x:k[1],y:k[5],z:k[9]}},delete m.cameraposition}}return h.clean(e),e},t.cleanData=function(e,n){for(var r=[],o=(e.concat(Array.isArray(n)?n:[]).filter(function(e){return"uid"in e}).map(function(e){return e.uid})),l=0;l<e.length;l++){var s,p=e[l];if(!("uid"in p)||-1!==r.indexOf(p.uid)){var g;for(s=0;s<100&&(g=u.randstr(o),-1!==r.indexOf(g));s++);p.uid=u.randstr(o),o.push(p.uid)}if(r.push(p.uid),"histogramy"===p.type&&"xbins"in p&&!("ybins"in p)&&(p.ybins=p.xbins,delete p.xbins),p.error_y&&"opacity"in p.error_y){var v=h.defaults,y=p.error_y.color||(c.traceIs(p,"bar")?h.defaultLine:v[l%v.length]);p.error_y.color=h.addOpacity(h.rgb(y),h.opacity(y)*p.error_y.opacity),delete p.error_y.opacity}if("bardir"in p&&("h"!==p.bardir||!c.traceIs(p,"bar")&&"histogram"!==p.type.substr(0,9)||(p.orientation="h",t.swapXYData(p)),delete p.bardir),"histogramy"===p.type&&t.swapXYData(p),"histogramx"!==p.type&&"histogramy"!==p.type||(p.type="histogram"),"scl"in p&&(p.colorscale=p.scl,delete p.scl),"reversescl"in p&&(p.reversescale=p.reversescl,delete p.reversescl),p.xaxis&&(p.xaxis=d.cleanId(p.xaxis,"x")),p.yaxis&&(p.yaxis=d.cleanId(p.yaxis,"y")),c.traceIs(p,"gl3d")&&p.scene&&(p.scene=f.subplotsRegistry.gl3d.cleanId(p.scene)),c.traceIs(p,"pie")||c.traceIs(p,"bar")||(Array.isArray(p.textposition)?p.textposition=p.textposition.map(a):p.textposition&&(p.textposition=a(p.textposition))),c.traceIs(p,"2dMap")&&("YIGnBu"===p.colorscale&&(p.colorscale="YlGnBu"),"YIOrRd"===p.colorscale&&(p.colorscale="YlOrRd")),c.traceIs(p,"markerColorscale")&&p.marker){var m=p.marker;"YIGnBu"===m.colorscale&&(m.colorscale="YlGnBu"),"YIOrRd"===m.colorscale&&(m.colorscale="YlOrRd")}if("surface"===p.type&&u.isPlainObject(p.contours)){var x=["x","y","z"];for(s=0;s<x.length;s++){var b=p.contours[x[s]];u.isPlainObject(b)&&(b.highlightColor&&(b.highlightcolor=b.highlightColor,delete b.highlightColor),b.highlightWidth&&(b.highlightwidth=b.highlightWidth,delete b.highlightWidth))}}if(Array.isArray(p.transforms)){var _=p.transforms;for(s=0;s<_.length;s++){var w=_[s];if(u.isPlainObject(w))switch(w.type){case"filter":w.filtersrc&&(w.target=w.filtersrc,delete w.filtersrc),w.calendar&&(w.valuecalendar||(w.valuecalendar=w.calendar),delete w.calendar);break;case"groupby":if(w.styles=w.styles||w.style,w.styles&&!Array.isArray(w.styles)){var k=w.styles,M=Object.keys(k);w.styles=[];for(var A=0;A<M.length;A++)w.styles.push({target:M[A],value:k[M[A]]})}}}}i(p,"line")&&delete p.line,"marker"in p&&(i(p.marker,"line")&&delete p.marker.line,i(p,"marker")&&delete p.marker),h.clean(p)}},t.swapXYData=function(e){var t;if(u.swapAttrs(e,["?","?0","d?","?bins","nbins?","autobin?","?src","error_?"]),Array.isArray(e.z)&&Array.isArray(e.z[0])&&(e.transpose?delete e.transpose:e.transpose=!0),e.error_x&&e.error_y){var n=e.error_y,r="copy_ystyle"in n?n.copy_ystyle:!(n.color||n.thickness||n.width);u.swapAttrs(e,["error_?.copy_ystyle"]),r&&u.swapAttrs(e,["error_?.color","error_?.thickness","error_?.width"])}if("string"==typeof e.hoverinfo){var a=e.hoverinfo.split("+");for(t=0;t<a.length;t++)"x"===a[t]?a[t]="y":"y"===a[t]&&(a[t]="x");e.hoverinfo=a.join("+")}},t.coerceTraceIndices=function(e,t){return l(t)?[t]:Array.isArray(t)&&t.length?t:e.data.map(function(e,t){return t})},t.manageArrayContainers=function(e,t,n){var r=e.obj,a=e.parts,i=a.length,o=a[i-1],s=l(o);if(s&&null===t){var c=a.slice(0,i-1).join(".");u.nestedProperty(r,c).get().splice(o,1)}else s&&void 0===e.get()?(void 0===e.get()&&(n[e.astr]=null),e.set(t)):e.set(t)};var p=/(\.[^\[\]\.]+|\[[^\[\]\.]+\])$/;t.hasParent=function(e,t){for(var n=o(t);n;){if(n in e)return!0;n=o(n)}return!1};var g=["x","y","z"];t.clearAxisTypes=function(e,t,n){for(var r=0;r<t.length;r++)for(var a=e._fullData[r],i=0;i<3;i++){var o=d.getFromTrace(e,a,g[i]);if(o&&"log"!==o.type){var l=o._name,s=o._id.substr(1);if("scene"===s.substr(0,5)){if(void 0!==n[s])continue;l=s+"."+l}var c=l+".type";void 0===n[l]&&void 0===n[c]&&u.nestedProperty(e.layout,c).set(null)}}}},function(e,t){function n(e,t){var n=t[0],r=t[1],a=t[2],i=t[3],o=n+n,l=r+r,s=a+a,c=n*o,u=r*o,f=r*l,d=a*o,h=a*l,p=a*s,g=i*o,v=i*l,y=i*s;return e[0]=1-f-p,e[1]=u+y,e[2]=d-v,e[3]=0,e[4]=u-y,e[5]=1-c-p,e[6]=h+g,e[7]=0,e[8]=d+v,e[9]=h-g,e[10]=1-c-f,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e}e.exports=n},function(e,t,n){"use strict";function r(e,t,n){for(var r=0;r<n.length;r++){var a=n[r][0],i=n[r][1];if(!(a[0]>=e[1]||a[1]<=e[0])&&(i[0]<t[1]&&i[1]>t[0]))return!0}return!1}function a(e,t,n){return e._anchorAxis===t&&(e.mirror||e.side===n)||"all"===e.mirror||"allticks"===e.mirror||e.mirrors&&e.mirrors[t._id+n]}function i(e,t,n){var r=[],a=t._anchorAxis;if(a){var i=a._mainAxis;if(-1===r.indexOf(i)){r.push(i);for(var o=0;o<n.length;o++)n[o].overlaying===i._id&&-1===r.indexOf(n[o])&&r.push(n[o])}}return r}function o(e,t,n){for(var r=0;r<t.length;r++){var i=t[r],o=i._anchorAxis;if(o&&a(i,o,n))return p.crispRound(e,i.linewidth)}}function l(e,t,n,r,a,l){if(r)return n;var s,c=t._mainAxis,u=i(e,c,l),f=o(e,u,a);if(f)return f;for(s=0;s<l.length;s++)if(l[s].overlaying===c._id&&(u=i(e,l[s],l),f=o(e,u,a)))return f;return 0}var s=n(58),c=n(64),u=n(61),f=n(65),d=n(57),h=n(60),p=n(62),g=n(152),v=n(194),y=n(199),m=n(66);t.layoutStyles=function(e){return d.syncOrAsync([f.doAutoMargin,t.lsInner],e)},t.lsInner=function(e){var n,i=e._fullLayout,o=i._size,u=o.p,f=c.Axes.list(e),d=i._has("cartesian");for(n=0;n<f.length;n++)f[n]._linepositions={};i._paperdiv.style({width:i.width+"px",height:i.height+"px"}).selectAll(".main-svg").call(p.setSize,i.width,i.height),e._context.setBackground(e,i.paper_bgcolor);var g=i._paper.selectAll("g.subplot"),y=[],x=[];g.each(function(e){var t=i._plots[e];if(t.mainplot)return t.bg&&t.bg.remove(),void(t.bg=void 0);var n=t.xaxis.domain,a=t.yaxis.domain,o=[];r(n,a,x)?o=[0]:(y.push(e),x.push([n,a]));var l=t.plotgroup.selectAll(".bg").data(o);l.enter().append("rect").classed("bg",!0),l.exit().remove(),l.each(function(){t.bg=l;var e=t.plotgroup.node();e.insertBefore(this,e.childNodes[0])})});var b=i._bgLayer.selectAll(".bg").data(y);b.enter().append("rect").classed("bg",!0),b.exit().remove(),b.each(function(e){i._plots[e].bg=s.select(this)});var _={};return g.each(function(t){function r(e,t){return t?"M"+I+","+e+"H"+E:""}function s(e,t){return t?"M"+e+","+V+"V"+q:""}var c=i._plots[t],g=c.xaxis,v=c.yaxis;g.setScale(),v.setScale(),c.bg&&d&&c.bg.call(p.setRect,g._offset-u,v._offset-u,g._length+2*u,v._length+2*u).call(h.fill,i.plot_bgcolor).style("stroke-width",0),c.clipId="clip"+i._uid+t+"plot";var y=i._clips.selectAll("#"+c.clipId).data([0]);y.enter().append("clipPath").attr({class:"plotclip",id:c.clipId}).append("rect"),y.selectAll("rect").attr({width:g._length,height:v._length}),p.setTranslate(c.plot,g._offset,v._offset);var x,b;for(c._hasClipOnAxisFalse?(x=null,b=c.clipId):(x=c.clipId,b=null),p.setClipUrl(c.plot,x),n=0;n<m.traceLayerClasses.length;n++){var w=m.traceLayerClasses[n];"scatterlayer"!==w&&c.plot.selectAll("g."+w).call(p.setClipUrl,b)}c.layerClipId=b;var k=!g._anchorAxis,M=k&&!_[g._id],A=a(g,v,"bottom"),T=a(g,v,"top"),S=!v._anchorAxis,L=S&&!_[v._id],C=a(v,g,"left"),O=a(v,g,"right"),z=p.crispRound(e,g.linewidth,1),j=p.crispRound(e,v.linewidth,1),D=l(e,g,j,C,"left",f),I=!k&&D?-u-D:0,P=l(e,g,j,O,"right",f),E=g._length+(!k&&P?u+P:0),N=o.h*(1-(g.position||0))+z/2%1,R=v._length+u+z/2,F=-u-z/2,B=!S&&l(e,v,z,A,"bottom",f),q=v._length+(B?u:0),H=!S&&l(e,v,z,T,"top",f),V=H?-u:0,U=o.w*(v.position||0)+j/2%1,G=-u-j/2,X=g._length+u+j/2;g._linepositions[t]=[A?R:void 0,T?F:void 0,M?N:void 0],g._anchorAxis===v?g._linepositions[t][3]="top"===g.side?F:R:M&&(g._linepositions[t][3]=N),v._linepositions[t]=[C?G:void 0,O?X:void 0,L?U:void 0],v._anchorAxis===g?v._linepositions[t][3]="right"===v.side?X:G:L&&(v._linepositions[t][3]=U);var Y="translate("+g._offset+","+v._offset+")",Z=Y,W=Y;M&&(Z="translate("+g._offset+","+o.t+")",F+=v._offset-o.t,R+=v._offset-o.t),L&&(W="translate("+o.l+","+v._offset+")",G+=g._offset-o.l,X+=g._offset-o.l),d&&(c.xlines.attr("transform",Z).attr("d",r(R,A)+r(F,T)+r(N,M)||"M0,0").style("stroke-width",z+"px").call(h.stroke,g.showline?g.linecolor:"rgba(0,0,0,0)"),c.ylines.attr("transform",W).attr("d",s(G,C)+s(X,O)+s(U,L)||"M0,0").style("stroke-width",j+"px").call(h.stroke,v.showline?v.linecolor:"rgba(0,0,0,0)")),c.xaxislayer.attr("transform",Z),c.yaxislayer.attr("transform",W),c.gridlayer.attr("transform",Y),c.zerolinelayer.attr("transform",Y),c.draglayer.attr("transform",Y),M&&(_[g._id]=1),L&&(_[v._id]=1)}),c.Axes.makeClipPaths(e),t.drawMainTitle(e),v.manage(e),e._promises.length&&Promise.all(e._promises)},t.drawMainTitle=function(e){var t=e._fullLayout;g.draw(e,"gtitle",{propContainer:t,propName:"title",dfltName:"Plot",attributes:{x:t.width/2,y:t._size.t/2,"text-anchor":"middle"}})},t.doTraceStyle=function(e){for(var t=0;t<e.calcdata.length;t++){var n=e.calcdata[t],r=((n[0]||{}).trace||{})._module||{},a=r.arraysToCalcdata;a&&a(n,n[0].trace)}return f.style(e),u.getComponentMethod("legend","draw")(e),f.previousPromises(e)},t.doColorBars=function(e){for(var t=0;t<e.calcdata.length;t++){var n=e.calcdata[t][0];if((n.t||{}).cb){var r=n.trace,a=n.t.cb;u.traceIs(r,"contour")&&a.line({width:!1!==r.contours.showlines?r.line.width:0,dash:r.line.dash,color:"line"===r.contours.coloring?a._opts.line.color:r.line.color}),u.traceIs(r,"markerColorscale")?a.options(r.marker.colorbar)():a.options(r.colorbar)()}}return f.previousPromises(e)},t.layoutReplot=function(e){var t=e.layout;return e.layout=void 0,c.plot(e,"",t)},t.doLegend=function(e){return u.getComponentMethod("legend","draw")(e),f.previousPromises(e)},t.doTicksRelayout=function(e){return c.Axes.doTicks(e,"redraw"),t.drawMainTitle(e),f.previousPromises(e)},t.doModeBar=function(e){var t=e._fullLayout;v.manage(e),y(e);for(var n=0;n<t._basePlotModules.length;n++){var r=t._basePlotModules[n].updateFx;r&&r(t)}return f.previousPromises(e)},t.doCamera=function(e){for(var t=e._fullLayout,n=f.getSubplotIds(t,"gl3d"),r=0;r<n.length;r++){var a=t[n[r]];a._scene.setCamera(a.camera)}}},function(e,t,n){"use strict";function r(e,t){var n=e._inputDomain,r=l[e.constraintoward],a=n[0]+(n[1]-n[0])*r;e.domain=e._input.domain=[a+(n[0]-a)/t,a+(n[1]-a)/t]}var a=n(73).id2name,i=n(202),o=n(69).ALMOST_EQUAL,l=n(71).FROM_BL;t.enforce=function(e){var t,n,l,s,c,u,f,d=e._fullLayout,h=d._axisConstraintGroups;for(t=0;t<h.length;t++){var p=h[t],g=Object.keys(p),v=1/0,y=0,m=1/0,x={},b={},_=!1;for(n=0;n<g.length;n++)l=g[n],b[l]=s=d[a(l)],s._inputDomain?s.domain=s._inputDomain.slice():s._inputDomain=s.domain.slice(),s._inputRange||(s._inputRange=s.range.slice()),s.setScale(),x[l]=c=Math.abs(s._m)/p[l],v=Math.min(v,c),"domain"!==s.constrain&&s._constraintShrinkable||(m=Math.min(m,c)),delete s._constraintShrinkable,y=Math.max(y,c),"domain"===s.constrain&&(_=!0);if(!(v>o*y)||_)for(n=0;n<g.length;n++)if(l=g[n],c=x[l],s=b[l],u=s.constrain,c!==m||"domain"===u)if(f=c/m,"range"===u)i(s,f);else{var w=s._inputDomain,k=(s.domain[1]-s.domain[0])/(w[1]-w[0]),M=(s.r2l(s.range[1])-s.r2l(s.range[0]))/(s.r2l(s._inputRange[1])-s.r2l(s._inputRange[0]));if((f/=k)*M<1){s.domain=s._input.domain=w.slice(),i(s,f);continue}if(M<1&&(s.range=s._input.range=s._inputRange.slice(),f*=M),s.autorange&&s._min.length&&s._max.length){var A=s.r2l(s.range[0]),T=s.r2l(s.range[1]),S=(A+T)/2,L=S,C=S,O=Math.abs(T-S),z=S-O*f*1.0001,j=S+O*f*1.0001;r(s,f),s.setScale();var D,I,P=Math.abs(s._m);for(I=0;I<s._min.length;I++)(D=s._min[I].val-s._min[I].pad/P)>z&&D<L&&(L=D);for(I=0;I<s._max.length;I++)(D=s._max[I].val+s._max[I].pad/P)<j&&D>C&&(C=D);var E=(C-L)/(2*O);f/=E,L=s.l2r(L),C=s.l2r(C),s.range=s._input.range=A<T?[L,C]:[C,L]}r(s,f)}}},t.clean=function(e,t){if(t._inputDomain){for(var n=!1,r=t._id,a=e._fullLayout._axisConstraintGroups,i=0;i<a.length;i++)if(a[i][r]){n=!0;break}n&&"domain"===t.constrain||(t._input.domain=t.domain=t._inputDomain,delete t._inputDomain)}}},function(e,t,n){(function(t,r){/*!
 * @overview es6-promise - a tiny implementation of Promises/A+.
 * @copyright Copyright (c) 2014 Yehuda Katz, Tom Dale, Stefan Penner and contributors (Conversion to ES6 API by Jake Archibald)
 * @license   Licensed under MIT license
 *            See https://raw.githubusercontent.com/stefanpenner/es6-promise/master/LICENSE
 * @version   4.1.1
 */
!function(t,n){e.exports=n()}(0,function(){"use strict";function e(e){var t=typeof e;return null!==e&&("object"===t||"function"===t)}function a(e){return"function"==typeof e}function i(e){G=e}function o(e){X=e}function l(){return void 0!==U?function(){U(c)}:s()}function s(){var e=setTimeout;return function(){return e(c,1)}}function c(){for(var e=0;e<V;e+=2){(0,J[e])(J[e+1]),J[e]=void 0,J[e+1]=void 0}V=0}function u(e,t){var n=arguments,r=this,a=new this.constructor(d);void 0===a[ee]&&z(a);var i=r._state;return i?function(){var e=n[i-1];X(function(){return L(i,a,e,r._result)})}():M(r,a,e,t),a}function f(e){var t=this;if(e&&"object"==typeof e&&e.constructor===t)return e;var n=new t(d);return b(n,e),n}function d(){}function h(){return new TypeError("You cannot resolve a promise with itself")}function p(){return new TypeError("A promises callback cannot return that same promise.")}function g(e){try{return e.then}catch(e){return ae.error=e,ae}}function v(e,t,n,r){try{e.call(t,n,r)}catch(e){return e}}function y(e,t,n){X(function(e){var r=!1,a=v(n,t,function(n){r||(r=!0,t!==n?b(e,n):w(e,n))},function(t){r||(r=!0,k(e,t))},"Settle: "+(e._label||" unknown promise"));!r&&a&&(r=!0,k(e,a))},e)}function m(e,t){t._state===ne?w(e,t._result):t._state===re?k(e,t._result):M(t,void 0,function(t){return b(e,t)},function(t){return k(e,t)})}function x(e,t,n){t.constructor===e.constructor&&n===u&&t.constructor.resolve===f?m(e,t):n===ae?(k(e,ae.error),ae.error=null):void 0===n?w(e,t):a(n)?y(e,t,n):w(e,t)}function b(t,n){t===n?k(t,h()):e(n)?x(t,n,g(n)):w(t,n)}function _(e){e._onerror&&e._onerror(e._result),A(e)}function w(e,t){e._state===te&&(e._result=t,e._state=ne,0!==e._subscribers.length&&X(A,e))}function k(e,t){e._state===te&&(e._state=re,e._result=t,X(_,e))}function M(e,t,n,r){var a=e._subscribers,i=a.length;e._onerror=null,a[i]=t,a[i+ne]=n,a[i+re]=r,0===i&&e._state&&X(A,e)}function A(e){var t=e._subscribers,n=e._state;if(0!==t.length){for(var r=void 0,a=void 0,i=e._result,o=0;o<t.length;o+=3)r=t[o],a=t[o+n],r?L(n,r,a,i):a(i);e._subscribers.length=0}}function T(){this.error=null}function S(e,t){try{return e(t)}catch(e){return ie.error=e,ie}}function L(e,t,n,r){var i=a(n),o=void 0,l=void 0,s=void 0,c=void 0;if(i){if(o=S(n,r),o===ie?(c=!0,l=o.error,o.error=null):s=!0,t===o)return void k(t,p())}else o=r,s=!0;t._state!==te||(i&&s?b(t,o):c?k(t,l):e===ne?w(t,o):e===re&&k(t,o))}function C(e,t){try{t(function(t){b(e,t)},function(t){k(e,t)})}catch(t){k(e,t)}}function O(){return oe++}function z(e){e[ee]=oe++,e._state=void 0,e._result=void 0,e._subscribers=[]}function j(e,t){this._instanceConstructor=e,this.promise=new e(d),this.promise[ee]||z(this.promise),H(t)?(this.length=t.length,this._remaining=t.length,this._result=new Array(this.length),0===this.length?w(this.promise,this._result):(this.length=this.length||0,this._enumerate(t),0===this._remaining&&w(this.promise,this._result))):k(this.promise,D())}function D(){return new Error("Array Methods must be provided an Array")}function I(e){return new j(this,e).promise}function P(e){var t=this;return new t(H(e)?function(n,r){for(var a=e.length,i=0;i<a;i++)t.resolve(e[i]).then(n,r)}:function(e,t){return t(new TypeError("You must pass an array to race."))})}function E(e){var t=this,n=new t(d);return k(n,e),n}function N(){throw new TypeError("You must pass a resolver function as the first argument to the promise constructor")}function R(){throw new TypeError("Failed to construct 'Promise': Please use the 'new' operator, this object constructor cannot be called as a function.")}function F(e){this[ee]=O(),this._result=this._state=void 0,this._subscribers=[],d!==e&&("function"!=typeof e&&N(),this instanceof F?C(this,e):R())}function B(){var e=void 0;if(void 0!==r)e=r;else if("undefined"!=typeof self)e=self;else try{e=Function("return this")()}catch(e){throw new Error("polyfill failed because global object is unavailable in this environment")}var t=e.Promise;if(t){var n=null;try{n=Object.prototype.toString.call(t.resolve())}catch(e){}if("[object Promise]"===n&&!t.cast)return}e.Promise=F}var q=void 0;q=Array.isArray?Array.isArray:function(e){return"[object Array]"===Object.prototype.toString.call(e)};var H=q,V=0,U=void 0,G=void 0,X=function(e,t){J[V]=e,J[V+1]=t,2===(V+=2)&&(G?G(c):K())},Y="undefined"!=typeof window?window:void 0,Z=Y||{},W=Z.MutationObserver||Z.WebKitMutationObserver,Q="undefined"==typeof self&&void 0!==t&&"[object process]"==={}.toString.call(t),$="undefined"!=typeof Uint8ClampedArray&&"undefined"!=typeof importScripts&&"undefined"!=typeof MessageChannel,J=new Array(1e3),K=void 0;K=Q?function(){return function(){return t.nextTick(c)}}():W?function(){var e=0,t=new W(c),n=document.createTextNode("");return t.observe(n,{characterData:!0}),function(){n.data=e=++e%2}}():$?function(){var e=new MessageChannel;return e.port1.onmessage=c,function(){return e.port2.postMessage(0)}}():void 0===Y?function(){try{var e=n(298);return U=e.runOnLoop||e.runOnContext,l()}catch(e){return s()}}():s();var ee=Math.random().toString(36).substring(16),te=void 0,ne=1,re=2,ae=new T,ie=new T,oe=0;return j.prototype._enumerate=function(e){for(var t=0;this._state===te&&t<e.length;t++)this._eachEntry(e[t],t)},j.prototype._eachEntry=function(e,t){var n=this._instanceConstructor,r=n.resolve;if(r===f){var a=g(e);if(a===u&&e._state!==te)this._settledAt(e._state,t,e._result);else if("function"!=typeof a)this._remaining--,this._result[t]=e;else if(n===F){var i=new n(d);x(i,e,a),this._willSettleAt(i,t)}else this._willSettleAt(new n(function(t){return t(e)}),t)}else this._willSettleAt(r(e),t)},j.prototype._settledAt=function(e,t,n){var r=this.promise;r._state===te&&(this._remaining--,e===re?k(r,n):this._result[t]=n),0===this._remaining&&w(r,this._result)},j.prototype._willSettleAt=function(e,t){var n=this;M(e,void 0,function(e){return n._settledAt(ne,t,e)},function(e){return n._settledAt(re,t,e)})},F.all=I,F.race=P,F.resolve=f,F.reject=E,F._setScheduler=i,F._setAsap=o,F._asap=X,F.prototype={constructor:F,then:u,catch:function(e){return this.then(null,e)}},F.polyfill=B,F.Promise=F,F})}).call(t,n(13),n(10))},function(e,t){},function(e,t,n){"use strict";var r=n(57),a={"X,X div":"font-family:'Open Sans', verdana, arial, sans-serif;margin:0;padding:0;","X input,X button":"font-family:'Open Sans', verdana, arial, sans-serif;","X input:focus,X button:focus":"outline:none;","X a":"text-decoration:none;","X a:hover":"text-decoration:none;","X .crisp":"shape-rendering:crispEdges;","X .user-select-none":"-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;-o-user-select:none;user-select:none;","X svg":"overflow:hidden;","X svg a":"fill:#447adb;","X svg a:hover":"fill:#3c6dc5;","X .main-svg":"position:absolute;top:0;left:0;pointer-events:none;","X .main-svg .draglayer":"pointer-events:all;","X .cursor-default":"cursor:default;","X .cursor-pointer":"cursor:pointer;","X .cursor-crosshair":"cursor:crosshair;","X .cursor-move":"cursor:move;","X .cursor-col-resize":"cursor:col-resize;","X .cursor-row-resize":"cursor:row-resize;","X .cursor-ns-resize":"cursor:ns-resize;","X .cursor-ew-resize":"cursor:ew-resize;","X .cursor-sw-resize":"cursor:sw-resize;","X .cursor-s-resize":"cursor:s-resize;","X .cursor-se-resize":"cursor:se-resize;","X .cursor-w-resize":"cursor:w-resize;","X .cursor-e-resize":"cursor:e-resize;","X .cursor-nw-resize":"cursor:nw-resize;","X .cursor-n-resize":"cursor:n-resize;","X .cursor-ne-resize":"cursor:ne-resize;","X .modebar":"position:absolute;top:2px;right:2px;z-index:1001;background:rgba(255,255,255,0.7);","X .modebar--hover":"opacity:0;-webkit-transition:opacity 0.3s ease 0s;-moz-transition:opacity 0.3s ease 0s;-ms-transition:opacity 0.3s ease 0s;-o-transition:opacity 0.3s ease 0s;transition:opacity 0.3s ease 0s;","X:hover .modebar--hover":"opacity:1;","X .modebar-group":"float:left;display:inline-block;box-sizing:border-box;margin-left:8px;position:relative;vertical-align:middle;white-space:nowrap;","X .modebar-group:first-child":"margin-left:0px;","X .modebar-btn":"position:relative;font-size:16px;padding:3px 4px;cursor:pointer;line-height:normal;box-sizing:border-box;","X .modebar-btn svg":"position:relative;top:2px;","X .modebar-btn path":"fill:rgba(0,31,95,0.3);","X .modebar-btn.active path,X .modebar-btn:hover path":"fill:rgba(0,22,72,0.5);","X .modebar-btn.modebar-btn--logo":"padding:3px 1px;","X .modebar-btn.modebar-btn--logo path":"fill:#447adb !important;","X [data-title]:before,X [data-title]:after":"position:absolute;-webkit-transform:translate3d(0, 0, 0);-moz-transform:translate3d(0, 0, 0);-ms-transform:translate3d(0, 0, 0);-o-transform:translate3d(0, 0, 0);transform:translate3d(0, 0, 0);display:none;opacity:0;z-index:1001;pointer-events:none;top:110%;right:50%;","X [data-title]:hover:before,X [data-title]:hover:after":"display:block;opacity:1;","X [data-title]:before":"content:'';position:absolute;background:transparent;border:6px solid transparent;z-index:1002;margin-top:-12px;border-bottom-color:#69738a;margin-right:-6px;","X [data-title]:after":"content:attr(data-title);background:#69738a;color:white;padding:8px 10px;font-size:12px;line-height:12px;white-space:nowrap;margin-right:-18px;border-radius:2px;","X .select-outline":"fill:none;stroke-width:1;shape-rendering:crispEdges;","X .select-outline-1":"stroke:white;","X .select-outline-2":"stroke:black;stroke-dasharray:2px 2px;",Y:"font-family:'Open Sans';position:fixed;top:50px;right:20px;z-index:10000;font-size:10pt;max-width:180px;","Y p":"margin:0;","Y .notifier-note":"min-width:180px;max-width:250px;border:1px solid #fff;z-index:3000;margin:0;background-color:#8c97af;background-color:rgba(140,151,175,0.9);color:#fff;padding:10px;","Y .notifier-close":"color:#fff;opacity:0.8;float:right;padding:0 5px;background:none;border:none;font-size:20px;font-weight:bold;line-height:20px;","Y .notifier-close:hover":"color:#444;text-decoration:none;cursor:pointer;"};for(var i in a){var o=i.replace(/^,/," ,").replace(/X/g,".js-plotly-plot .plotly").replace(/Y/g,".plotly-notifier");r.addStyleRule(o,a[i])}},function(e,t,n){"use strict";"undefined"!=typeof MathJax?(t.MathJax=!0,MathJax.Hub.Config({messageStyle:"none",skipStartupTypeset:!0,displayAlign:"left",tex2jax:{inlineMath:[["$","$"],["\\(","\\)"]]}}),MathJax.Hub.Configured()):t.MathJax=!1},function(e,t,n){"use strict";var r=n(64),a=n(57);e.exports=function(e){return a.extendFlat(r.defaultConfig,e)}},function(e,t,n){"use strict";function r(e){o.register(e,e.name,e.categories,e.meta),o.subplotsRegistry[e.basePlotModule.name]||o.registerSubplot(e.basePlotModule)}function a(e){if("string"!=typeof e.name)throw new Error("Transform module *name* must be a string.");var t="Transform module "+e.name,n="function"==typeof e.transform,r="function"==typeof e.calcTransform;if(!n&&!r)throw new Error(t+" is missing a *transform* or *calcTransform* method.");n&&r&&l.log([t+" has both a *transform* and *calcTransform* methods.","Please note that all *transform* methods are executed","before all *calcTransform* methods."].join(" ")),l.isPlainObject(e.attributes)||l.log(t+" registered without an *attributes* object."),"function"!=typeof e.supplyDefaults&&l.log(t+" registered without a *supplyDefaults* method."),o.registerTransform(e)}function i(e){if("string"!=typeof e.name)throw new Error("Component module *name* must be a string.");o.registerComponent(e)}var o=n(61),l=n(57);e.exports=function(e){if(!e)throw new Error("No argument passed to Plotly.register.");e&&!Array.isArray(e)&&(e=[e]);for(var t=0;t<e.length;t++){var n=e[t];if(!n)throw new Error("Invalid module was attempted to be registered!");switch(n.moduleType){case"trace":r(n);break;case"transform":a(n);break;case"component":i(n);break;default:throw new Error("Invalid module was attempted to be registered!")}}}},function(e,t,n){"use strict";function r(e,t,n,a,i,c){c=c||[];for(var u=Object.keys(e),d=0;d<u.length;d++){var h=u[d];if("transforms"!==h){var v=c.slice();v.push(h);var y=e[h],m=t[h],x=s(n,h),b="info_array"===(x||{}).valType,_="colorscale"===(x||{}).valType;if(l(n,h))if(p(y)&&p(m))r(y,m,x,a,i,v);else if(x.items&&!b&&g(y)){var w,k,M=x.items,A=M[Object.keys(M)[0]],T=[];for(w=0;w<m.length;w++){var S=m[w]._index||w;k=v.slice(),k.push(S),p(y[S])&&p(m[w])&&(T.push(S),r(y[S],m[w],A,a,i,k))}for(w=0;w<y.length;w++)k=v.slice(),k.push(w),p(y[w])?-1===T.indexOf(w)&&a.push(o("unused",i,k)):a.push(o("object",i,k,y[w]))}else!p(y)&&p(m)?a.push(o("object",i,v,y)):g(y)||!g(m)||b||_?h in t?f.validate(y,x)?"enumerated"===x.valType&&(x.coerceNumber&&y!==+m||y!==m)&&a.push(o("dynamic",i,v,y,m)):a.push(o("value",i,v,y)):a.push(o("unused",i,v,y)):a.push(o("array",i,v,y));else a.push(o("schema",i,v))}}return a}function a(e,t){for(var n=0;n<t.length;n++){var r=t[n].type,a=e.traces[r].layoutAttributes;a&&f.extendFlat(e.layout.layoutAttributes,a)}return e.layout.layoutAttributes}function i(e){return g(e)?"In data trace "+e[1]+", ":"In "+e+", "}function o(e,t,n,r,a){n=n||"";var i,o;g(t)?(i=t[0],o=t[1]):(i=t,o=null);var l=u(n),s=v[e](t,l,r,a);return f.log(s),{code:e,container:i,trace:o,path:n,astr:l,msg:s}}function l(e,t){var n=c(t),r=n.keyMinusId,a=n.id;return!!(r in e&&e[r]._isSubplotObj&&a)||t in e}function s(e,t){return e[c(t).keyMinusId]}function c(e){var t=e.match(y);return{keyMinusId:t&&t[1],id:t&&t[2]}}function u(e){if(!g(e))return String(e);for(var t="",n=0;n<e.length;n++){var r=e[n];"number"==typeof r?t=t.substr(0,t.length-1)+"["+r+"]":t+=r,n<e.length-1&&(t+=".")}return t}var f=n(57),d=n(65),h=n(115),p=f.isPlainObject,g=Array.isArray;e.exports=function(e,t){var n,i,l=h.get(),s=[],c={};g(e)?(c.data=f.extendDeep([],e),n=e):(c.data=[],n=[],s.push(o("array","data"))),p(t)?(c.layout=f.extendDeep({},t),i=t):(c.layout={},i={},arguments.length>1&&s.push(o("object","layout"))),d.supplyDefaults(c);for(var u=c._fullData,v=n.length,y=0;y<v;y++){var m=n[y],x=["data",y];if(p(m)){var b=u[y],_=b.type,w=l.traces[_].attributes;w.type={valType:"enumerated",values:[_]},!1===b.visible&&!1!==m.visible&&s.push(o("invisible",x)),r(m,b,w,s,x);var k=m.transforms,M=b.transforms;if(k){g(k)||s.push(o("array",x,["transforms"])),x.push("transforms");for(var A=0;A<k.length;A++){var T=["transforms",A],S=k[A].type;if(p(k[A])){var L=l.transforms[S]?l.transforms[S].attributes:{};L.type={valType:"enumerated",values:Object.keys(l.transforms)},r(k[A],M[A],L,s,x,T)}else s.push(o("object",x,T))}}}else s.push(o("object",x))}return r(i,c._fullLayout,a(l,u),s,"layout"),0===s.length?void 0:s};var v={object:function(e,t){return("layout"===e&&""===t?"The layout argument":"data"===e[0]&&""===t?"Trace "+e[1]+" in the data argument":i(e)+"key "+t)+" must be linked to an object container"},array:function(e,t){return("data"===e?"The data argument":i(e)+"key "+t)+" must be linked to an array container"},schema:function(e,t){return i(e)+"key "+t+" is not part of the schema"},unused:function(e,t,n){var r=p(n)?"container":"key";return i(e)+r+" "+t+" did not get coerced"},dynamic:function(e,t,n,r){return[i(e)+"key",t,"(set to '"+n+"')","got reset to","'"+r+"'","during defaults."].join(" ")},invisible:function(e){return"Trace "+e[1]+" got defaulted to be not visible"},value:function(e,t,n){return[i(e)+"key "+t,"is set to an invalid value ("+n+")"].join(" ")}},y=f.counterRegex("([a-z]+)")},function(e,t,n){"use strict";var r={},a=n(72);r.hasLines=a.hasLines,r.hasMarkers=a.hasMarkers,r.hasText=a.hasText,r.isBubble=a.isBubble,r.attributes=n(118),r.supplyDefaults=n(305),r.cleanData=n(312),r.calc=n(313),r.arraysToCalcdata=n(203),r.plot=n(315),r.colorbar=n(318),r.style=n(320),r.hoverPoints=n(321),r.selectPoints=n(324),r.animatable=!0,r.moduleType="trace",r.name="scatter",r.basePlotModule=n(204),r.categories=["cartesian","symbols","markerColorscale","errorBarsOK","showLegend","scatter-like"],r.meta={description:["The scatter trace type encompasses line charts, scatter charts, text charts, and bubble charts.","The data visualized as scatter point or lines is set in `x` and `y`.","Text (appearing either on the chart or on hover only) is via `text`.","Bubble charts are achieved by setting `marker.size` and/or `marker.color`","to numerical arrays."].join(" ")},e.exports=r},function(e,t,n){"use strict";var r=n(57),a=n(118),i=n(151),o=n(72),l=n(306),s=n(307),c=n(308),u=n(309),f=n(310),d=n(311),h=n(189);e.exports=function(e,t,n,p){function g(n,i){return r.coerce(e,t,a,n,i)}var v=l(e,t,p,g),y=v<i.PTS_LINESONLY?"lines+markers":"lines";if(!v)return void(t.visible=!1);g("text"),g("hovertext"),g("mode",y),o.hasLines(t)&&(c(e,t,n,p,g),u(e,t,g),g("connectgaps"),g("line.simplify")),o.hasMarkers(t)&&s(e,t,n,p,g,{gradient:!0}),o.hasText(t)&&f(e,t,p,g);var m=[];(o.hasMarkers(t)||o.hasText(t))&&(g("marker.maxdisplayed"),m.push("points")),g("fill"),"none"!==t.fill&&(d(e,t,n,g),o.hasLines(t)||u(e,t,g)),"tonext"!==t.fill&&"toself"!==t.fill||m.push("fills"),g("hoveron",m.join("+")||"points"),h(e,t,n,{axis:"y"}),h(e,t,n,{axis:"x",inherit:"y"}),g("cliponaxis")}},function(e,t,n){"use strict";var r=n(61);e.exports=function(e,t,n,a){var i,o=a("x"),l=a("y");if(r.getComponentMethod("calendars","handleTraceDefaults")(e,t,["x","y"],n),o)l?(i=Math.min(o.length,l.length),i<o.length&&(t.x=o.slice(0,i)),i<l.length&&(t.y=l.slice(0,i))):(i=o.length,a("y0"),a("dy"));else{if(!l)return 0;i=t.y.length,a("x0"),a("dx")}return i}},function(e,t,n){"use strict";var r=n(60),a=n(119),i=n(148),o=n(72);e.exports=function(e,t,n,l,s,c){var u,f=o.isBubble(e),d=(e.line||{}).color;if(c=c||{},d&&(n=d),s("marker.symbol"),s("marker.opacity",f?.7:1),s("marker.size"),s("marker.color",n),a(e,"marker")&&i(e,t,l,s,{prefix:"marker.",cLetter:"c"}),c.noLine||(u=d&&!Array.isArray(d)&&t.marker.color!==d?d:f?r.background:r.defaultLine,s("marker.line.color",u),a(e,"marker.line")&&i(e,t,l,s,{prefix:"marker.line.",cLetter:"c"}),s("marker.line.width",f?1:0)),f&&(s("marker.sizeref"),s("marker.sizemin"),s("marker.sizemode")),c.gradient){"none"!==s("marker.gradient.type")&&s("marker.gradient.color")}}},function(e,t,n){"use strict";var r=n(119),a=n(148);e.exports=function(e,t,n,i,o,l){var s=(e.marker||{}).color;if(o("line.color",n),r(e,"line"))a(e,t,i,o,{prefix:"line.",cLetter:"c"});else{o("line.color",!Array.isArray(s)&&s||n)}o("line.width"),(l||{}).noDash||o("line.dash")}},function(e,t,n){"use strict";e.exports=function(e,t,n){"spline"===n("line.shape")&&n("line.smoothing")}},function(e,t,n){"use strict";var r=n(57);e.exports=function(e,t,n,a){a("textposition"),r.coerceFont(a,"textfont",n.font)}},function(e,t,n){"use strict";var r=n(60);e.exports=function(e,t,n,a){var i=!1;if(t.marker){var o=t.marker.color,l=(t.marker.line||{}).color;o&&!Array.isArray(o)?i=o:l&&!Array.isArray(l)&&(i=l)}a("fillcolor",r.addOpacity((t.line||{}).color||i||n,.5))}},function(e,t,n){"use strict";e.exports=function(e){for(var t=0;t<e.length;t++){var n=e[t];if("scatter"===n.type){var r=n.fill;if("none"!==r&&"toself"!==r&&(n.opacity=void 0,"tonexty"===r||"tonextx"===r))for(var a=t-1;a>=0;a--){var i=e[a];if("scatter"===i.type&&i.xaxis===n.xaxis&&i.yaxis===n.yaxis){i.opacity=void 0;break}}}}}},function(e,t,n){"use strict";var r=n(59),a=n(63),i=n(69).BADNUM,o=n(72),l=n(314),s=n(203);e.exports=function(e,t){var n,c,u,f=a.getFromId(e,t.xaxis||"x"),d=a.getFromId(e,t.yaxis||"y"),h=f.makeCalcdata(t,"x"),p=d.makeCalcdata(t,"y"),g=Math.min(h.length,p.length);f._minDtick=0,d._minDtick=0,h.length>g&&h.splice(g,h.length-g),p.length>g&&p.splice(g,p.length-g);var v={padded:!0},y={padded:!0};if(o.hasMarkers(t)){if(n=t.marker,c=n.size,Array.isArray(c)){var m={type:"linear"};a.setConvert(m),c=m.makeCalcdata(t.marker,"size"),c.length>g&&c.splice(g,c.length-g)}var x,b=1.6*(t.marker.sizeref||1);x="area"===t.marker.sizemode?function(e){return Math.max(Math.sqrt((e||0)/b),3)}:function(e){return Math.max((e||0)/b,3)},v.ppad=y.ppad=Array.isArray(c)?c.map(x):x(c)}l(t),!("tozerox"===t.fill||"tonextx"===t.fill&&e.firstscatter)||h[0]===h[g-1]&&p[0]===p[g-1]?t.error_y.visible||-1===["tonexty","tozeroy"].indexOf(t.fill)&&(o.hasMarkers(t)||o.hasText(t))||(v.padded=!1,v.ppad=0):v.tozero=!0,!("tozeroy"===t.fill||"tonexty"===t.fill&&e.firstscatter)||h[0]===h[g-1]&&p[0]===p[g-1]?-1!==["tonextx","tozerox"].indexOf(t.fill)&&(y.padded=!1):y.tozero=!0,a.expand(f,h,v),a.expand(d,p,y);var _=new Array(g);for(u=0;u<g;u++)_[u]=r(h[u])&&r(p[u])?{x:h[u],y:p[u]}:{x:i,y:i},t.ids&&(_[u].id=String(t.ids[u]));return s(_,t),e.firstscatter=!1,_}},function(e,t,n){"use strict";var r=n(119),a=n(188),i=n(72);e.exports=function(e){i.hasLines(e)&&r(e,"line")&&a(e,e.line.color,"line","c"),i.hasMarkers(e)&&(r(e,"marker")&&a(e,e.marker.color,"marker","c"),r(e,"marker.line")&&a(e,e.marker.line.color,"marker.line","c"))}},function(e,t,n){"use strict";function r(e,t,n){var r;t.selectAll("g.trace").each(function(e){var t=o.select(this);if(r=e[0].trace,r._nexttrace){if(r._nextFill=t.select(".js-fill.js-tonext"),!r._nextFill.size()){var a=":first-child";t.select(".js-fill.js-tozero").size()&&(a+=" + *"),r._nextFill=t.insert("path",a).attr("class","js-fill js-tonext")}}else t.selectAll(".js-fill.js-tonext").remove(),r._nextFill=null;r.fill&&("tozero"===r.fill.substr(0,6)||"toself"===r.fill||"to"===r.fill.substr(0,2)&&!r._prevtrace)?(r._ownFill=t.select(".js-fill.js-tozero"),r._ownFill.size()||(r._ownFill=t.insert("path",":first-child").attr("class","js-fill js-tozero"))):(t.selectAll(".js-fill.js-tozero").remove(),r._ownFill=null),t.selectAll(".js-fill").call(s.setClipUrl,n.layerClipId)})}function a(e,t,n,r,a,d,p){function g(e){return k?e.transition():e}function v(e){return e.filter(function(e){return e.vis})}function y(e){return e.id}function m(e){if(e.ids)return y}function x(){return!1}function b(t){var r,a,i,c=t[0].trace,f=o.select(this),d=u.hasMarkers(c),h=u.hasText(c),p=m(c),y=x,b=x;d&&(y=c.marker.maxdisplayed||c._needsCull?v:l.identity),h&&(b=c.marker.maxdisplayed||c._needsCull?v:l.identity),a=f.selectAll("path.point"),r=a.data(y,p);var _=r.enter().append("path").classed("point",!0);k&&_.call(s.pointStyle,c,e).call(s.translatePoints,M,A).style("opacity",0).transition().style("opacity",1);var w=d&&s.tryColorscale(c.marker,""),T=d&&s.tryColorscale(c.marker,"line");r.order(),r.each(function(t){var r=o.select(this),a=g(r);i=s.translatePoint(t,a,M,A),i?(s.singlePointStyle(t,a,c,w,T,e),n.layerClipId&&s.hideOutsideRangePoint(t,a,M,A),c.customdata&&r.classed("plotly-customdata",null!==t.data&&void 0!==t.data)):a.remove()}),k?r.exit().transition().style("opacity",0).remove():r.exit().remove(),a=f.selectAll("g"),r=a.data(b,p),r.enter().append("g").classed("textpoint",!0).append("text"),r.order(),r.each(function(e){var t=o.select(this),r=g(t.select("text"));i=s.translatePoint(e,r,M,A),i?n.layerClipId&&s.hideOutsideRangePoint(e,t,M,A):t.remove()}),r.selectAll("text").call(s.textPointStyle,c,e).each(function(e){var t=M.c2p(e.x),n=A.c2p(e.y);o.select(this).selectAll("tspan.line").each(function(){g(o.select(this)).attr({x:t,y:n})})}),r.exit().remove()}var _,w;i(e,t,n,r,a);var k=!!p&&p.duration>0,M=n.xaxis,A=n.yaxis,T=r[0].trace,S=T.line,L=o.select(d);if(L.call(c.plot,n,p),!0===T.visible){g(L).style("opacity",T.opacity);var C,O,z=T.fill.charAt(T.fill.length-1);"x"!==z&&"y"!==z&&(z=""),r[0].node3=L;var j="",D=[],I=T._prevtrace;I&&(j=I._prevRevpath||"",O=I._nextFill,D=I._polygons);var P,E,N,R,F,B,q,H,V,U="",G="",X=[],Y=l.noop;if(C=T._ownFill,u.hasLines(T)||"none"!==T.fill){for(O&&O.datum(r),-1!==["hv","vh","hvh","vhv"].indexOf(S.shape)?(N=s.steps(S.shape),R=s.steps(S.shape.split("").reverse().join(""))):N=R="spline"===S.shape?function(e){var t=e[e.length-1];return e.length>1&&e[0][0]===t[0]&&e[0][1]===t[1]?s.smoothclosed(e.slice(1),S.smoothing):s.smoothopen(e,S.smoothing)}:function(e){return"M"+e.join("L")},F=function(e){return R(e.reverse())},X=f(r,{xaxis:M,yaxis:A,connectGaps:T.connectgaps,baseTolerance:Math.max(S.width||1,3)/4,shape:S.shape,simplify:S.simplify}),V=T._polygons=new Array(X.length),w=0;w<X.length;w++)T._polygons[w]=h(X[w]);X.length&&(B=X[0][0],q=X[X.length-1],H=q[q.length-1]),Y=function(e){return function(t){if(P=N(t),E=F(t),U?z?(U+="L"+P.substr(1),G=E+"L"+G.substr(1)):(U+="Z"+P,G=E+"Z"+G):(U=P,G=E),u.hasLines(T)&&t.length>1){var n=o.select(this);if(n.datum(r),e)g(n.style("opacity",0).attr("d",P).call(s.lineGroupStyle)).style("opacity",1);else{var a=g(n);a.attr("d",P),s.singleLineStyle(r,a)}}}}}var Z=L.selectAll(".js-line").data(X);g(Z.exit()).style("opacity",0).remove(),Z.each(Y(!1)),Z.enter().append("path").classed("js-line",!0).style("vector-effect","non-scaling-stroke").call(s.lineGroupStyle).each(Y(!0)),s.setClipUrl(Z,n.layerClipId),X.length&&(C?B&&H&&(z?("y"===z?B[1]=H[1]=A.c2p(0,!0):"x"===z&&(B[0]=H[0]=M.c2p(0,!0)),g(C).attr("d","M"+H+"L"+B+"L"+U.substr(1)).call(s.singleFillStyle)):g(C).attr("d",U+"Z").call(s.singleFillStyle)):"tonext"===T.fill.substr(0,6)&&U&&j&&("tonext"===T.fill?g(O).attr("d",U+"Z"+j+"Z").call(s.singleFillStyle):g(O).attr("d",U+"L"+j.substr(1)+"Z").call(s.singleFillStyle),T._polygons=T._polygons.concat(D)),T._prevRevpath=G,T._prevPolygons=V);var W=L.selectAll(".points");_=W.data([r]),W.each(b),_.enter().append("g").classed("points",!0).each(b),_.exit().remove(),_.each(function(e){var t=!1===e[0].trace.cliponaxis;s.setClipUrl(o.select(this),t?null:n.layerClipId)})}}function i(e,t,n,r,a){var i=n.xaxis,s=n.yaxis,c=o.extent(l.simpleMap(i.range,i.r2c)),f=o.extent(l.simpleMap(s.range,s.r2c)),d=r[0].trace;if(u.hasMarkers(d)){var h=d.marker.maxdisplayed;if(0!==h){var p=r.filter(function(e){return e.x>=c[0]&&e.x<=c[1]&&e.y>=f[0]&&e.y<=f[1]}),g=Math.ceil(p.length/h),v=0;a.forEach(function(e,n){var r=e[0].trace;u.hasMarkers(r)&&r.marker.maxdisplayed>0&&n<t&&v++});var y=Math.round(v*g/3+Math.floor(v/3)*g/7.1);r.forEach(function(e){delete e.vis}),p.forEach(function(e,t){0===Math.round((t+y)%g)&&(e.vis=!0)})}}}var o=n(58),l=n(57),s=n(62),c=n(104),u=n(72),f=n(316),d=n(317),h=n(201).tester;e.exports=function(e,t,n,i,l){var s,c,u,f,h,p=t.plot.select("g.scatterlayer"),g=!i,v=!!i&&i.duration>0;for(u=p.selectAll("g.trace"),f=u.data(n,function(e){return e[0].trace.uid}),f.enter().append("g").attr("class",function(e){return"trace scatter trace"+e[0].trace.uid}).style("stroke-miterlimit",2),d(e,t,n),r(e,p,t),s=0,c={};s<n.length;s++)c[n[s][0].trace.uid]=s;if(p.selectAll("g.trace").sort(function(e,t){return c[e[0].trace.uid]>c[t[0].trace.uid]?1:-1}),v){l&&(h=l());o.transition().duration(i.duration).ease(i.easing).each("end",function(){h&&h()}).each("interrupt",function(){h&&h()}).each(function(){p.selectAll("g.trace").each(function(r,o){a(e,o,t,r,n,this,i)})})}else p.selectAll("g.trace").each(function(r,o){a(e,o,t,r,n,this,i)});g&&f.exit().remove(),p.selectAll("path:not([d])").remove()}},function(e,t,n){"use strict";var r=n(69).BADNUM,a=n(57),i=a.segmentsIntersect,o=a.constrain,l=n(151);e.exports=function(e,t){function n(t){var n=P.c2p(e[t].x),a=E.c2p(e[t].y);return n!==r&&a!==r&&[n,a]}function s(e){var t=e[0]/P._length,n=e[1]/E._length;return(1+l.toleranceGrowth*Math.max(0,-t,t-1,-n,n-1))*F}function c(e,t){var n=e[0]-t[0],r=e[1]-t[1];return Math.sqrt(n*n+r*r)}function u(e,t){for(var n=[],r=0,a=0;a<4;a++){var o=ae[a],l=i(e[0],e[1],t[0],t[1],o[0],o[1],o[2],o[3]);l&&(!r||Math.abs(l.x-n[0][0])>1||Math.abs(l.y-n[0][1])>1)&&(l=[l.x,l.y],r&&c(l,e)<c(n[0],e)?n.unshift(l):n.push(l),r++)}return n}function f(e){if(e[0]<ee||e[0]>te||e[1]<ne||e[1]>re)return[o(e[0],ee,te),o(e[1],ne,re)]}function d(e,t){return e[0]===t[0]&&(e[0]===ee||e[0]===te)||(e[1]===t[1]&&(e[1]===ne||e[1]===re)||void 0)}function h(e,t){var n=[],r=f(e),a=f(t);return r&&a&&d(r,a)?n:(r&&n.push(r),a&&n.push(a),n)}function p(e,t,n){return function(r,i){var o=f(r),l=f(i),s=[];if(o&&l&&d(o,l))return s;o&&s.push(o),l&&s.push(l);var c=2*a.constrain((r[e]+i[e])/2,t,n)-((o||r)[e]+(l||i)[e]);if(c){var u;u=o&&l?c>0==o[e]>l[e]?o:l:o||l,u[e]+=c}return s}}function g(e,t){var n=t[0]-e[0],r=(t[1]-e[1])/n;return(e[1]*t[0]-t[1]*e[0])/n>0?[r>0?ee:te,re]:[r>0?te:ee,ne]}function v(e){var t=e[0],n=e[1],r=t===U[G-1][0],a=n===U[G-1][1];if(!r||!a)if(G>1){var i=t===U[G-2][0],o=n===U[G-2][1];r&&(t===ee||t===te)&&i?o?G--:U[G-1]=e:a&&(n===ne||n===re)&&o?i?G--:U[G-1]=e:U[G++]=e}else U[G++]=e}function y(e){U[G-1][0]!==e[0]&&U[G-1][1]!==e[1]&&v([Z,W]),v(e),Q=null,Z=W=0}function m(e){if(X=e[0]<ee?ee:e[0]>te?te:0,Y=e[1]<ne?ne:e[1]>re?re:0,X||Y){if(G)if(Q){var t=J(Q,e);t.length>1&&(y(t[0]),U[G++]=t[1])}else $=J(U[G-1],e)[0],U[G++]=$;else U[G++]=[X||e[0],Y||e[1]];var n=U[G-1];X&&Y&&(n[0]!==X||n[1]!==Y)?(Q&&(Z!==X&&W!==Y?v(Z&&W?g(Q,e):[Z||X,W||Y]):Z&&W&&v([Z,W])),v([X,Y])):Z-X&&W-Y&&v([X||Z,Y||W]),Q=e,Z=X,W=Y}else Q&&y(J(Q,e)[0]),U[G++]=e}var x,b,_,w,k,M,A,T,S,L,C,O,z,j,D,I,P=t.xaxis,E=t.yaxis,N=t.simplify,R=t.connectGaps,F=t.baseTolerance,B=t.shape,q="linear"===B,H=[],V=l.minTolerance,U=new Array(e.length),G=0;N||(F=V=-1);var X,Y,Z,W,Q,$,J,K=l.maxScreensAway,ee=-P._length*K,te=P._length*(1+K),ne=-E._length*K,re=E._length*(1+K),ae=[[ee,ne,te,ne],[te,ne,te,re],[te,re,ee,re],[ee,re,ee,ne]];for("linear"===B||"spline"===B?J=u:"hv"===B||"vh"===B?J=h:"hvh"===B?J=p(0,ee,te):"vhv"===B&&(J=p(1,ne,re)),x=0;x<e.length;x++)if(b=n(x)){for(G=0,Q=null,m(b),x++;x<e.length;x++){if(!(w=n(x))){if(R)continue;break}if(q){if(!((L=c(w,b))<s(w)*V)){for(T=[(w[0]-b[0])/L,(w[1]-b[1])/L],k=b,C=L,O=j=D=0,A=!1,_=w,x++;x<e.length;x++){if(!(M=n(x))){if(R)continue;break}if(S=[M[0]-b[0],M[1]-b[1]],I=S[0]*T[1]-S[1]*T[0],j=Math.min(j,I),(D=Math.max(D,I))-j>s(M))break;_=M,z=S[0]*T[0]+S[1]*T[1],z>C?(C=z,w=M,A=!1):z<O&&(O=z,k=M,A=!0)}if(A?(m(w),_!==k&&m(k)):(k!==b&&m(k),_!==w&&m(w)),m(_),x>=e.length||!M)break;m(M),b=M}}else m(w)}Q&&v([Z||Q[0],W||Q[1]]),H.push(U.slice(0,G))}return H}},function(e,t,n){"use strict";e.exports=function(e,t,n){for(var r,a,i=null,o=0;o<n.length;++o)r=n[o],a=r[0].trace,!0===a.visible?(a._nexttrace=null,-1!==["tonextx","tonexty","tonext"].indexOf(a.fill)&&(a._prevtrace=i,i&&(i._nexttrace=a)),i=a):a._prevtrace=a._nexttrace=null}},function(e,t,n){"use strict";var r=n(59),a=n(57),i=n(65),o=n(184),l=n(319);e.exports=function(e,t){var n=t[0].trace,s=n.marker,c="cb"+n.uid;if(e._fullLayout._infolayer.selectAll("."+c).remove(),void 0===s||!s.showscale)return void i.autoMargin(e,c);var u=s.color,f=s.cmin,d=s.cmax;r(f)||(f=a.aggNums(Math.min,null,u)),r(d)||(d=a.aggNums(Math.max,null,u));var h=t[0].t.cb=l(e,c),p=o.makeColorScaleFunc(o.extractScale(s.colorscale,f,d),{noNumericCheck:!0});h.fillcolor(p).filllevels({start:f,end:d,size:(d-f)/254}).options(s.colorbar)()}},function(e,t,n){"use strict";var r=n(58),a=n(75),i=n(64),o=n(65),l=n(61),s=n(63),c=n(76),u=n(57),f=n(67).extendFlat,d=n(92),h=n(62),p=n(60),g=n(152),v=n(70),y=n(71).LINE_SPACING,m=n(191),x=n(193),b=n(80),_=n(146);e.exports=function(e,t){function n(){function _(e,t){return u.coerce(te,ne,b,e,t)}function M(){if(-1!==["top","bottom"].indexOf(k.titleside)){var t=se.select(".cbtitle"),n=t.select("text"),i=[-k.outlinewidth/2,k.outlinewidth/2],o=t.select(".h"+ne._id+"title-math-group").node(),l=15.6;if(n.node()&&(l=parseInt(n.node().style.fontSize,10)*y),o?(ue=h.bBox(o).height)>l&&(i[1]-=(ue-l)/2):n.node()&&!n.classed("js-placeholder")&&(ue=h.bBox(n.node()).height),ue){if(ue+=5,"top"===k.titleside)ne.domain[1]-=ue/L.h,i[1]*=-1;else{ne.domain[0]+=ue/L.h;var c=v.lineCount(n);i[1]+=(1-c)*l}t.attr("transform","translate("+i+")"),ne.setScale()}}se.selectAll(".cbfills,.cblines,.cbaxis").attr("transform","translate(0,"+Math.round(L.h*(1-ne.domain[1]))+")");var f=se.select(".cbfills").selectAll("rect.cbfill").data(D);f.enter().append("rect").classed("cbfill",!0).style("stroke","none"),f.exit().remove(),f.each(function(e,t){var n=[0===t?z[0]:(D[t]+D[t-1])/2,t===D.length-1?z[1]:(D[t]+D[t+1])/2].map(ne.c2p).map(Math.round);t!==D.length-1&&(n[1]+=n[1]>n[0]?1:-1);var i=P(e).replace("e-",""),o=a(i).toHexString();r.select(this).attr({x:Q,width:Math.max(V,2),y:r.min(n),height:Math.max(r.max(n)-r.min(n),2),fill:o})});var d=se.select(".cblines").selectAll("path.cbline").data(k.line.color&&k.line.width?j:[]);return d.enter().append("path").classed("cbline",!0),d.exit().remove(),d.each(function(e){r.select(this).attr("d","M"+Q+","+(Math.round(ne.c2p(e))+k.line.width/2%1)+"h"+V).call(h.lineGroupStyle,k.line.width,I(e),k.line.dash)}),ne._axislayer.selectAll("g."+ne._id+"tick,path").remove(),ne._pos=Q+V+(k.outlinewidth||0)/2-("outside"===k.ticks?1:0),ne.side="right",u.syncOrAsync([function(){return s.doTicks(e,ne,!0)},function(){if(-1===["top","bottom"].indexOf(k.titleside)){var t=ne.titlefont.size,n=ne._offset+ne._length/2,a=L.l+(ne.position||0)*L.w+("right"===ne.side?10+t*(ne.showticklabels?1:.5):-10-t*(ne.showticklabels?.5:0));A("h"+ne._id+"title",{avoid:{selection:r.select(e).selectAll("g."+ne._id+"tick"),side:k.titleside,offsetLeft:L.l,offsetTop:L.t,maxShift:S.width},attributes:{x:a,y:n,"text-anchor":"middle"},transform:{rotate:"-90",offset:0}})}}])}function A(t,n){var r,a=w();r=l.traceIs(a,"markerColorscale")?"marker.colorbar.title":"colorbar.title";var i={propContainer:ne,propName:r,traceIndex:a.index,dfltName:"colorscale",containerGroup:se.select(".cbtitle")},o="h"===t.charAt(0)?t.substr(1):"h"+t;se.selectAll("."+o+",."+o+"-math-group").remove(),g.draw(e,t,f(i,n||{}))}function T(){var n=V+k.outlinewidth/2+h.bBox(ne._axislayer.node()).width;if(B=ce.select("text"),B.node()&&!B.classed("js-placeholder")){var r,a=ce.select(".h"+ne._id+"title-math-group").node();r=a&&-1!==["top","bottom"].indexOf(k.titleside)?h.bBox(a).width:h.bBox(ce.node()).right-Q-L.l,n=Math.max(n,r)}var i=2*k.xpad+n+k.borderwidth+k.outlinewidth/2,l=K-ee;se.select(".cbbg").attr({x:Q-k.xpad-(k.borderwidth+k.outlinewidth)/2,y:ee-Z,width:Math.max(i,2),height:Math.max(l+2*Z,2)}).call(p.fill,k.bgcolor).call(p.stroke,k.bordercolor).style({"stroke-width":k.borderwidth}),se.selectAll(".cboutline").attr({x:Q,y:ee+k.ypad+("top"===k.titleside?ue:0),width:Math.max(V,2),height:Math.max(l-2*k.ypad-ue,2)}).call(p.stroke,k.outlinecolor).style({fill:"None","stroke-width":k.outlinewidth});var s=({center:.5,right:1}[k.xanchor]||0)*i;se.attr("transform","translate("+(L.l-s)+","+L.t+")"),o.autoMargin(e,t,{x:k.x,y:k.y,l:i*({right:1,center:.5}[k.xanchor]||0),r:i*({left:1,center:.5}[k.xanchor]||0),t:l*({bottom:1,middle:.5}[k.yanchor]||0),b:l*({top:1,middle:.5}[k.yanchor]||0)})}var S=e._fullLayout,L=S._size;if("function"!=typeof k.fillcolor&&"function"!=typeof k.line.color)return void S._infolayer.selectAll("g."+t).remove();var C,O,z=r.extent(("function"==typeof k.fillcolor?k.fillcolor:k.line.color).domain()),j=[],D=[],I="function"==typeof k.line.color?k.line.color:function(){return k.line.color},P="function"==typeof k.fillcolor?k.fillcolor:function(){return k.fillcolor},E=k.levels.end+k.levels.size/100,N=k.levels.size,R=1.001*z[0]-.001*z[1],F=1.001*z[1]-.001*z[0];for(O=0;O<1e5&&(C=k.levels.start+O*N,!(N>0?C>=E:C<=E));O++)C>R&&C<F&&j.push(C);if("function"==typeof k.fillcolor)if(k.filllevels)for(E=k.filllevels.end+k.filllevels.size/100,N=k.filllevels.size,O=0;O<1e5&&(C=k.filllevels.start+O*N,!(N>0?C>=E:C<=E));O++)C>z[0]&&C<z[1]&&D.push(C);else D=j.map(function(e){return e-k.levels.size/2}),D.push(D[D.length-1]+k.levels.size);else k.fillcolor&&"string"==typeof k.fillcolor&&(D=[0]);k.levels.size<0&&(j.reverse(),D.reverse());var B,q=S.height-S.margin.t-S.margin.b,H=S.width-S.margin.l-S.margin.r,V=Math.round(k.thickness*("fraction"===k.thicknessmode?H:1)),U=V/L.w,G=Math.round(k.len*("fraction"===k.lenmode?q:1)),X=G/L.h,Y=k.xpad/L.w,Z=(k.borderwidth+k.outlinewidth)/2,W=k.ypad/L.h,Q=Math.round(k.x*L.w+k.xpad),$=k.x-U*({middle:.5,right:1}[k.xanchor]||0),J=k.y+X*(({top:-.5,bottom:.5}[k.yanchor]||0)-.5),K=Math.round(L.h*(1-J)),ee=K-G,te={type:"linear",range:z,tickmode:k.tickmode,nticks:k.nticks,tick0:k.tick0,dtick:k.dtick,tickvals:k.tickvals,ticktext:k.ticktext,ticks:k.ticks,ticklen:k.ticklen,tickwidth:k.tickwidth,tickcolor:k.tickcolor,showticklabels:k.showticklabels,tickfont:k.tickfont,tickangle:k.tickangle,tickformat:k.tickformat,exponentformat:k.exponentformat,separatethousands:k.separatethousands,showexponent:k.showexponent,showtickprefix:k.showtickprefix,tickprefix:k.tickprefix,showticksuffix:k.showticksuffix,ticksuffix:k.ticksuffix,title:k.title,titlefont:k.titlefont,showline:!0,anchor:"free",position:1},ne={type:"linear",_id:"y"+t},re={letter:"y",font:S.font,noHover:!0,calendar:S.calendar};if(m(te,ne,_,re,S),x(te,ne,_,re),ne.position=k.x+Y+U,n.axis=ne,-1!==["top","bottom"].indexOf(k.titleside)&&(ne.titleside=k.titleside,ne.titlex=k.x+Y,ne.titley=J+("top"===k.titleside?X-W:W)),k.line.color&&"auto"===k.tickmode){ne.tickmode="linear",ne.tick0=k.levels.start;var ae=k.levels.size,ie=u.constrain((K-ee)/50,4,15)+1,oe=(z[1]-z[0])/((k.nticks||ie)*ae);if(oe>1){var le=Math.pow(10,Math.floor(Math.log(oe)/Math.LN10));ae*=le*u.roundUp(oe/le,[2,5,10]),(Math.abs(k.levels.start)/k.levels.size+1e-6)%1<2e-6&&(ne.tick0=0)}ne.dtick=ae}ne.domain=[J+W,J+X-W],ne.setScale();var se=S._infolayer.selectAll("g."+t).data([0]);se.enter().append("g").classed(t,!0).each(function(){var e=r.select(this);e.append("rect").classed("cbbg",!0),e.append("g").classed("cbfills",!0),e.append("g").classed("cblines",!0),e.append("g").classed("cbaxis",!0).classed("crisp",!0),e.append("g").classed("cbtitleunshift",!0).append("g").classed("cbtitle",!0),e.append("rect").classed("cboutline",!0),e.select(".cbtitle").datum(0)}),se.attr("transform","translate("+Math.round(L.l)+","+Math.round(L.t)+")");var ce=se.select(".cbtitleunshift").attr("transform","translate(-"+Math.round(L.l)+",-"+Math.round(L.t)+")");ne._axislayer=se.select(".cbaxis");var ue=0;if(-1!==["top","bottom"].indexOf(k.titleside)){var fe,de=L.l+(k.x+Y)*L.w,he=ne.titlefont.size;fe="top"===k.titleside?(1-(J+X-W))*L.h+L.t+3+.75*he:(1-(J+W))*L.h+L.t-3-.25*he,A(ne._id+"title",{attributes:{x:de,y:fe,"text-anchor":"start"}})}var pe=u.syncOrAsync([o.previousPromises,M,o.previousPromises,T],e);if(pe&&pe.then&&(e._promises||[]).push(pe),e._context.edits.colorbarPosition){var ge,ve,ye;c.init({element:se.node(),gd:e,prepFn:function(){ge=se.attr("transform"),d(se)},moveFn:function(e,t){se.attr("transform",ge+" translate("+e+","+t+")"),ve=c.align($+e/L.w,U,0,1,k.xanchor),ye=c.align(J-t/L.h,X,0,1,k.yanchor);var n=c.getCursor(ve,ye,k.xanchor,k.yanchor);d(se,n)},doneFn:function(t){d(se),t&&void 0!==ve&&void 0!==ye&&i.restyle(e,{"colorbar.x":ve,"colorbar.y":ye},w().index)}})}return pe}function w(){var n,r,a=t.substr(2);for(n=0;n<e._fullData.length;n++)if(r=e._fullData[n],r.uid===a)return r}var k={};return Object.keys(_).forEach(function(e){k[e]=null}),k.fillcolor=null,k.line={color:null,width:null,dash:null},k.levels={start:null,end:null,size:null},k.filllevels=null,Object.keys(k).forEach(function(e){n[e]=function(t){return arguments.length?(k[e]=u.isPlainObject(k[e])?u.extendFlat(k[e],t):t,n):k[e]}}),n.options=function(e){return Object.keys(e).forEach(function(t){"function"==typeof n[t]&&n[t](e[t])}),n},n._opts=k,n}},function(e,t,n){"use strict";var r=n(58),a=n(62),i=n(104);e.exports=function(e){var t=r.select(e).selectAll("g.trace.scatter");t.style("opacity",function(e){return e[0].trace.opacity}),t.selectAll("g.points").each(function(t){var n=r.select(this),i=n.selectAll("path.point"),o=t.trace||t[0].trace;i.call(a.pointStyle,o,e),n.selectAll("text").call(a.textPointStyle,o,e)}),t.selectAll("g.trace path.js-line").call(a.lineGroupStyle),t.selectAll("g.trace path.js-fill").call(a.fillGroupStyle),t.call(i.style)}},function(e,t,n){"use strict";var r=n(57),a=n(105),i=n(104),o=n(322),l=n(60),s=n(323),c=a.constants.MAXDIST;e.exports=function(e,t,n,u){var f=e.cd,d=f[0].trace,h=e.xa,p=e.ya,g=h.c2p(t),v=p.c2p(n),y=[g,v],m=d.hoveron||"";if(-1!==m.indexOf("points")){var x=function(e){var t=Math.max(3,e.mrc||0);return Math.max(Math.abs(h.c2p(e.x)-g)-t,1-3/t)},b=function(e){var t=Math.max(3,e.mrc||0);return Math.max(Math.abs(p.c2p(e.y)-v)-t,1-3/t)},_=function(e){var t=Math.max(3,e.mrc||0),n=h.c2p(e.x)-g,r=p.c2p(e.y)-v;return Math.max(Math.sqrt(n*n+r*r)-t,1-3/t)},w=a.getDistanceFunction(u,x,b,_);if(a.getClosest(f,w,e),!1!==e.index){var k=f[e.index],M=h.c2p(k.x,!0),A=p.c2p(k.y,!0),T=k.mrc||1;return r.extendFlat(e,{color:o(d,k),x0:M-T,x1:M+T,xLabelVal:k.x,y0:A-T,y1:A+T,yLabelVal:k.y}),s(k,d,e),i.hoverInfo(k,d,e),[e]}}if(-1!==m.indexOf("fills")&&d._polygons){var S,L,C,O,z,j,D,I,P,E=d._polygons,N=[],R=!1,F=1/0,B=-1/0,q=1/0,H=-1/0;for(S=0;S<E.length;S++)C=E[S],C.contains(y)&&(R=!R,N.push(C),q=Math.min(q,C.ymin),H=Math.max(H,C.ymax));if(R){q=Math.max(q,0),H=Math.min(H,p._length);var V=(q+H)/2;for(S=0;S<N.length;S++)for(O=N[S].pts,L=1;L<O.length;L++)I=O[L-1][1],P=O[L][1],I>V!=P>=V&&(j=O[L-1][0],D=O[L][0],z=j+(D-j)*(V-I)/(P-I),F=Math.min(F,z),B=Math.max(B,z));F=Math.max(F,0),B=Math.min(B,h._length);var U=l.defaultLine;return l.opacity(d.fillcolor)?U=d.fillcolor:l.opacity((d.line||{}).color)&&(U=d.line.color),r.extendFlat(e,{distance:c+10,x0:F,x1:B,y0:V,y1:V,color:U}),delete e.index,d.text&&!Array.isArray(d.text)?e.text=String(d.text):e.text=d.name,[e]}}}},function(e,t,n){"use strict";var r=n(60),a=n(72);e.exports=function(e,t){var n,i;if("lines"===e.mode)return n=e.line.color,n&&r.opacity(n)?n:e.fillcolor;if("none"===e.mode)return e.fill?e.fillcolor:"";var o=t.mcc||(e.marker||{}).color,l=t.mlcc||((e.marker||{}).line||{}).color;return i=o&&r.opacity(o)?o:l&&r.opacity(l)&&(t.mlw||((e.marker||{}).line||{}).width)?l:"",i?r.opacity(i)<.3?r.addOpacity(i,.3):i:(n=(e.line||{}).color,n&&r.opacity(n)&&a.hasLines(e)&&e.line.width?n:e.fillcolor)}},function(e,t,n){"use strict";function r(e){return e||0===e}var a=n(57);e.exports=function(e,t,n){var i=Array.isArray(n)?function(e){n.push(e)}:function(e){n.text=e},o=a.extractOption(e,t,"htx","hovertext");if(r(o))return i(o);var l=a.extractOption(e,t,"tx","text");return r(l)?i(l):void 0}},function(e,t,n){"use strict";var r=n(72),a=n(120).DESELECTDIM;e.exports=function(e,t){var n,i,o,l,s=e.cd,c=e.xaxis,u=e.yaxis,f=[],d=s[0].trace,h=d.marker,p=!r.hasMarkers(d)&&!r.hasText(d);if(!0===d.visible&&!p){var g=Array.isArray(h.opacity)?1:h.opacity;if(!1===t)for(n=0;n<s.length;n++)s[n].dim=0;else for(n=0;n<s.length;n++)i=s[n],o=c.c2p(i.x),l=u.c2p(i.y),t.contains([o,l])?(f.push({pointNumber:n,x:i.x,y:i.y}),i.dim=0):i.dim=1;return s[0].node3.selectAll("path.point").style("opacity",function(e){return((e.mo+1||g+1)-1)*(e.dim?a:1)}),s[0].node3.selectAll("text").style("opacity",function(e){return e.dim?a:1}),f}}},function(e,t,n){"use strict";e.exports={xaxis:{valType:"subplotid",role:"info",dflt:"x",editType:"calc+clearAxisTypes",description:["Sets a reference between this trace's x coordinates and","a 2D cartesian x axis.","If *x* (the default value), the x coordinates refer to","`layout.xaxis`.","If *x2*, the x coordinates refer to `layout.xaxis2`, and so on."].join(" ")},yaxis:{valType:"subplotid",role:"info",dflt:"y",editType:"calc+clearAxisTypes",description:["Sets a reference between this trace's y coordinates and","a 2D cartesian y axis.","If *y* (the default value), the y coordinates refer to","`layout.yaxis`.","If *y2*, the y coordinates refer to `layout.xaxis2`, and so on."].join(" ")}}},function(e,t,n){"use strict";var r=n(58),a=n(64),i=n(61),o=n(62),l=n(63),s=n(66).attrRegex;e.exports=function(e,t,n,c){function u(t,n){function r(t,n,r){for(a=0;a<t.length;a++){var i=t[a];if(-1===o.indexOf(i.xref)&&-1===o.indexOf(i.yref)||n(e,a),r)return}}var a,o=[];for(o=[t._id,n._id],a=0;a<o.length;a++)l.doTicks(e,o[a],!0);r(v.annotations||[],i.getComponentMethod("annotations","drawOne")),r(v.shapes||[],i.getComponentMethod("shapes","drawOne")),r(v.images||[],i.getComponentMethod("images","draw"),!0)}function f(e){var t=e.xaxis,n=e.yaxis;v._defs.select("#"+e.clipId+"> rect").call(o.setTranslate,0,0).call(o.setScale,1,1),e.plot.call(o.setTranslate,t._offset,n._offset).call(o.setScale,1,1);var r=e.plot.select(".scatterlayer").selectAll(".points");r.selectAll(".point").call(o.setPointGroupScale,1,1).call(o.hideOutsideRangePoints,e),r.selectAll(".textpoint").call(o.setTextPointsScale,1,1).call(o.hideOutsideRangePoints,e)}function d(t,n){var r,a,i,l=m[t.xaxis._id],s=m[t.yaxis._id],c=[];if(l){r=e._fullLayout[l.axisName],a=r._r,i=l.to,c[0]=(a[0]*(1-n)+n*i[0]-a[0])/(a[1]-a[0])*t.xaxis._length;var f=a[1]-a[0],d=i[1]-i[0];r.range[0]=a[0]*(1-n)+n*i[0],r.range[1]=a[1]*(1-n)+n*i[1],c[2]=t.xaxis._length*(1-n+n*d/f)}else c[0]=0,c[2]=t.xaxis._length;if(s){r=e._fullLayout[s.axisName],a=r._r,i=s.to,c[1]=(a[1]*(1-n)+n*i[1]-a[1])/(a[0]-a[1])*t.yaxis._length;var h=a[1]-a[0],p=i[1]-i[0];r.range[0]=a[0]*(1-n)+n*i[0],r.range[1]=a[1]*(1-n)+n*i[1],c[3]=t.yaxis._length*(1-n+n*p/h)}else c[1]=0,c[3]=t.yaxis._length;u(t.xaxis,t.yaxis);var g=t.xaxis,y=t.yaxis,x=!!l,b=!!s,_=x?g._length/c[2]:1,w=b?y._length/c[3]:1,k=x?c[0]:0,M=b?c[1]:0,A=x?c[0]/c[2]*g._length:0,T=b?c[1]/c[3]*y._length:0,S=g._offset-A,L=y._offset-T;v._defs.select("#"+t.clipId+"> rect").call(o.setTranslate,k,M).call(o.setScale,1/_,1/w),t.plot.call(o.setTranslate,S,L).call(o.setScale,_,w).selectAll(".points").selectAll(".point").call(o.setPointGroupScale,1/_,1/w),t.plot.selectAll(".points").selectAll(".textpoint").call(o.setTextPointsScale,1/_,1/w)}function h(){for(var t={},n=0;n<x.length;n++){var r=e._fullLayout[m[x[n]].axisName],i=m[x[n]].to;t[r._name+".range[0]"]=i[0],t[r._name+".range[1]"]=i[1],r.range=i.slice()}return _&&_(),a.relayout(e,t).then(function(){for(var e=0;e<b.length;e++)f(b[e])})}function p(){for(var t={},n=0;n<x.length;n++){var r=e._fullLayout[x[n]+"axis"];t[r._name+".range[0]"]=r.range[0],t[r._name+".range[1]"]=r.range[1],r.range=r._r.slice()}return a.relayout(e,t).then(function(){for(var e=0;e<b.length;e++)f(b[e])})}function g(){k=Date.now();for(var e=Math.min(1,(k-w)/n.duration),t=A(e),r=0;r<b.length;r++)d(b[r],t);k-w>n.duration?(h(),M=window.cancelAnimationFrame(g)):M=window.requestAnimationFrame(g)}var v=e._fullLayout,y=[],m=function(e){var t,n,r,a,i={};for(t in e)if(n=t.split("."),n[0].match(s)){var o=t.charAt(0),l=n[0];if(r=v[l],a={},Array.isArray(e[t])?a.to=e[t].slice(0):Array.isArray(e[t].range)&&(a.to=e[t].range.slice(0)),!a.to)continue;a.axisName=l,a.length=r._length,y.push(o),i[o]=a}return i}(t),x=Object.keys(m),b=function(e,t,n){var r,a,i,o=e._plots,l=[];for(r in o){var s=o[r];if(-1===l.indexOf(s)){var c=s.xaxis._id,u=s.yaxis._id,f=s.xaxis.range,d=s.yaxis.range;s.xaxis._r=s.xaxis.range.slice(),s.yaxis._r=s.yaxis.range.slice(),a=n[c]?n[c].to:f,i=n[u]?n[u].to:d,f[0]===a[0]&&f[1]===a[1]&&d[0]===i[0]&&d[1]===i[1]||-1===t.indexOf(c)&&-1===t.indexOf(u)||l.push(s)}}return l}(v,x,m);if(!b.length)return function(){function t(t,n,r){for(var a=0;a<t.length;a++)if(n(e,a),r)return}t(v.annotations||[],i.getComponentMethod("annotations","drawOne")),t(v.shapes||[],i.getComponentMethod("shapes","drawOne")),t(v.images||[],i.getComponentMethod("images","draw"),!0)}(),!1;var _;c&&(_=c());var w,k,M,A=r.ease(n.easing);return e._transitionData._interruptCallbacks.push(function(){return window.cancelAnimationFrame(M),M=null,p()}),w=Date.now(),M=window.requestAnimationFrame(g),Promise.resolve()}},function(e,t,n){"use strict";e.exports={moduleType:"component",name:"legend",layoutAttributes:n(205),supplyLayoutDefaults:n(328),draw:n(329),style:n(206)}},function(e,t,n){"use strict";var r=n(61),a=n(57),i=n(205),o=n(102),l=n(163);e.exports=function(e,t,n){function s(e,t){return a.coerce(h,p,i,e,t)}for(var c,u,f,d,h=e.legend||{},p=t.legend={},g=0,v="normal",y=0;y<n.length;y++){var m=n[y];l.legendGetsTrace(m)&&(g++,r.traceIs(m,"pie")&&g++),(r.traceIs(m,"bar")&&"stack"===t.barmode||-1!==["tonextx","tonexty"].indexOf(m.fill))&&(v=l.isGrouped({traceorder:v})?"grouped+reversed":"reversed"),void 0!==m.legendgroup&&""!==m.legendgroup&&(v=l.isReversed({traceorder:v})?"reversed+grouped":"grouped")}if(!1!==a.coerce(e,t,o,"showlegend",g>1)){if(s("bgcolor",t.paper_bgcolor),s("bordercolor"),s("borderwidth"),a.coerceFont(s,"font",t.font),s("orientation"),"h"===p.orientation){var x=e.xaxis;x&&x.rangeslider&&x.rangeslider.visible?(c=0,f="left",u=1.1,d="bottom"):(c=0,f="left",u=-.1,d="top")}s("traceorder",v),l.isGrouped(t.legend)&&s("tracegroupgap"),s("x",c),s("xanchor",f),s("y",u),s("yanchor",d),a.noneOrAll(h,p,["x","y"])}}},function(e,t,n){"use strict";function r(e,t){function n(n){y.convertToTspans(n,t,function(){i(e,t)})}var r=e.data()[0][0],a=t._fullLayout,o=r.trace,l=h.traceIs(o,"pie"),s=o.index,c=l?r.label:o.name,d=e.selectAll("text.legendtext").data([0]);d.enter().append("text").classed("legendtext",!0),d.attr("text-anchor","start").classed("user-select-none",!0).call(g.font,a.legend.font).text(c),t._context.edits.legendText&&!l?d.call(y.makeEditable,{gd:t}).call(n).on("edit",function(e){this.text(e).call(n);var a=e;this.text()||(e="    ");var i,o,l=r.trace._fullInput||{},c={};if(-1!==["ohlc","candlestick"].indexOf(l.type))i=r.trace.transforms,o=i[i.length-1].direction,c[o+".name"]=e;else if(h.hasTransform(l,"groupby")){var d=h.getTransformIndices(l,"groupby"),p=d[d.length-1],g=f.keyedContainer(l,"transforms["+p+"].styles","target","value.name");""===a?g.remove(r.trace._group):g.set(r.trace._group,e),c=g.constructUpdate()}else c.name=e;return u.restyle(t,c,s)}):d.call(n)}function a(e,t){var n,r=1,a=e.selectAll("rect").data([0]);a.enter().append("rect").classed("legendtoggle",!0).style("cursor","pointer").attr("pointer-events","all").call(v.fill,"rgba(0,0,0,0)"),a.on("mousedown",function(){n=(new Date).getTime(),n-t._legendMouseDownTime<T?r+=1:(r=1,t._legendMouseDownTime=n)}),a.on("mouseup",function(){if(!t._dragged&&!t._editing){var n=t._fullLayout.legend;(new Date).getTime()-t._legendMouseDownTime>T&&(r=Math.max(r-1,1)),1===r?n._clickTimeout=setTimeout(function(){m(e,t,r)},T):2===r&&(n._clickTimeout&&clearTimeout(n._clickTimeout),t._legendMouseDownTime=0,m(e,t,r))}})}function i(e,t){var n=e.data()[0][0];if(!n.trace.showlegend)return void e.remove();var r,a,i=e.select("g[class*=math-group]"),o=i.node(),l=t._fullLayout.legend,s=l.font.size*_;if(o){var c=g.bBox(o);r=c.height,a=c.width,g.setTranslate(i,0,r/4)}else{var u=e.select(".legendtext"),f=y.lineCount(u),d=u.node();r=s*f,a=d?g.bBox(d).width:0;var h=s*(.3+(1-f)/2);y.positionText(u,40,h)}r=Math.max(r,16)+3,n.height=r,n.width=a}function o(e,t,n){var r=e._fullLayout,a=r.legend,i=a.borderwidth,o=M.isGrouped(a),l=0;if(a.width=0,a.height=0,M.isVertical(a))o&&t.each(function(e,t){g.setTranslate(this,0,t*a.tracegroupgap)}),n.each(function(e){var t=e[0],n=t.height,r=t.width;g.setTranslate(this,i,5+i+a.height+n/2),a.height+=n,a.width=Math.max(a.width,r)}),a.width+=45+2*i,a.height+=10+2*i,o&&(a.height+=(a._lgroupsLength-1)*a.tracegroupgap),l=40;else if(o){for(var s=[a.width],u=t.data(),f=0,d=u.length;f<d;f++){var h=u[f].map(function(e){return e[0].width}),p=40+Math.max.apply(null,h);a.width+=a.tracegroupgap+p,s.push(a.width)}t.each(function(e,t){g.setTranslate(this,s[t],0)}),t.each(function(){var e=c.select(this),t=e.selectAll("g.traces"),n=0;t.each(function(e){var t=e[0],r=t.height;g.setTranslate(this,0,5+i+n+r/2),n+=r}),a.height=Math.max(a.height,n)}),a.height+=10+2*i,a.width+=2*i}else{var v=0,y=0,m=0,x=0;n.each(function(e){m=Math.max(40+e[0].width,m)}),n.each(function(e){var t=e[0],n=m,o=a.tracegroupgap||5;i+x+o+n>r.width-(r.margin.r+r.margin.l)&&(x=0,v+=y,a.height=a.height+y,y=0),g.setTranslate(this,i+x,5+i+t.height/2+v),a.width+=o+n,a.height=Math.max(a.height,t.height),x+=o+n,y=Math.max(t.height,y)}),a.width+=2*i,a.height+=10+2*i}a.width=Math.ceil(a.width),a.height=Math.ceil(a.height),n.each(function(t){var n=t[0];c.select(this).select(".legendtoggle").call(g.setRect,0,-n.height/2,(e._context.edits.legendText?0:a.width)+l,n.height)})}function l(e){var t=e._fullLayout,n=t.legend,r="left";A.isRightAnchor(n)?r="right":A.isCenterAnchor(n)&&(r="center");var a="top";A.isBottomAnchor(n)?a="bottom":A.isMiddleAnchor(n)&&(a="middle"),d.autoMargin(e,"legend",{x:n.x,y:n.y,l:n.width*({right:1,center:.5}[r]||0),r:n.width*({left:1,center:.5}[r]||0),b:n.height*({top:1,middle:.5}[a]||0),t:n.height*({bottom:1,middle:.5}[a]||0)})}function s(e){var t=e._fullLayout,n=t.legend,r="left";A.isRightAnchor(n)?r="right":A.isCenterAnchor(n)&&(r="center"),d.autoMargin(e,"legend",{x:n.x,y:.5,l:n.width*({right:1,center:.5}[r]||0),r:n.width*({left:1,center:.5}[r]||0),b:0,t:0})}var c=n(58),u=n(64),f=n(57),d=n(65),h=n(61),p=n(76),g=n(62),v=n(60),y=n(70),m=n(330),x=n(331),b=n(120),_=n(71).LINE_SPACING,w=n(332),k=n(206),M=n(163),A=n(121),T=b.DBLCLICKDELAY;e.exports=function(e){function t(e,t){C.attr("data-scroll",t).call(g.setTranslate,0,t),O.call(g.setRect,F,e,x.scrollBarWidth,x.scrollBarHeight),S.select("rect").attr({y:y.borderwidth-t})}var n=e._fullLayout,i="legend"+n._uid;if(n._infolayer&&e.calcdata){e._legendMouseDownTime||(e._legendMouseDownTime=0);var y=n.legend,b=n.showlegend&&w(e.calcdata,y),_=n.hiddenlabels||[];if(!n.showlegend||!b.length)return n._infolayer.selectAll(".legend").remove(),n._topdefs.select("#"+i).remove(),void d.autoMargin(e,"legend");var M=n._infolayer.selectAll("g.legend").data([0]);M.enter().append("g").attr({class:"legend","pointer-events":"all"});var S=n._topdefs.selectAll("#"+i).data([0]);S.enter().append("clipPath").attr("id",i).append("rect");var L=M.selectAll("rect.bg").data([0]);L.enter().append("rect").attr({class:"bg","shape-rendering":"crispEdges"}),L.call(v.stroke,y.bordercolor),L.call(v.fill,y.bgcolor),L.style("stroke-width",y.borderwidth+"px");var C=M.selectAll("g.scrollbox").data([0]);C.enter().append("g").attr("class","scrollbox");var O=M.selectAll("rect.scrollbar").data([0]);O.enter().append("rect").attr({class:"scrollbar",rx:20,ry:2,width:0,height:0}).call(v.fill,"#808BA4");var z=C.selectAll("g.groups").data(b);z.enter().append("g").attr("class","groups"),z.exit().remove();var j=z.selectAll("g.traces").data(f.identity);j.enter().append("g").attr("class","traces"),j.exit().remove(),j.call(k,e).style("opacity",function(e){var t=e[0].trace;return h.traceIs(t,"pie")?-1!==_.indexOf(e[0].label)?.5:1:"legendonly"===t.visible?.5:1}).each(function(){c.select(this).call(r,e).call(a,e)});var D=0!==M.enter().size();D&&(o(e,z,j),l(e));var I=n.width,P=n.height;o(e,z,j),y.height>P?s(e):l(e);var E=n._size,N=E.l+E.w*y.x,R=E.t+E.h*(1-y.y);A.isRightAnchor(y)?N-=y.width:A.isCenterAnchor(y)&&(N-=y.width/2),A.isBottomAnchor(y)?R-=y.height:A.isMiddleAnchor(y)&&(R-=y.height/2);var F=y.width,B=E.w;F>B?(N=E.l,F=B):(N+F>I&&(N=I-F),N<0&&(N=0),F=Math.min(I-N,y.width));var q=y.height,H=E.h;q>H?(R=E.t,q=H):(R+q>P&&(R=P-q),R<0&&(R=0),q=Math.min(P-R,y.height)),g.setTranslate(M,N,R);var V,U,G=q-x.scrollBarHeight-2*x.scrollBarMargin,X=y.height-q;if(y.height<=q||e._context.staticPlot)L.attr({width:F-y.borderwidth,height:q-y.borderwidth,x:y.borderwidth/2,y:y.borderwidth/2}),g.setTranslate(C,0,0),S.select("rect").attr({width:F-2*y.borderwidth,height:q-2*y.borderwidth,x:y.borderwidth,y:y.borderwidth}),C.call(g.setClipUrl,i);else{V=x.scrollBarMargin,U=C.attr("data-scroll")||0,L.attr({width:F-2*y.borderwidth+x.scrollBarWidth+x.scrollBarMargin,height:q-y.borderwidth,x:y.borderwidth/2,y:y.borderwidth/2}),S.select("rect").attr({width:F-2*y.borderwidth+x.scrollBarWidth+x.scrollBarMargin,height:q-2*y.borderwidth,x:y.borderwidth,y:y.borderwidth-U}),C.call(g.setClipUrl,i),D&&t(V,U),M.on("wheel",null),M.on("wheel",function(){U=f.constrain(C.attr("data-scroll")-c.event.deltaY/G*X,-X,0),V=x.scrollBarMargin-U/X*G,t(V,U),0!==U&&U!==-X&&c.event.preventDefault()}),O.on(".drag",null),C.on(".drag",null);var Y=c.behavior.drag().on("drag",function(){V=f.constrain(c.event.y-x.scrollBarHeight/2,x.scrollBarMargin,x.scrollBarMargin+G),U=-(V-x.scrollBarMargin)/G*X,t(V,U)});O.call(Y),C.call(Y)}if(e._context.edits.legendPosition){var Z,W,Q,$;M.classed("cursor-move",!0),p.init({element:M.node(),gd:e,prepFn:function(){var e=g.getTranslate(M);Q=e.x,$=e.y},moveFn:function(e,t){var n=Q+e,r=$+t;g.setTranslate(M,n,r),Z=p.align(n,0,E.l,E.l+E.w,y.xanchor),W=p.align(r,0,E.t+E.h,E.t,y.yanchor)},doneFn:function(t,r,a){if(t&&void 0!==Z&&void 0!==W)u.relayout(e,{"legend.x":Z,"legend.y":W});else{var i=n._infolayer.selectAll("g.traces").filter(function(){var e=this.getBoundingClientRect();return a.clientX>=e.left&&a.clientX<=e.right&&a.clientY>=e.top&&a.clientY<=e.bottom});i.size()>0&&(1===r?M._clickTimeout=setTimeout(function(){m(i,e,r)},T):2===r&&(M._clickTimeout&&clearTimeout(M._clickTimeout),m(i,e,r)))}}})}}}},function(e,t,n){"use strict";var r=n(64),a=n(57),i=n(61),o=!0;e.exports=function(e,t,n){function l(e,t,n){var r=_.indexOf(e),a=b[t];return a||(a=b[t]=[]),-1===_.indexOf(e)&&(_.push(e),r=_.length-1),a[r]=n,r}function s(e,t){var n=e._fullInput;if(i.hasTransform(n,"groupby")){var r=w[n.index];if(!r){var o=i.getTransformIndices(n,"groupby"),s=o[o.length-1];r=a.keyedContainer(n,"transforms["+s+"].styles","target","value.visible"),w[n.index]=r}var c=r.get(e._group);void 0===c&&(c=!0),!1!==c&&r.set(e._group,t),k[n.index]=l(n.index,"visible",!1!==n.visible)}else{var u=!1!==n.visible&&t;l(n.index,"visible",u)}}if(!t._dragged&&!t._editing){var c,u,f,d,h,p,g=t._fullLayout.hiddenlabels?t._fullLayout.hiddenlabels.slice():[],v=e.data()[0][0],y=t._fullData,m=v.trace,x=m.legendgroup,b={},_=[],w=[],k=[];if(1===n&&o&&t.data&&t._context.showTips?(a.notifier("Double click on legend to isolate individual trace","long"),o=!1):o=!1,i.traceIs(m,"pie")){var M=v.label,A=g.indexOf(M);1===n?-1===A?g.push(M):g.splice(A,1):2===n&&(g=[],t.calcdata[0].forEach(function(e){M!==e.label&&g.push(e.label)}),t._fullLayout.hiddenlabels&&t._fullLayout.hiddenlabels.length===g.length&&-1===A&&(g=[])),r.relayout(t,"hiddenlabels",g)}else{var T,S=x&&x.length,L=[];if(S)for(c=0;c<y.length;c++)T=y[c],T.visible&&T.legendgroup===x&&L.push(c);if(1===n){var C;switch(m.visible){case!0:C="legendonly";break;case!1:C=!1;break;case"legendonly":C=!0}if(S)for(c=0;c<y.length;c++)!1!==y[c].visible&&y[c].legendgroup===x&&s(y[c],C);else s(m,C)}else if(2===n){var O,z,j,D=!0;for(c=0;c<y.length;c++)if(!(O=y[c]===m)&&!(z=S&&y[c].legendgroup===x)&&!0===y[c].visible&&!i.traceIs(y[c],"notLegendIsolatable")){D=!1;break}for(c=0;c<y.length;c++)if(!1!==y[c].visible&&!i.traceIs(y[c],"notLegendIsolatable"))switch(m.visible){case"legendonly":s(y[c],!0);break;case!0:j=!!D||"legendonly",O=y[c]===m,z=O||S&&y[c].legendgroup===x,s(y[c],!!z||j)}}for(c=0;c<w.length;c++)if(f=w[c]){var I=f.constructUpdate(),P=Object.keys(I);for(u=0;u<P.length;u++)d=P[u],p=b[d]=b[d]||[],p[k[c]]=I[d]}for(h=Object.keys(b),c=0;c<h.length;c++)for(d=h[c],u=0;u<_.length;u++)b[d].hasOwnProperty(u)||(b[d][u]=void 0);r.restyle(t,b,_)}}}},function(e,t,n){"use strict";e.exports={scrollBarWidth:4,scrollBarHeight:20,scrollBarColor:"#808BA4",scrollBarMargin:4}},function(e,t,n){"use strict";var r=n(61),a=n(163);e.exports=function(e,t){function n(e,n){if(""!==e&&a.isGrouped(t))-1===s.indexOf(e)?(s.push(e),c=!0,l[e]=[[n]]):l[e].push([n]);else{var r="~~i"+f;s.push(r),l[r]=[[n]],f++}}var i,o,l={},s=[],c=!1,u={},f=0;for(i=0;i<e.length;i++){var d=e[i],h=d[0],p=h.trace,g=p.legendgroup;if(a.legendGetsTrace(p)&&p.showlegend)if(r.traceIs(p,"pie"))for(u[g]||(u[g]={}),o=0;o<d.length;o++){var v=d[o].label;u[g][v]||(n(g,{label:v,color:d[o].color,i:d[o].i,trace:p}),u[g][v]=!0)}else n(g,h)}if(!s.length)return[];var y,m,x=s.length;if(c&&a.isGrouped(t))for(m=new Array(x),i=0;i<x;i++)y=l[s[i]],m[i]=a.isReversed(t)?y.reverse():y;else{for(m=[new Array(x)],i=0;i<x;i++)y=l[s[i]][0],m[0][a.isReversed(t)?x-i-1:i]=y;x=1}return t._lgroupsLength=x,m}},function(e,t,n){"use strict";var r=n(60);e.exports=function(e,t,n){var a=n.marker.line.color;Array.isArray(a)&&(a=a[t.i]||r.defaultLine);var i=n.marker.line.width||0;Array.isArray(i)&&(i=i[t.i]||0),e.style({"stroke-width":i}).call(r.fill,t.color).call(r.stroke,a)}},function(e,t,n){"use strict";var r=n(164),a=n(336);e.exports={moduleType:"component",name:"annotations",layoutAttributes:n(122),supplyLayoutDefaults:n(337),calcAutorange:n(339),draw:r.draw,drawOne:r.drawOne,drawRaw:r.drawRaw,hasClickToShow:a.hasClickToShow,onClick:a.onClick,convertCoords:n(340)}},function(e,t,n){"use strict";var r=n(58),a=n(60),i=n(207);e.exports=function(e,t,n){function o(){e.style("stroke-dasharray","0px,100px")}function l(t,i){h.path&&(h.noRotate&&(i=0),r.select(d.parentNode).append("path").attr({class:e.attr("class"),d:h.path,transform:"translate("+t.x+","+t.y+")"+(i?"rotate("+180*i/Math.PI+")":"")+"scale("+p+")"}).style({fill:a.rgb(n.arrowcolor),"stroke-width":0}))}var s,c,u,f,d=e.node(),h=i[n.arrowhead||0],p=(n.arrowwidth||1)*n.arrowsize,g=t.indexOf("start")>=0,v=t.indexOf("end")>=0,y=h.backoff*p+n.standoff;if("line"===d.nodeName){s={x:+e.attr("x1"),y:+e.attr("y1")},c={x:+e.attr("x2"),y:+e.attr("y2")};var m=s.x-c.x,x=s.y-c.y;if(u=Math.atan2(x,m),f=u+Math.PI,y){if(y*y>m*m+x*x)return void o();var b=y*Math.cos(u),_=y*Math.sin(u);g&&(s.x-=b,s.y-=_,e.attr({x1:s.x,y1:s.y})),v&&(c.x+=b,c.y+=_,e.attr({x2:c.x,y2:c.y}))}}else if("path"===d.nodeName){var w=d.getTotalLength(),k="";if(w<y)return void o();if(g){var M=d.getPointAtLength(0),A=d.getPointAtLength(.1);u=Math.atan2(M.y-A.y,M.x-A.x),s=d.getPointAtLength(Math.min(y,w)),y&&(k="0px,"+y+"px,")}if(v){var T=d.getPointAtLength(w),S=d.getPointAtLength(w-.1);if(f=Math.atan2(T.y-S.y,T.x-S.x),c=d.getPointAtLength(Math.max(0,w-y)),y){var L=k?2*y:y;k+=w-L+"px,"+w+"px"}}else k&&(k+=w+"px");k&&e.style("stroke-dasharray",k)}g&&l(s,u),v&&l(c,f)}},function(e,t,n){"use strict";function r(e,t){var n=i(e,t);return n.on.length>0||n.explicitOff.length>0}function a(e,t){var n,r=i(e,t),a=r.on,o=r.off.concat(r.explicitOff),s={};if(a.length||o.length){for(n=0;n<a.length;n++)s["annotations["+a[n]+"].visible"]=!0;for(n=0;n<o.length;n++)s["annotations["+o[n]+"].visible"]=!1;return l.update(e,{},s)}}function i(e,t){var n,r,a,i,l,s,c,u,f=e._fullLayout.annotations,d=[],h=[],p=[],g=(t||[]).length;for(n=0;n<f.length;n++)if(a=f[n],i=a.clicktoshow){for(r=0;r<g;r++)if(l=t[r],s=l.xaxis,c=l.yaxis,s._id===a.xref&&c._id===a.yref&&s.d2r(l.x)===o(a._xclick,s)&&c.d2r(l.y)===o(a._yclick,c)){u=a.visible?"onout"===i?h:p:d,u.push(n);break}r===g&&a.visible&&"onout"===i&&h.push(n)}return{on:d,off:h,explicitOff:p}}function o(e,t){return"log"===t.type?t.l2r(e):t.d2r(e)}var l=n(64);e.exports={hasClickToShow:r,onClick:a}},function(e,t,n){"use strict";var r=n(93),a=n(338);e.exports=function(e,t){r(e,t,{name:"annotations",handleItemDefaults:a})}},function(e,t,n){"use strict";var r=n(57),a=n(63),i=n(208),o=n(122);e.exports=function(e,t,n,l,s){function c(n,a){return r.coerce(e,t,o,n,a)}l=l||{},s=s||{};var u=c("visible",!s.itemIsNotPlainObject),f=c("clicktoshow");if(!u&&!f)return t;i(e,t,n,c);for(var d=t.showarrow,h=["x","y"],p=[-10,-30],g={_fullLayout:n},v=0;v<2;v++){var y=h[v],m=a.coerceRef(e,t,g,y,"","paper");if(a.coercePosition(t,g,c,m,y,.5),d){var x="a"+y,b=a.coerceRef(e,t,g,x,"pixel");"pixel"!==b&&b!==m&&(b=t[x]="pixel");var _="pixel"===b?p[v]:.4;a.coercePosition(t,g,c,b,x,_)}c(y+"anchor"),c(y+"shift")}if(r.noneOrAll(e,t,["x","y"]),d&&r.noneOrAll(e,t,["ax","ay"]),f){var w=c("xclick"),k=c("yclick");t._xclick=void 0===w?t.x:a.cleanPosition(w,g,t.xref),t._yclick=void 0===k?t.y:a.cleanPosition(k,g,t.yref)}return t}},function(e,t,n){"use strict";function r(e){var t=e._fullLayout;a.filterVisible(t.annotations).forEach(function(t){var n,r,a=i.getFromId(e,t.xref),o=i.getFromId(e,t.yref),l=3*t.arrowsize*t.arrowwidth||0;a&&a.autorange&&(n=l+t.xshift,r=l-t.xshift,t.axref===t.xref?(i.expand(a,[a.r2c(t.x)],{ppadplus:n,ppadminus:r}),i.expand(a,[a.r2c(t.ax)],{ppadplus:t._xpadplus,ppadminus:t._xpadminus})):i.expand(a,[a.r2c(t.x)],{ppadplus:Math.max(t._xpadplus,n),ppadminus:Math.max(t._xpadminus,r)})),o&&o.autorange&&(n=l-t.yshift,r=l+t.yshift,t.ayref===t.yref?(i.expand(o,[o.r2c(t.y)],{ppadplus:n,ppadminus:r}),i.expand(o,[o.r2c(t.ay)],{ppadplus:t._ypadplus,ppadminus:t._ypadminus})):i.expand(o,[o.r2c(t.y)],{ppadplus:Math.max(t._ypadplus,n),ppadminus:Math.max(t._ypadminus,r)}))})}var a=n(57),i=n(63),o=n(164).draw;e.exports=function(e){var t=e._fullLayout,n=a.filterVisible(t.annotations);if(n.length&&e._fullData.length){var l={};n.forEach(function(e){l[e.xref]=!0,l[e.yref]=!0});if(i.list(e).filter(function(e){return e.autorange&&l[e._id]}).length)return a.syncOrAsync([o,r],e)}}},function(e,t,n){"use strict";var r=n(59),a=n(142);e.exports=function(e,t,n,i){function o(e){var n=c[e],o=null;o=l?a(n,t.range):Math.pow(10,n),r(o)||(o=null),i(u+e,o)}t=t||{};var l="log"===n&&"linear"===t.type,s="linear"===n&&"log"===t.type;if(l||s)for(var c,u,f=e._fullLayout.annotations,d=t._id.charAt(0),h=0;h<f.length;h++)c=f[h],u="annotations["+h+"].",c[d+"ref"]===t._id&&o(d),c["a"+d+"ref"]===t._id&&o("a"+d)}},function(e,t,n){"use strict";e.exports={moduleType:"component",name:"annotations3d",schema:{subplots:{scene:{annotations:n(165)}}},layoutAttributes:n(165),handleDefaults:n(342),convert:n(343),draw:n(344)}},function(e,t,n){"use strict";function r(e,t,n,r,o){function c(n,r){return a.coerce(e,t,s,n,r)}function u(e){var r=e+"axis",a={_fullLayout:{}};return a._fullLayout[r]=n[r],i.coercePosition(t,a,c,e,e,.5)}return c("visible",!o.itemIsNotPlainObject)?(l(e,t,r.fullLayout,c),u("x"),u("y"),u("z"),a.noneOrAll(e,t,["x","y","z"]),t.xref="x",t.yref="y",t.zref="z",c("xanchor"),c("yanchor"),c("xshift"),c("yshift"),t.showarrow&&(t.axref="pixel",t.ayref="pixel",c("ax",-10),c("ay",-30),a.noneOrAll(e,t,["ax","ay"])),t):t}var a=n(57),i=n(63),o=n(93),l=n(208),s=n(165);e.exports=function(e,t,n){o(e,t,{name:"annotations",handleItemDefaults:r,fullLayout:n.fullLayout})}},function(e,t,n){"use strict";function r(e,t){var n=t.fullSceneLayout,r=n.domain,o=t.fullLayout._size,l={pdata:null,type:"linear",autorange:!1,range:[-1/0,1/0]};e._xa={},a.extendFlat(e._xa,l),i.setConvert(e._xa),e._xa._offset=o.l+r.x[0]*o.w,e._xa.l2p=function(){return.5*(1+e.pdata[0]/e.pdata[3])*o.w*(r.x[1]-r.x[0])},e._ya={},a.extendFlat(e._ya,l),i.setConvert(e._ya),e._ya._offset=o.t+(1-r.y[1])*o.h,e._ya.l2p=function(){return.5*(1-e.pdata[1]/e.pdata[3])*o.h*(r.y[1]-r.y[0])}}var a=n(57),i=n(63);e.exports=function(e){for(var t=e.fullSceneLayout,n=t.annotations,a=0;a<n.length;a++)r(n[a],e);e.fullLayout._infolayer.selectAll(".annotation-"+e.id).remove()}},function(e,t,n){"use strict";var r=n(164).drawRaw,a=n(345),i=["x","y","z"];e.exports=function(e){for(var t=e.fullSceneLayout,n=e.dataScale,o=t.annotations,l=0;l<o.length;l++){for(var s=o[l],c=!1,u=0;u<3;u++){var f=i[u],d=s[f],h=t[f+"axis"],p=h.r2fraction(d);if(p<0||p>1){c=!0;break}}c?e.fullLayout._infolayer.select(".annotation-"+e.id+'[data-index="'+l+'"]').remove():(s.pdata=a(e.glplot.cameraParams,[t.xaxis.r2l(s.x)*n[0],t.yaxis.r2l(s.y)*n[1],t.zaxis.r2l(s.z)*n[2]]),r(e.graphDiv,s,l,e.id,s._xa,s._ya))}}},function(e,t,n){"use strict";function r(e,t){var n,r,a=[0,0,0,0];for(n=0;n<4;++n)for(r=0;r<4;++r)a[r]+=e[4*n+r]*t[n];return a}function a(e,t){return r(e.projection,r(e.view,r(e.model,[t[0],t[1],t[2],1])))}e.exports=a},function(e,t,n){"use strict";var r=n(347);e.exports={moduleType:"component",name:"shapes",layoutAttributes:n(210),supplyLayoutDefaults:n(348),calcAutorange:n(350),draw:r.draw,drawOne:r.drawOne}},function(e,t,n){"use strict";function r(e){var t=e._fullLayout;t._shapeUpperLayer.selectAll("path").remove(),t._shapeLowerLayer.selectAll("path").remove(),t._shapeSubplotLayers.selectAll("path").remove();for(var n=0;n<t.shapes.length;n++)t.shapes[n].visible&&a(e,n)}function a(e,t){function n(n){var r={"data-index":t,"fill-rule":"evenodd",d:o(e,a)},l=a.line.width?a.line.color:"rgba(0,0,0,0)",s=n.append("path").attr(r).style("opacity",a.opacity).call(d.stroke,l).call(d.fill,a.fillcolor).call(h.dashLine,a.line.dash,a.line.width),c=(a.xref+a.yref).replace(/paper/g,"");s.call(h.setClipUrl,c?"clip"+e._fullLayout._uid+c:null),e._context.edits.shapePosition&&i(e,s,a,t)}e._fullLayout._paper.selectAll('.shapelayer [data-index="'+t+'"]').remove();var r=(e.layout.shapes||[])[t],a=e._fullLayout.shapes[t];if(r&&!1!==a.visible)if("below"!==a.layer)n(e._fullLayout._shapeUpperLayer);else if("paper"===a.xref||"paper"===a.yref)n(e._fullLayout._shapeLowerLayer);else{var l=e._fullLayout._plots[a.xref+a.yref];if(l){var s=l.mainplotinfo||l;n(s.shapelayer)}else n(e._fullLayout._shapeLowerLayer)}}function i(e,t,n,r){function a(e){var n=W.right-W.left,r=W.bottom-W.top,a=e.clientX-W.left,i=e.clientY-W.top,o=n>X&&r>Y&&!e.shiftKey?p.getCursor(a/n,1-i/r):"move";g(t,o),G=o.split("-")[0]}function i(t){F=f.getFromId(e,n.xref),B=f.getFromId(e,n.yref),q=y.getDataToPixel(e,F),H=y.getDataToPixel(e,B,!0),V=y.getPixelToData(e,F),U=y.getPixelToData(e,B,!0);var i="shapes["+r+"]";"path"===n.type?(N=n.path,R=i+".path"):(v=q(n.x0),m=H(n.y0),x=q(n.x1),b=H(n.y1),_=i+".x0",w=i+".y0",k=i+".x1",M=i+".y1"),v<x?(S=v,z=i+".x0",P="x0",L=x,j=i+".x1",E="x1"):(S=x,z=i+".x1",P="x1",L=v,j=i+".x0",E="x0"),m<b?(A=m,C=i+".y0",D="y0",T=b,O=i+".y1",I="y1"):(A=b,C=i+".y1",D="y1",T=m,O=i+".y0",I="y0"),h={},a(t),Z.moveFn="move"===G?u:d}function l(n){g(t),n&&c.relayout(e,h)}function u(r,a){if("path"===n.type){var i=function(e){return V(q(e)+r)};F&&"date"===F.type&&(i=y.encodeDate(i));var l=function(e){return U(H(e)+a)};B&&"date"===B.type&&(l=y.encodeDate(l)),n.path=s(N,i,l),h[R]=n.path}else h[_]=n.x0=V(v+r),h[w]=n.y0=U(m+a),h[k]=n.x1=V(x+r),h[M]=n.y1=U(b+a);t.attr("d",o(e,n))}function d(r,a){if("path"===n.type){var i=function(e){return V(q(e)+r)};F&&"date"===F.type&&(i=y.encodeDate(i));var l=function(e){return U(H(e)+a)};B&&"date"===B.type&&(l=y.encodeDate(l)),n.path=s(N,i,l),h[R]=n.path}else{var c=~G.indexOf("n")?A+a:A,u=~G.indexOf("s")?T+a:T,f=~G.indexOf("w")?S+r:S,d=~G.indexOf("e")?L+r:L;u-c>Y&&(h[C]=n[D]=U(c),h[O]=n[I]=U(u)),d-f>X&&(h[z]=n[P]=V(f),h[j]=n[E]=V(d))}t.attr("d",o(e,n))}var h,v,m,x,b,_,w,k,M,A,T,S,L,C,O,z,j,D,I,P,E,N,R,F,B,q,H,V,U,G,X=10,Y=10,Z={element:t.node(),gd:e,prepFn:i,doneFn:l},W=Z.element.getBoundingClientRect();p.init(Z),t.node().onmousemove=a}function o(e,t){var n,r,a,i,o=t.type,s=f.getFromId(e,t.xref),c=f.getFromId(e,t.yref),u=e._fullLayout._size;if(s?(n=y.shapePositionToRange(s),r=function(e){return s._offset+s.r2p(n(e,!0))}):r=function(e){return u.l+u.w*e},c?(a=y.shapePositionToRange(c),i=function(e){return c._offset+c.r2p(a(e,!0))}):i=function(e){return u.t+u.h*(1-e)},"path"===o)return s&&"date"===s.type&&(r=y.decodeDate(r)),c&&"date"===c.type&&(i=y.decodeDate(i)),l(t.path,r,i);var d=r(t.x0),h=r(t.x1),p=i(t.y0),g=i(t.y1);if("line"===o)return"M"+d+","+p+"L"+h+","+g;if("rect"===o)return"M"+d+","+p+"H"+h+"V"+g+"H"+d+"Z";var v=(d+h)/2,m=(p+g)/2,x=Math.abs(v-d),b=Math.abs(m-p),_="A"+x+","+b,w=v+x+","+m;return"M"+w+_+" 0 1,1 "+v+","+(m-b)+_+" 0 0,1 "+w+"Z"}function l(e,t,n){return e.replace(v.segmentRE,function(e){var r=0,a=e.charAt(0),i=v.paramIsX[a],o=v.paramIsY[a],l=v.numParams[a],s=e.substr(1).replace(v.paramRE,function(e){return i[r]?e=t(e):o[r]&&(e=n(e)),r++,r>l&&(e="X"),e});return r>l&&(s=s.replace(/[\s,]*X.*/,""),u.log("Ignoring extra params in segment "+e)),a+s})}function s(e,t,n){return e.replace(v.segmentRE,function(e){var r=0,a=e.charAt(0),i=v.paramIsX[a],o=v.paramIsY[a],l=v.numParams[a];return a+e.substr(1).replace(v.paramRE,function(e){return r>=l?e:(i[r]?e=t(e):o[r]&&(e=n(e)),r++,e)})})}var c=n(64),u=n(57),f=n(63),d=n(60),h=n(62),p=n(76),g=n(92),v=n(209),y=n(166);e.exports={draw:r,drawOne:a}},function(e,t,n){"use strict";var r=n(93),a=n(349);e.exports=function(e,t){r(e,t,{name:"shapes",handleItemDefaults:a})}},function(e,t,n){"use strict";var r=n(57),a=n(63),i=n(210),o=n(166);e.exports=function(e,t,n,l,s){function c(n,a){return r.coerce(e,t,i,n,a)}if(l=l||{},s=s||{},!c("visible",!s.itemIsNotPlainObject))return t;c("layer"),c("opacity"),c("fillcolor"),c("line.color"),c("line.width"),c("line.dash");for(var u=e.path?"path":"rect",f=c("type",u),d=["x","y"],h=0;h<2;h++){var p=d[h],g={_fullLayout:n},v=a.coerceRef(e,t,g,p,"","paper");if("path"!==f){var y,m,x;"paper"!==v?(y=a.getFromId(g,v),x=o.rangeToShapePosition(y),m=o.shapePositionToRange(y)):m=x=r.identity;var b=p+"0",_=p+"1",w=e[b],k=e[_];e[b]=m(e[b],!0),e[_]=m(e[_],!0),a.coercePosition(t,g,c,v,b,.25),a.coercePosition(t,g,c,v,_,.75),t[b]=x(t[b]),t[_]=x(t[_]),e[b]=w,e[_]=k}}return"path"===f?c("path"):r.noneOrAll(e,t,["x0","x1","y0","y1"]),t}},function(e,t,n){"use strict";function r(e,t,n,r,a){var i="category"===e.type?e.r2c:e.d2c;if(void 0!==t)return[i(t),i(n)];if(r){var s,c,u,f,d,h=1/0,p=-1/0,g=r.match(o.segmentRE);for("date"===e.type&&(i=l.decodeDate(i)),s=0;s<g.length;s++)c=g[s],void 0!==(u=a[c.charAt(0)].drawn)&&(!(f=g[s].substr(1).match(o.paramRE))||f.length<u||(d=i(f[u]),d<h&&(h=d),d>p&&(p=d)));return p>=h?[h,p]:void 0}}var a=n(57),i=n(63),o=n(209),l=n(166);e.exports=function(e){var t=e._fullLayout,n=a.filterVisible(t.shapes);if(n.length&&e._fullData.length)for(var l=0;l<n.length;l++){var s,c,u=n[l],f=u.line.width/2;"paper"!==u.xref&&(s=i.getFromId(e,u.xref),(c=r(s,u.x0,u.x1,u.path,o.paramIsX))&&i.expand(s,c,{ppad:f})),"paper"!==u.yref&&(s=i.getFromId(e,u.yref),(c=r(s,u.y0,u.y1,u.path,o.paramIsY))&&i.expand(s,c,{ppad:f}))}}},function(e,t,n){"use strict";e.exports={moduleType:"component",name:"images",layoutAttributes:n(211),supplyLayoutDefaults:n(352),draw:n(353),convertCoords:n(354)}},function(e,t,n){"use strict";function r(e,t,n){function r(n,r){return a.coerce(e,t,l,n,r)}if(!r("visible",!!r("source")))return t;r("layer"),r("xanchor"),r("yanchor"),r("sizex"),r("sizey"),r("sizing"),r("opacity");for(var o={_fullLayout:n},s=["x","y"],c=0;c<2;c++){var u=s[c],f=i.coerceRef(e,t,o,u,"paper");i.coercePosition(t,o,r,f,u,0)}return t}var a=n(57),i=n(63),o=n(93),l=n(211);e.exports=function(e,t){o(e,t,{name:"images",handleItemDefaults:r})}},function(e,t,n){"use strict";var r=n(58),a=n(62),i=n(63),o=n(103);e.exports=function(e){function t(t){var n=r.select(this);if(!this.img||this.img.src!==t.source){n.attr("xmlns",o.svg);var a=new Promise(function(e){function r(){n.remove(),e()}var a=new Image;this.img=a,a.setAttribute("crossOrigin","anonymous"),a.onerror=r,a.onload=function(){var t=document.createElement("canvas");t.width=this.width,t.height=this.height,t.getContext("2d").drawImage(this,0,0);var r=t.toDataURL("image/png");n.attr("xlink:href",r),e()},n.on("error",r),a.src=t.source}.bind(this));e._promises.push(a)}}function n(t){var n=r.select(this),o=i.getFromId(e,t.xref),l=i.getFromId(e,t.yref),s=c._size,u=o?Math.abs(o.l2p(t.sizex)-o.l2p(0)):t.sizex*s.w,f=l?Math.abs(l.l2p(t.sizey)-l.l2p(0)):t.sizey*s.h,d=u*g.x[t.xanchor].offset,h=f*g.y[t.yanchor].offset,p=g.x[t.xanchor].sizing+g.y[t.yanchor].sizing,v=(o?o.r2p(t.x)+o._offset:t.x*s.w+s.l)+d,y=(l?l.r2p(t.y)+l._offset:s.h-t.y*s.h+s.t)+h;switch(t.sizing){case"fill":p+=" slice";break;case"stretch":p="none"}n.attr({x:v,y:y,width:u,height:f,preserveAspectRatio:p,opacity:t.opacity});var m=o?o._id:"",x=l?l._id:"",b=m+x;n.call(a.setClipUrl,b?"clip"+c._uid+b:null)}var l,s,c=e._fullLayout,u=[],f={},d=[];for(s=0;s<c.images.length;s++){var h=c.images[s];if(h.visible)if("below"===h.layer&&"paper"!==h.xref&&"paper"!==h.yref){l=h.xref+h.yref;var p=c._plots[l];if(!p){d.push(h);continue}p.mainplot&&(l=p.mainplot.id),f[l]||(f[l]=[]),f[l].push(h)}else"above"===h.layer?u.push(h):d.push(h)}var g={x:{left:{sizing:"xMin",offset:0},center:{sizing:"xMid",offset:-.5},right:{sizing:"xMax",offset:-1}},y:{top:{sizing:"YMin",offset:0},middle:{sizing:"YMid",offset:-.5},bottom:{sizing:"YMax",offset:-1}}},v=c._imageLowerLayer.selectAll("image").data(d),y=c._imageUpperLayer.selectAll("image").data(u);v.enter().append("image"),y.enter().append("image"),v.exit().remove(),y.exit().remove(),v.each(function(e){t.bind(this)(e),n.bind(this)(e)}),y.each(function(e){t.bind(this)(e),n.bind(this)(e)});var m=Object.keys(c._plots);for(s=0;s<m.length;s++){l=m[s];var x=c._plots[l];if(x.imagelayer){var b=x.imagelayer.selectAll("image").data(f[l]||[]);b.enter().append("image"),b.exit().remove(),b.each(function(e){t.bind(this)(e),n.bind(this)(e)})}}}},function(e,t,n){"use strict";var r=n(59),a=n(142);e.exports=function(e,t,n,i){t=t||{};var o="log"===n&&"linear"===t.type,l="linear"===n&&"log"===t.type;if(o||l)for(var s,c,u=e._fullLayout.images,f=t._id.charAt(0),d=0;d<u.length;d++)if(s=u[d],c="images["+d+"].",s[f+"ref"]===t._id){var h=s[f],p=s["size"+f],g=null,v=null;if(o){g=a(h,t.range);var y=p/Math.pow(10,g)/2;v=2*Math.log(y+Math.sqrt(1+y*y))/Math.LN10}else g=Math.pow(10,h),v=g*(Math.pow(10,p/2)-Math.pow(10,-p/2));r(g)?r(v)||(v=null):(g=null,v=null),i(c+f,g),i(c+"size"+f,v)}}},function(e,t,n){"use strict";var r=n(167);e.exports={moduleType:"component",name:r.name,layoutAttributes:n(212),supplyLayoutDefaults:n(356),draw:n(357)}},function(e,t,n){"use strict";function r(e,t,n){function r(n,r){return i.coerce(e,t,l,n,r)}r("visible",a(e,t).length>0)&&(r("active"),r("direction"),r("type"),r("showactive"),r("x"),r("y"),i.noneOrAll(e,t,["x","y"]),r("xanchor"),r("yanchor"),r("pad.t"),r("pad.r"),r("pad.b"),r("pad.l"),i.coerceFont(r,"font",n.font),r("bgcolor",n.paper_bgcolor),r("bordercolor"),r("borderwidth"))}function a(e,t){function n(e,t){return i.coerce(r,a,u,e,t)}for(var r,a,o=e.buttons||[],l=t.buttons=[],s=0;s<o.length;s++)r=o[s],a={},n("method"),i.isPlainObject(r)&&("skip"===a.method||Array.isArray(r.args))&&(n("args"),n("label"),n("execute"),a._index=s,l.push(a));return l}var i=n(57),o=n(93),l=n(212),s=n(167),c=s.name,u=l.buttons;e.exports=function(e,t){o(e,t,{name:c,handleItemDefaults:r})}},function(e,t,n){"use strict";function r(e){for(var t=e[C.name],n=[],r=0;r<t.length;r++){var a=t[r];a.visible&&n.push(a)}return n}function a(e){return e._index}function i(e){return-1==+e.attr(C.menuIndexAttrName)}function o(e,t){return+e.attr(C.menuIndexAttrName)===t._index}function l(e,t,n,r,a,i,o,l){t._input.active=t.active=o,"buttons"===t.type?c(e,r,null,null,t):"dropdown"===t.type&&(a.attr(C.menuIndexAttrName,"-1"),s(e,r,a,i,t),l||c(e,r,a,i,t))}function s(e,t,n,r,a){var i=t.selectAll("g."+C.headerClassName).data([0]);i.enter().append("g").classed(C.headerClassName,!0).style("pointer-events","all");var l=a.active,s=a.buttons[l]||C.blankHeaderOpts,u={y:a.pad.t,yPad:0,x:a.pad.l,xPad:0,index:0},f={width:a.headerWidth,height:a.headerHeight};i.call(d,a,s,e).call(x,a,u,f);var h=t.selectAll("text."+C.headerArrowClassName).data([0]);h.enter().append("text").classed(C.headerArrowClassName,!0).classed("user-select-none",!0).attr("text-anchor","end").call(A.font,a.font).text(C.arrowSymbol[a.direction]),h.attr({x:a.headerWidth-C.arrowOffsetX+a.pad.l,y:a.headerHeight/2+C.textOffsetY+a.pad.t}),i.on("click",function(){n.call(b),n.attr(C.menuIndexAttrName,o(n,a)?-1:String(a._index)),c(e,t,n,r,a)}),i.on("mouseover",function(){i.call(v)}),i.on("mouseout",function(){i.call(y,a)}),A.setTranslate(t,a.lx,a.ly)}function c(e,t,n,r,a){n||(n=t,n.attr("pointer-events","all"));var o=i(n)&&"buttons"!==a.type?[]:a.buttons,s="dropdown"===a.type?C.dropdownButtonClassName:C.buttonClassName,c=n.selectAll("g."+s).data(o),h=c.enter().append("g").classed(s,!0),p=c.exit();"dropdown"===a.type?(h.attr("opacity","0").transition().attr("opacity","1"),p.transition().attr("opacity","0").remove()):p.remove();var m=0,b=0,_=-1!==["up","down"].indexOf(a.direction);"dropdown"===a.type&&(_?b=a.headerHeight+C.gapButtonHeader:m=a.headerWidth+C.gapButtonHeader),"dropdown"===a.type&&"up"===a.direction&&(b=-C.gapButtonHeader+C.gapButton-a.openHeight),"dropdown"===a.type&&"left"===a.direction&&(m=-C.gapButtonHeader+C.gapButton-a.openWidth);var M={x:a.lx+m+a.pad.l,y:a.ly+b+a.pad.t,yPad:C.gapButton,xPad:C.gapButton,index:0},A={l:M.x+a.borderwidth,t:M.y+a.borderwidth};c.each(function(i,o){var s=w.select(this);s.call(d,a,i,e).call(x,a,M),s.on("click",function(){w.event.defaultPrevented||(l(e,a,i,t,n,r,o),i.execute&&k.executeAPICommand(e,i.method,i.args),e.emit("plotly_buttonclicked",{menu:a,button:i,active:a.active}))}),s.on("mouseover",function(){s.call(v)}),s.on("mouseout",function(){s.call(y,a),c.call(g,a)})}),c.call(g,a),_?(A.w=Math.max(a.openWidth,a.headerWidth),A.h=M.y-A.t):(A.w=M.x-A.l,A.h=Math.max(a.openHeight,a.headerHeight)),A.direction=a.direction,r&&(c.size()?u(e,t,n,r,a,A):f(r))}function u(e,t,n,r,a,i){var o,l,s,c=a.direction,u="up"===c||"down"===c,f=a.active;if(u)for(l=0,s=0;s<f;s++)l+=a.heights[s]+C.gapButton;else for(o=0,s=0;s<f;s++)o+=a.widths[s]+C.gapButton;r.enable(i,o,l),r.hbar&&r.hbar.attr("opacity","0").transition().attr("opacity","1"),r.vbar&&r.vbar.attr("opacity","0").transition().attr("opacity","1")}function f(e){var t=!!e.hbar,n=!!e.vbar;t&&e.hbar.transition().attr("opacity","0").each("end",function(){t=!1,n||e.disable()}),n&&e.vbar.transition().attr("opacity","0").each("end",function(){n=!1,t||e.disable()})}function d(e,t,n,r){e.call(h,t).call(p,t,n,r)}function h(e,t){var n=e.selectAll("rect").data([0]);n.enter().append("rect").classed(C.itemRectClassName,!0).attr({rx:C.rx,ry:C.ry,"shape-rendering":"crispEdges"}),n.call(M.stroke,t.bordercolor).call(M.fill,t.bgcolor).style("stroke-width",t.borderwidth+"px")}function p(e,t,n,r){var a=e.selectAll("text").data([0]);a.enter().append("text").classed(C.itemTextClassName,!0).classed("user-select-none",!0).attr({"text-anchor":"start","data-notex":1}),a.call(A.font,t.font).text(n.label).call(T.convertToTspans,r)}function g(e,t){var n=t.active;e.each(function(e,r){var a=w.select(this);r===n&&t.showactive&&a.select("rect."+C.itemRectClassName).call(M.fill,C.activeColor)})}function v(e){e.select("rect."+C.itemRectClassName).call(M.fill,C.hoverColor)}function y(e,t){e.select("rect."+C.itemRectClassName).call(M.fill,t.bgcolor)}function m(e,t){t.width1=0,t.height1=0,t.heights=[],t.widths=[],t.totalWidth=0,t.totalHeight=0,t.openWidth=0,t.openHeight=0,t.lx=0,t.ly=0;var n=A.tester.selectAll("g."+C.dropdownButtonClassName).data(t.buttons);n.enter().append("g").classed(C.dropdownButtonClassName,!0);var r=-1!==["up","down"].indexOf(t.direction);n.each(function(n,a){var i=w.select(this);i.call(d,t,n,e);var o=i.select("."+C.itemTextClassName),l=o.node()&&A.bBox(o.node()).width,s=Math.max(l+C.textPadX,C.minWidth),c=t.font.size*L,u=T.lineCount(o),f=Math.max(c*u,C.minHeight)+C.textOffsetY;f=Math.ceil(f),s=Math.ceil(s),t.widths[a]=s,t.heights[a]=f,t.height1=Math.max(t.height1,f),t.width1=Math.max(t.width1,s),r?(t.totalWidth=Math.max(t.totalWidth,s),t.openWidth=t.totalWidth,t.totalHeight+=f+C.gapButton,t.openHeight+=f+C.gapButton):(t.totalWidth+=s+C.gapButton,t.openWidth+=s+C.gapButton,t.totalHeight=Math.max(t.totalHeight,f),t.openHeight=t.totalHeight)}),r?t.totalHeight-=C.gapButton:t.totalWidth-=C.gapButton,t.headerWidth=t.width1+C.arrowPadX,t.headerHeight=t.height1,"dropdown"===t.type&&(r?(t.width1+=C.arrowPadX,t.totalHeight=t.height1):t.totalWidth=t.width1,t.totalWidth+=C.arrowPadX),n.remove();var a=t.totalWidth+t.pad.l+t.pad.r,i=t.totalHeight+t.pad.t+t.pad.b,o=e._fullLayout._size;t.lx=o.l+o.w*t.x,t.ly=o.t+o.h*(1-t.y);var l="left";S.isRightAnchor(t)&&(t.lx-=a,l="right"),S.isCenterAnchor(t)&&(t.lx-=a/2,l="center");var s="top";S.isBottomAnchor(t)&&(t.ly-=i,s="bottom"),S.isMiddleAnchor(t)&&(t.ly-=i/2,s="middle"),t.totalWidth=Math.ceil(t.totalWidth),t.totalHeight=Math.ceil(t.totalHeight),t.lx=Math.round(t.lx),t.ly=Math.round(t.ly),k.autoMargin(e,C.autoMarginIdRoot+t._index,{x:t.x,y:t.y,l:a*({right:1,center:.5}[l]||0),r:a*({left:1,center:.5}[l]||0),b:i*({top:1,middle:.5}[s]||0),t:i*({bottom:1,middle:.5}[s]||0)})}function x(e,t,n,r){r=r||{};var a=e.select("."+C.itemRectClassName),i=e.select("."+C.itemTextClassName),o=t.borderwidth,l=n.index;A.setTranslate(e,o+n.x,o+n.y);var s=-1!==["up","down"].indexOf(t.direction),c=r.height||(s?t.heights[l]:t.height1);a.attr({x:0,y:0,width:r.width||(s?t.width1:t.widths[l]),height:c});var u=t.font.size*L,f=T.lineCount(i),d=(f-1)*u/2;T.positionText(i,C.textOffsetX,c/2-d+C.textOffsetY),s?n.y+=t.heights[l]+n.yPad:n.x+=t.widths[l]+n.xPad,n.index++}function b(e){e.selectAll("g."+C.dropdownButtonClassName).remove()}function _(e){for(var t=e._fullLayout._pushmargin||{},n=Object.keys(t),r=0;r<n.length;r++){var a=n[r];-1!==a.indexOf(C.autoMarginIdRoot)&&k.autoMargin(e,a)}}var w=n(58),k=n(65),M=n(60),A=n(62),T=n(70),S=n(121),L=n(71).LINE_SPACING,C=n(167),O=n(358);e.exports=function(e){var t=e._fullLayout,n=r(t),i=t._infolayer.selectAll("g."+C.containerClassName).data(n.length>0?[0]:[]);if(i.enter().append("g").classed(C.containerClassName,!0).style("cursor","pointer"),i.exit().remove(),i.exit().size()&&_(e),0!==n.length){var u=i.selectAll("g."+C.headerGroupClassName).data(n,a);u.enter().append("g").classed(C.headerGroupClassName,!0);var f=i.selectAll("g."+C.dropdownButtonGroupClassName).data([0]);f.enter().append("g").classed(C.dropdownButtonGroupClassName,!0).style("pointer-events","all");for(var d=0;d<n.length;d++){var h=n[d];m(e,h)}var p="updatemenus"+t._uid,g=new O(e,f,p);u.enter().size()&&f.call(b).attr(C.menuIndexAttrName,"-1"),u.exit().each(function(t){w.select(this).remove(),f.call(b).attr(C.menuIndexAttrName,"-1"),k.autoMargin(e,C.autoMarginIdRoot+t._index)}),u.each(function(t){var n=w.select(this),r="dropdown"===t.type?f:null;k.manageCommandObserver(e,t,t.buttons,function(a){l(e,t,t.buttons[a.index],n,r,g,a.index,!0)}),"dropdown"===t.type?(s(e,n,f,g,t),o(f,t)&&c(e,n,f,g,t)):c(e,n,null,null,t)})}}},function(e,t,n){"use strict";function r(e,t,n){this.gd=e,this.container=t,this.id=n,this.position=null,this.translateX=null,this.translateY=null,this.hbar=null,this.vbar=null,this.bg=this.container.selectAll("rect.scrollbox-bg").data([0]),this.bg.exit().on(".drag",null).on("wheel",null).remove(),this.bg.enter().append("rect").classed("scrollbox-bg",!0).style("pointer-events","all").attr({opacity:0,x:0,y:0,width:0,height:0})}e.exports=r;var a=n(58),i=n(60),o=n(62),l=n(57);r.barWidth=2,r.barLength=20,r.barRadius=2,r.barPad=1,r.barColor="#808BA4",r.prototype.enable=function(e,t,n){var l=this.gd._fullLayout,s=l.width,c=l.height;this.position=e;var u,f,d,h,p=this.position.l,g=this.position.w,v=this.position.t,y=this.position.h,m=this.position.direction,x="down"===m,b="left"===m,_="right"===m,w="up"===m,k=g,M=y;x||b||_||w||(this.position.direction="down",x=!0),x||w?(u=p,f=u+k,x?(d=v,h=Math.min(d+M,c),M=h-d):(h=v+M,d=Math.max(h-M,0),M=h-d)):(d=v,h=d+M,b?(f=p+k,u=Math.max(f-k,0),k=f-u):(u=p,f=Math.min(u+k,s),k=f-u)),this._box={l:u,t:d,w:k,h:M};var A=g>k,T=r.barLength+2*r.barPad,S=r.barWidth+2*r.barPad,L=p,C=v+y;C+S>c&&(C=c-S);var O=this.container.selectAll("rect.scrollbar-horizontal").data(A?[0]:[]);O.exit().on(".drag",null).remove(),O.enter().append("rect").classed("scrollbar-horizontal",!0).call(i.fill,r.barColor),A?(this.hbar=O.attr({rx:r.barRadius,ry:r.barRadius,x:L,y:C,width:T,height:S}),this._hbarXMin=L+T/2,this._hbarTranslateMax=k-T):(delete this.hbar,delete this._hbarXMin,delete this._hbarTranslateMax);var z=y>M,j=r.barWidth+2*r.barPad,D=r.barLength+2*r.barPad,I=p+g,P=v;I+j>s&&(I=s-j);var E=this.container.selectAll("rect.scrollbar-vertical").data(z?[0]:[]);E.exit().on(".drag",null).remove(),E.enter().append("rect").classed("scrollbar-vertical",!0).call(i.fill,r.barColor),z?(this.vbar=E.attr({rx:r.barRadius,ry:r.barRadius,x:I,y:P,width:j,height:D}),this._vbarYMin=P+D/2,this._vbarTranslateMax=M-D):(delete this.vbar,delete this._vbarYMin,delete this._vbarTranslateMax);var N=this.id,R=u-.5,F=z?f+j+.5:f+.5,B=d-.5,q=A?h+S+.5:h+.5,H=l._topdefs.selectAll("#"+N).data(A||z?[0]:[]);if(H.exit().remove(),H.enter().append("clipPath").attr("id",N).append("rect"),A||z?(this._clipRect=H.select("rect").attr({x:Math.floor(R),y:Math.floor(B),width:Math.ceil(F)-Math.floor(R),height:Math.ceil(q)-Math.floor(B)}),this.container.call(o.setClipUrl,N),this.bg.attr({x:p,y:v,width:g,height:y})):(this.bg.attr({width:0,height:0}),this.container.on("wheel",null).on(".drag",null).call(o.setClipUrl,null),delete this._clipRect),A||z){var V=a.behavior.drag().on("dragstart",function(){a.event.sourceEvent.preventDefault()}).on("drag",this._onBoxDrag.bind(this));this.container.on("wheel",null).on("wheel",this._onBoxWheel.bind(this)).on(".drag",null).call(V);var U=a.behavior.drag().on("dragstart",function(){a.event.sourceEvent.preventDefault(),a.event.sourceEvent.stopPropagation()}).on("drag",this._onBarDrag.bind(this));A&&this.hbar.on(".drag",null).call(U),z&&this.vbar.on(".drag",null).call(U)}this.setTranslate(t,n)},r.prototype.disable=function(){(this.hbar||this.vbar)&&(this.bg.attr({width:0,height:0}),this.container.on("wheel",null).on(".drag",null).call(o.setClipUrl,null),delete this._clipRect),this.hbar&&(this.hbar.on(".drag",null),this.hbar.remove(),delete this.hbar,delete this._hbarXMin,delete this._hbarTranslateMax),this.vbar&&(this.vbar.on(".drag",null),this.vbar.remove(),delete this.vbar,delete this._vbarYMin,delete this._vbarTranslateMax)},r.prototype._onBoxDrag=function(){var e=this.translateX,t=this.translateY;this.hbar&&(e-=a.event.dx),this.vbar&&(t-=a.event.dy),this.setTranslate(e,t)},r.prototype._onBoxWheel=function(){var e=this.translateX,t=this.translateY;this.hbar&&(e+=a.event.deltaY),this.vbar&&(t+=a.event.deltaY),this.setTranslate(e,t)},r.prototype._onBarDrag=function(){var e=this.translateX,t=this.translateY;if(this.hbar){var n=e+this._hbarXMin,r=n+this._hbarTranslateMax;e=(l.constrain(a.event.x,n,r)-n)/(r-n)*(this.position.w-this._box.w)}if(this.vbar){var i=t+this._vbarYMin,o=i+this._vbarTranslateMax;t=(l.constrain(a.event.y,i,o)-i)/(o-i)*(this.position.h-this._box.h)}this.setTranslate(e,t)},r.prototype.setTranslate=function(e,t){var n=this.position.w-this._box.w,r=this.position.h-this._box.h;if(e=l.constrain(e||0,0,n),t=l.constrain(t||0,0,r),this.translateX=e,this.translateY=t,this.container.call(o.setTranslate,this._box.l-this.position.l-e,this._box.t-this.position.t-t),this._clipRect&&this._clipRect.attr({x:Math.floor(this.position.l+e-.5),y:Math.floor(this.position.t+t-.5)}),this.hbar){var a=e/n;this.hbar.call(o.setTranslate,e+a*this._hbarTranslateMax,t)}if(this.vbar){var i=t/r;this.vbar.call(o.setTranslate,e,t+i*this._vbarTranslateMax)}}},function(e,t,n){"use strict";var r=n(123);e.exports={moduleType:"component",name:r.name,layoutAttributes:n(214),supplyLayoutDefaults:n(360),draw:n(361)}},function(e,t,n){"use strict";function r(e,t,n){function r(n,r){return i.coerce(e,t,l,n,r)}r("visible",a(e,t).length>0)&&(r("active"),r("x"),r("y"),i.noneOrAll(e,t,["x","y"]),r("xanchor"),r("yanchor"),r("len"),r("lenmode"),r("pad.t"),r("pad.r"),r("pad.b"),r("pad.l"),i.coerceFont(r,"font",n.font),r("currentvalue.visible")&&(r("currentvalue.xanchor"),r("currentvalue.prefix"),r("currentvalue.suffix"),r("currentvalue.offset"),i.coerceFont(r,"currentvalue.font",t.font)),r("transition.duration"),r("transition.easing"),r("bgcolor"),r("activebgcolor"),r("bordercolor"),r("borderwidth"),r("ticklen"),r("tickwidth"),r("tickcolor"),r("minorticklen"))}function a(e,t){function n(e,t){return i.coerce(r,a,u,e,t)}for(var r,a,o=e.steps||[],l=t.steps=[],s=0;s<o.length;s++)r=o[s],a={},n("method"),i.isPlainObject(r)&&("skip"===a.method||Array.isArray(r.args))&&(n("args"),n("label","step-"+s),n("value",a.label),n("execute"),l.push(a));return l}var i=n(57),o=n(93),l=n(214),s=n(123),c=s.name,u=l.steps;e.exports=function(e,t){o(e,t,{name:c,handleItemDefaults:r})}},function(e,t,n){"use strict";function r(e,t){for(var n=e[L.name],r=[],a=0;a<n.length;a++){var i=n[a];i.visible&&i.steps.length&&(i.gd=t,r.push(i))}return r}function a(e){return e._index}function i(e,t){var n=A.tester.selectAll("g."+L.labelGroupClass).data(t.steps);n.enter().append("g").classed(L.labelGroupClass,!0);var r=0,a=0;n.each(function(e){var n=w.select(this),i=c(n,{step:e},t),o=i.node();if(o){var l=A.bBox(o);a=Math.max(a,l.height),r=Math.max(r,l.width)}}),n.remove(),t.inputAreaWidth=Math.max(L.railWidth,L.gripHeight);var i=e._fullLayout._size;t.lx=i.l+i.w*t.x,t.ly=i.t+i.h*(1-t.y),"fraction"===t.lenmode?t.outerLength=Math.round(i.w*t.len):t.outerLength=t.len,t.lenPad=Math.round(.5*L.gripWidth),t.inputAreaStart=0,t.inputAreaLength=Math.round(t.outerLength-t.pad.l-t.pad.r);var o=t.inputAreaLength-2*L.stepInset,s=o/(t.steps.length-1),u=r+L.labelPadding;if(t.labelStride=Math.max(1,Math.ceil(u/s)),t.labelHeight=a,t.currentValueMaxWidth=0,t.currentValueHeight=0,t.currentValueTotalHeight=0,t.currentValueMaxLines=1,t.currentvalue.visible){var f=A.tester.append("g");n.each(function(e){var n=l(f,t,e.label),r=n.node()&&A.bBox(n.node())||{width:0,height:0},a=T.lineCount(n);t.currentValueMaxWidth=Math.max(t.currentValueMaxWidth,Math.ceil(r.width)),t.currentValueHeight=Math.max(t.currentValueHeight,Math.ceil(r.height)),t.currentValueMaxLines=Math.max(t.currentValueMaxLines,a)}),t.currentValueTotalHeight=t.currentValueHeight+t.currentvalue.offset,f.remove()}t.height=t.currentValueTotalHeight+L.tickOffset+t.ticklen+L.labelOffset+t.labelHeight+t.pad.t+t.pad.b;var d="left";S.isRightAnchor(t)&&(t.lx-=t.outerLength,d="right"),S.isCenterAnchor(t)&&(t.lx-=t.outerLength/2,d="center");var h="top";S.isBottomAnchor(t)&&(t.ly-=t.height,h="bottom"),S.isMiddleAnchor(t)&&(t.ly-=t.height/2,h="middle"),t.outerLength=Math.ceil(t.outerLength),t.height=Math.ceil(t.height),t.lx=Math.round(t.lx),t.ly=Math.round(t.ly),k.autoMargin(e,L.autoMarginIdRoot+t._index,{x:t.x,y:t.y,l:t.outerLength*({right:1,center:.5}[d]||0),r:t.outerLength*({left:1,center:.5}[d]||0),b:t.height*({top:1,middle:.5}[h]||0),t:t.height*({bottom:1,middle:.5}[h]||0)})}function o(e,t,n){n.active>=n.steps.length&&(n.active=0),t.call(l,n).call(b,n).call(u,n).call(p,n).call(x,e,n).call(s,e,n),A.setTranslate(t,n.lx+n.pad.l,n.ly+n.pad.t),t.call(v,n,n.active/(n.steps.length-1),!1),t.call(l,n)}function l(e,t,n){if(t.currentvalue.visible){var r,a,i=e.selectAll("text").data([0]);switch(t.currentvalue.xanchor){case"right":r=t.inputAreaLength-L.currentValueInset-t.currentValueMaxWidth,a="left";break;case"center":r=.5*t.inputAreaLength,a="middle";break;default:r=L.currentValueInset,a="left"}i.enter().append("text").classed(L.labelClass,!0).classed("user-select-none",!0).attr({"text-anchor":a,"data-notex":1});var o=t.currentvalue.prefix?t.currentvalue.prefix:"";if("string"==typeof n)o+=n;else{o+=t.steps[t.active].label}t.currentvalue.suffix&&(o+=t.currentvalue.suffix),i.call(A.font,t.currentvalue.font).text(o).call(T.convertToTspans,t.gd);var l=T.lineCount(i),s=(t.currentValueMaxLines+1-l)*t.currentvalue.font.size*C;return T.positionText(i,r,s),i}}function s(e,t,n){var r=e.selectAll("rect."+L.gripRectClass).data([0]);r.enter().append("rect").classed(L.gripRectClass,!0).call(h,t,e,n).style("pointer-events","all"),r.attr({width:L.gripWidth,height:L.gripHeight,rx:L.gripRadius,ry:L.gripRadius}).call(M.stroke,n.bordercolor).call(M.fill,n.bgcolor).style("stroke-width",n.borderwidth+"px")}function c(e,t,n){var r=e.selectAll("text").data([0]);return r.enter().append("text").classed(L.labelClass,!0).classed("user-select-none",!0).attr({"text-anchor":"middle","data-notex":1}),r.call(A.font,n.font).text(t.step.label).call(T.convertToTspans,n.gd),r}function u(e,t){var n=e.selectAll("g."+L.labelsClass).data([0]);n.enter().append("g").classed(L.labelsClass,!0);var r=n.selectAll("g."+L.labelGroupClass).data(t.labelSteps);r.enter().append("g").classed(L.labelGroupClass,!0),r.exit().remove(),r.each(function(e){var n=w.select(this);n.call(c,e,t),A.setTranslate(n,y(t,e.fraction),L.tickOffset+t.ticklen+t.font.size*C+L.labelOffset+t.currentValueTotalHeight)})}function f(e,t,n,r,a){var i=Math.round(r*(n.steps.length-1));i!==n.active&&d(e,t,n,i,!0,a)}function d(e,t,n,r,a,i){var o=n.active;n._input.active=n.active=r;var s=n.steps[n.active];t.call(v,n,n.active/(n.steps.length-1),i),t.call(l,n),e.emit("plotly_sliderchange",{slider:n,step:n.steps[n.active],interaction:a,previousActive:o}),s&&s.method&&a&&(t._nextMethod?(t._nextMethod.step=s,t._nextMethod.doCallback=a,t._nextMethod.doTransition=i):(t._nextMethod={step:s,doCallback:a,doTransition:i},t._nextMethodRaf=window.requestAnimationFrame(function(){var n=t._nextMethod.step;n.method&&(n.execute&&k.executeAPICommand(e,n.method,n.args),t._nextMethod=null,t._nextMethodRaf=null)})))}function h(e,t,n){function r(){return n.data()[0]}var a=n.node(),i=w.select(t);e.on("mousedown",function(){var e=r();t.emit("plotly_sliderstart",{slider:e});var o=n.select("."+L.gripRectClass);w.event.stopPropagation(),w.event.preventDefault(),o.call(M.fill,e.activebgcolor);var l=m(e,w.mouse(a)[0]);f(t,n,e,l,!0),e._dragging=!0,i.on("mousemove",function(){var e=r(),i=m(e,w.mouse(a)[0]);f(t,n,e,i,!1)}),i.on("mouseup",function(){var e=r();e._dragging=!1,o.call(M.fill,e.bgcolor),i.on("mouseup",null),i.on("mousemove",null),t.emit("plotly_sliderend",{slider:e,step:e.steps[e.active]})})})}function p(e,t){var n=e.selectAll("rect."+L.tickRectClass).data(t.steps);n.enter().append("rect").classed(L.tickRectClass,!0),n.exit().remove(),n.attr({width:t.tickwidth+"px","shape-rendering":"crispEdges"}),n.each(function(e,n){var r=n%t.labelStride==0,a=w.select(this);a.attr({height:r?t.ticklen:t.minorticklen}).call(M.fill,t.tickcolor),A.setTranslate(a,y(t,n/(t.steps.length-1))-.5*t.tickwidth,(r?L.tickOffset:L.minorTickOffset)+t.currentValueTotalHeight)})}function g(e){e.labelSteps=[];for(var t=e.steps.length,n=0;n<t;n+=e.labelStride)e.labelSteps.push({fraction:n/(t-1),step:e.steps[n]})}function v(e,t,n,r){var a=e.select("rect."+L.gripRectClass),i=y(t,n);if(!t._invokingCommand){var o=a;r&&t.transition.duration>0&&(o=o.transition().duration(t.transition.duration).ease(t.transition.easing)),o.attr("transform","translate("+(i-.5*L.gripWidth)+","+t.currentValueTotalHeight+")")}}function y(e,t){return e.inputAreaStart+L.stepInset+(e.inputAreaLength-2*L.stepInset)*Math.min(1,Math.max(0,t))}function m(e,t){return Math.min(1,Math.max(0,(t-L.stepInset-e.inputAreaStart)/(e.inputAreaLength-2*L.stepInset-2*e.inputAreaStart)))}function x(e,t,n){var r=e.selectAll("rect."+L.railTouchRectClass).data([0]);r.enter().append("rect").classed(L.railTouchRectClass,!0).call(h,t,e,n).style("pointer-events","all"),r.attr({width:n.inputAreaLength,height:Math.max(n.inputAreaWidth,L.tickOffset+n.ticklen+n.labelHeight)}).call(M.fill,n.bgcolor).attr("opacity",0),A.setTranslate(r,0,n.currentValueTotalHeight)}function b(e,t){var n=e.selectAll("rect."+L.railRectClass).data([0]);n.enter().append("rect").classed(L.railRectClass,!0);var r=t.inputAreaLength-2*L.railInset;n.attr({width:r,height:L.railWidth,rx:L.railRadius,ry:L.railRadius,"shape-rendering":"crispEdges"}).call(M.stroke,t.bordercolor).call(M.fill,t.bgcolor).style("stroke-width",t.borderwidth+"px"),A.setTranslate(n,L.railInset,.5*(t.inputAreaWidth-L.railWidth)+t.currentValueTotalHeight)}function _(e){for(var t=e._fullLayout._pushmargin||{},n=Object.keys(t),r=0;r<n.length;r++){var a=n[r];-1!==a.indexOf(L.autoMarginIdRoot)&&k.autoMargin(e,a)}}var w=n(58),k=n(65),M=n(60),A=n(62),T=n(70),S=n(121),L=n(123),C=n(71).LINE_SPACING;e.exports=function(e){var t=e._fullLayout,n=r(t,e),l=t._infolayer.selectAll("g."+L.containerClassName).data(n.length>0?[0]:[]);if(l.enter().append("g").classed(L.containerClassName,!0).style("cursor","ew-resize"),l.exit().remove(),l.exit().size()&&_(e),0!==n.length){var s=l.selectAll("g."+L.groupClassName).data(n,a);s.enter().append("g").classed(L.groupClassName,!0),s.exit().each(function(t){w.select(this).remove(),t._commandObserver.remove(),delete t._commandObserver,k.autoMargin(e,L.autoMarginIdRoot+t._index)});for(var c=0;c<n.length;c++){var u=n[c];i(e,u)}s.each(function(t){if(!(t.steps.length<2)){var n=w.select(this);g(t),k.manageCommandObserver(e,t,t.steps,function(t){var r=n.data()[0];r.active!==t.index&&(r._dragging||d(e,n,r,t.index,!1,!0))}),o(e,w.select(this),t)}})}}},function(e,t,n){"use strict";e.exports={moduleType:"component",name:"rangeslider",schema:{subplots:{xaxis:{rangeslider:n(168)}}},layoutAttributes:n(168),handleDefaults:n(363),calcAutorange:n(364),draw:n(365)}},function(e,t,n){"use strict";var r=n(57),a=n(168);e.exports=function(e,t,n){function i(e,t){return r.coerce(o,s,a,e,t)}if(e[n].rangeslider){r.isPlainObject(e[n].rangeslider)||(e[n].rangeslider={});var o=e[n].rangeslider,l=t[n],s=l.rangeslider={};if(i("visible")){if(i("bgcolor",t.plot_bgcolor),i("bordercolor"),i("borderwidth"),i("thickness"),i("autorange",!l.isValidRange(o.range)),i("range"),s.range){var c=s.range,u=l.range;c[0]=l.l2r(Math.min(l.r2l(c[0]),l.r2l(u[0]))),c[1]=l.l2r(Math.max(l.r2l(c[1]),l.r2l(u[1])))}l.cleanRange("rangeslider.range"),s._input=o}}}},function(e,t,n){"use strict";var r=n(63),a=n(215);e.exports=function(e){for(var t=r.list(e,"x",!0),n=0;n<t.length;n++){var i=t[n],o=i[a.name];o&&o.visible&&o.autorange&&i._min.length&&i._max.length&&(o._input.autorange=!0,o._input.range=o.range=r.getAutoRange(i))}}},function(e,t,n){"use strict";function r(e){var t=w.list({_fullLayout:e},"x",!0),n=A.name,r=[];if(e._has("gl2d"))return r;for(var a=0;a<t.length;a++){var i=t[a];i[n]&&i[n].visible&&r.push(i)}return r}function a(e,t,n,r){var a=e.select("rect."+A.slideBoxClassName).node(),o=e.select("rect."+A.grabAreaMinClassName).node(),l=e.select("rect."+A.grabAreaMaxClassName).node();e.on("mousedown",function(){function s(s){var c,u,m,x=+s.clientX-d;switch(f){case a:m="ew-resize",c=p+x,u=v+x;break;case o:m="col-resize",c=p+x,u=v;break;case l:m="col-resize",c=p,u=v+x;break;default:m="ew-resize",c=h,u=h+x}if(u<c){var b=u;u=c,c=b}r._pixelMin=c,r._pixelMax=u,M(g.select(y),m),i(e,t,n,r)}function c(){y.removeEventListener("mousemove",s),y.removeEventListener("mouseup",c),m.removeElement(y)}var u=g.event,f=u.target,d=u.clientX,h=d-e.node().getBoundingClientRect().left,p=r.d2p(n._rl[0]),v=r.d2p(n._rl[1]),y=k.coverSlip();y.addEventListener("mousemove",s),y.addEventListener("mouseup",c)})}function i(e,t,n,r){function a(e){return n.l2r(m.constrain(e,r._rl[0],r._rl[1]))}var i=a(r.p2d(r._pixelMin)),o=a(r.p2d(r._pixelMax));window.requestAnimationFrame(function(){v.relayout(t,n._name+".range",[i,o])})}function o(e,t,n,r){function a(e){return m.constrain(e,0,r._width)}function i(e){return m.constrain(e,-o,r._width+o)}var o=A.handleWidth/2,l=a(r.d2p(n._rl[0])),s=a(r.d2p(n._rl[1]));e.select("rect."+A.slideBoxClassName).attr("x",l).attr("width",s-l),e.select("rect."+A.maskMinClassName).attr("width",l),e.select("rect."+A.maskMaxClassName).attr("x",s).attr("width",r._width-s);var c=Math.round(i(l-o))-.5,u=Math.round(i(s-o))+.5;e.select("g."+A.grabberMinClassName).attr("transform","translate("+c+",0.5)"),e.select("g."+A.grabberMaxClassName).attr("transform","translate("+u+",0.5)")}function l(e,t,n,r){var a=e.selectAll("rect."+A.bgClassName).data([0]);a.enter().append("rect").classed(A.bgClassName,!0).attr({x:0,y:0,"shape-rendering":"crispEdges"});var i=r.borderwidth%2==0?r.borderwidth:r.borderwidth-1,o=-r._offsetShift,l=x.crispRound(t,r.borderwidth);a.attr({width:r._width+i,height:r._height+i,transform:"translate("+o+","+o+")",fill:r.bgcolor,stroke:r.bordercolor,"stroke-width":l})}function s(e,t,n,r){var a=t._fullLayout,i=a._topdefs.selectAll("#"+r._clipId).data([0]);i.enter().append("clipPath").attr("id",r._clipId).append("rect").attr({x:0,y:0}),i.select("rect").attr({width:r._width,height:r._height})}function c(e,t,n,r){var a=w.getSubplots(t,n),i=t.calcdata,o=e.selectAll("g."+A.rangePlotClassName).data(a,m.identity);o.enter().append("g").attr("class",function(e){return A.rangePlotClassName+" "+e}).call(x.setClipUrl,r._clipId),o.order(),o.exit().remove();var l;o.each(function(e,a){var o=g.select(this),s=0===a,c=w.getFromId(t,e,"y"),f=c._name,d={data:[],layout:{xaxis:{type:n.type,domain:[0,1],range:r.range.slice(),calendar:n.calendar},width:r._width,height:r._height,margin:{t:0,b:0,l:0,r:0}}};d.layout[f]={type:c.type,domain:[0,1],range:c.range.slice(),calendar:c.calendar},y.supplyDefaults(d);var h=d._fullLayout.xaxis,p=d._fullLayout[f],v={id:e,plotgroup:o,xaxis:h,yaxis:p};s?l=v:(v.mainplot="xy",v.mainplotinfo=l),_.rangePlot(t,v,u(i,e))})}function u(e,t){for(var n=[],r=0;r<e.length;r++){var a=e[r],i=a[0].trace;i.xaxis+i.yaxis===t&&n.push(a)}return n}function f(e,t,n,r){var a=e.selectAll("rect."+A.maskMinClassName).data([0]);a.enter().append("rect").classed(A.maskMinClassName,!0).attr({x:0,y:0}).attr("shape-rendering","crispEdges"),a.attr("height",r._height).call(b.fill,A.maskColor);var i=e.selectAll("rect."+A.maskMaxClassName).data([0]);i.enter().append("rect").classed(A.maskMaxClassName,!0).attr("y",0).attr("shape-rendering","crispEdges"),i.attr("height",r._height).call(b.fill,A.maskColor)}function d(e,t,n,r){if(!t._context.staticPlot){var a=e.selectAll("rect."+A.slideBoxClassName).data([0]);a.enter().append("rect").classed(A.slideBoxClassName,!0).attr("y",0).attr("cursor",A.slideBoxCursor).attr("shape-rendering","crispEdges"),a.attr({height:r._height,fill:A.slideBoxFill})}}function h(e,t,n,r){var a=e.selectAll("g."+A.grabberMinClassName).data([0]);a.enter().append("g").classed(A.grabberMinClassName,!0);var i=e.selectAll("g."+A.grabberMaxClassName).data([0]);i.enter().append("g").classed(A.grabberMaxClassName,!0);var o={x:0,width:A.handleWidth,rx:A.handleRadius,fill:b.background,stroke:b.defaultLine,"stroke-width":A.handleStrokeWidth,"shape-rendering":"crispEdges"},l={y:Math.round(r._height/4),height:Math.round(r._height/2)},s=a.selectAll("rect."+A.handleMinClassName).data([0]);s.enter().append("rect").classed(A.handleMinClassName,!0).attr(o),s.attr(l);var c=i.selectAll("rect."+A.handleMaxClassName).data([0]);if(c.enter().append("rect").classed(A.handleMaxClassName,!0).attr(o),c.attr(l),!t._context.staticPlot){var u={width:A.grabAreaWidth,x:0,y:0,fill:A.grabAreaFill,cursor:A.grabAreaCursor},f=a.selectAll("rect."+A.grabAreaMinClassName).data([0]);f.enter().append("rect").classed(A.grabAreaMinClassName,!0).attr(u),f.attr("height",r._height);var d=i.selectAll("rect."+A.grabAreaMaxClassName).data([0]);d.enter().append("rect").classed(A.grabAreaMaxClassName,!0).attr(u),d.attr("height",r._height)}}function p(e){for(var t=e._fullLayout._pushmargin||{},n=Object.keys(t),r=0;r<n.length;r++){var a=n[r];-1!==a.indexOf(A.name)&&y.autoMargin(e,a)}}var g=n(58),v=n(64),y=n(65),m=n(57),x=n(62),b=n(60),_=n(204),w=n(63),k=n(76),M=n(92),A=n(215);e.exports=function(e){function t(e){return e._name}var n=e._fullLayout,i=r(n),u=n._infolayer.selectAll("g."+A.containerClassName).data(i,t);u.enter().append("g").classed(A.containerClassName,!0).attr("pointer-events","all"),u.exit().each(function(e){var t=g.select(this),r=e[A.name];t.remove(),n._topdefs.select("#"+r._clipId).remove()}),u.exit().size()&&p(e),0!==i.length&&u.each(function(t){var r=g.select(this),i=t[A.name],u=n[w.id2name(t.anchor)],p=n.margin,v=n._size,m=t.domain,x=u.domain,b=(t._boundingBox||{}).height||0;i._id=A.name+t._id,i._clipId=i._id+"-"+n._uid,i._width=v.w*(m[1]-m[0]),i._height=(n.height-p.b-p.t)*i.thickness,i._offsetShift=Math.floor(i.borderwidth/2);var _=Math.round(p.l+v.w*m[0]),k=Math.round(p.t+v.h*(1-x[0])+b+i._offsetShift+A.extraPad);r.attr("transform","translate("+_+","+k+")");var M=t.r2l(i.range[0]),T=t.r2l(i.range[1]),S=T-M;i.p2d=function(e){return e/i._width*S+M},i.d2p=function(e){return(e-M)/S*i._width},i._rl=[M,T],r.call(l,e,t,i).call(s,e,t,i).call(c,e,t,i).call(f,e,t,i).call(d,e,t,i).call(h,e,t,i),a(r,e,t,i),o(r,e,t,i),y.autoMargin(e,i._id,{x:m[0],y:x[0],l:0,r:0,t:0,b:i._height+p.b+b,pad:A.extraPad+2*i._offsetShift})})}},function(e,t,n){"use strict";e.exports={moduleType:"component",name:"rangeselector",schema:{subplots:{xaxis:{rangeselector:n(169)}}},layoutAttributes:n(169),handleDefaults:n(367),draw:n(368)}},function(e,t,n){"use strict";function r(e,t,n){function r(e,t){return i.coerce(a,o,s,e,t)}for(var a,o,l=e.buttons||[],c=t.buttons=[],u=0;u<l.length;u++)if(a=l[u],o={},i.isPlainObject(a)){var f=r("step");"all"!==f&&(!n||"gregorian"===n||"month"!==f&&"year"!==f?r("stepmode"):o.stepmode="backward",r("count")),r("label"),o._index=u,c.push(o)}return c}function a(e,t,n){for(var r=n.filter(function(n){return t[n].anchor===e._id}),a=0,i=0;i<r.length;i++){var o=t[r[i]].domain;o&&(a=Math.max(o[1],a))}return[e.domain[0],a+c.yPad]}var i=n(57),o=n(60),l=n(169),s=n(216),c=n(217);e.exports=function(e,t,n,s,u){function f(e,t){return i.coerce(d,h,l,e,t)}var d=e.rangeselector||{},h=t.rangeselector={};if(f("visible",r(d,h,u).length>0)){var p=a(t,n,s);f("x",p[0]),f("y",p[1]),i.noneOrAll(e,t,["x","y"]),f("xanchor"),f("yanchor"),i.coerceFont(f,"font",n.font);var g=f("bgcolor");f("activecolor",o.contrast(g,c.lightAmount,c.darkAmount)),f("bordercolor"),f("borderwidth")}}},function(e,t,n){"use strict";function r(e){for(var t=y.list(e,"x",!0),n=[],r=0;r<t.length;r++){var a=t[r];a.rangeselector&&a.rangeselector.visible&&n.push(a)}return n}function a(e){return e._id}function i(e,t,n){if("all"===t.step)return!0===e.autorange;var r=Object.keys(n);return e.range[0]===n[r[0]]&&e.range[1]===n[r[1]]}function o(e,t,n){var r=e.selectAll("rect").data([0]);r.enter().append("rect").classed("selector-rect",!0),r.attr("shape-rendering","crispEdges"),r.attr({rx:b.rx,ry:b.ry}),r.call(p.stroke,t.bordercolor).call(p.fill,l(t,n)).style("stroke-width",t.borderwidth+"px")}function l(e,t){return t.isActive||t.isHovered?e.activecolor:e.bgcolor}function s(e,t,n,r){function a(e){v.convertToTspans(e,r)}var i=e.selectAll("text").data([0]);i.enter().append("text").classed("selector-text",!0).classed("user-select-none",!0),i.attr("text-anchor","middle"),i.call(g.font,t.font).text(c(n)).call(a)}function c(e){return e.label?e.label:"all"===e.step?"all":e.count+e.step.charAt(0)}function u(e,t,n,r){n.width=0,n.height=0;var a=n.borderwidth;t.each(function(){var e=f.select(this),t=e.select(".selector-text"),r=n.font.size*x,a=Math.max(r*v.lineCount(t),16)+3;n.height=Math.max(n.height,a)}),t.each(function(){var e=f.select(this),t=e.select(".selector-rect"),r=e.select(".selector-text"),i=r.node()&&g.bBox(r.node()).width,o=n.font.size*x,l=v.lineCount(r),s=Math.max(i+10,b.minButtonWidth);e.attr("transform","translate("+(a+n.width)+","+a+")"),t.attr({x:0,y:0,width:s,height:n.height}),v.positionText(r,s/2,n.height/2-(l-1)*o/2+3),n.width+=s+5}),t.selectAll("rect").attr("height",n.height);var i=e._fullLayout._size;n.lx=i.l+i.w*n.x,n.ly=i.t+i.h*(1-n.y);var o="left";m.isRightAnchor(n)&&(n.lx-=n.width,o="right"),m.isCenterAnchor(n)&&(n.lx-=n.width/2,o="center");var l="top";m.isBottomAnchor(n)&&(n.ly-=n.height,l="bottom"),m.isMiddleAnchor(n)&&(n.ly-=n.height/2,l="middle"),n.width=Math.ceil(n.width),n.height=Math.ceil(n.height),n.lx=Math.round(n.lx),n.ly=Math.round(n.ly),h.autoMargin(e,r+"-range-selector",{x:n.x,y:n.y,l:n.width*({right:1,center:.5}[o]||0),r:n.width*({left:1,center:.5}[o]||0),b:n.height*({top:1,middle:.5}[l]||0),t:n.height*({bottom:1,middle:.5}[l]||0)})}var f=n(58),d=n(64),h=n(65),p=n(60),g=n(62),v=n(70),y=n(73),m=n(121),x=n(71).LINE_SPACING,b=n(217),_=n(369);e.exports=function(e){var t=e._fullLayout,n=t._infolayer.selectAll(".rangeselector").data(r(e),a);n.enter().append("g").classed("rangeselector",!0),n.exit().remove(),n.style({cursor:"pointer","pointer-events":"all"}),n.each(function(t){var n=f.select(this),r=t,a=r.rangeselector,l=n.selectAll("g.button").data(a.buttons);l.enter().append("g").classed("button",!0),l.exit().remove(),l.each(function(t){var n=f.select(this),l=_(r,t);t.isActive=i(r,t,l),n.call(o,a,t),n.call(s,a,t,e),n.on("click",function(){e._dragged||d.relayout(e,l)}),n.on("mouseover",function(){t.isHovered=!0,n.call(o,a,t)}),n.on("mouseout",function(){t.isHovered=!1,n.call(o,a,t)})}),u(e,l,a,r._name),n.attr("transform","translate("+a.lx+","+a.ly+")")})}},function(e,t,n){"use strict";function r(e,t){var n,r=e.range,i=new Date(e.r2l(r[1])),o=t.step,l=t.count;switch(t.stepmode){case"backward":n=e.l2r(+a.time[o].utc.offset(i,-l));break;case"todate":var s=a.time[o].utc.offset(i,-l);n=e.l2r(+a.time[o].utc.ceil(s))}return[n,r[1]]}var a=n(58);e.exports=function(e,t){var n=e._name,a={};if("all"===t.step)a[n+".autorange"]=!0;else{var i=r(e,t);a[n+".range[0]"]=i[0],a[n+".range[1]"]=i[1]}return a}},function(e,t,n){"use strict";var r=n(155),a={getDelay:r.getDelay,getRedrawFunc:r.getRedrawFunc,clone:n(218),toSVG:n(156),svgToImg:n(157),toImage:n(371),downloadImage:n(154)};e.exports=a},function(e,t,n){"use strict";function r(e,t){function n(){var e=l.getDelay(d._fullLayout);setTimeout(function(){var e=c(d),n=document.createElement("canvas");n.id=o.randstr(),r=u({format:t.format,width:d._fullLayout.width,height:d._fullLayout.height,canvas:n,emitter:r,svg:e}),r.clean=function(){d&&document.body.removeChild(d)}},e)}var r=new a,f=s(e,{format:"png"}),d=f.gd;d.style.position="absolute",d.style.left="-5000px",document.body.appendChild(d);var h=l.getRedrawFunc(d);return i.plot(d,f.data,f.layout,f.config).then(h).then(n).catch(function(e){r.emit("error",e)}),r}var a=n(158).EventEmitter,i=n(64),o=n(57),l=n(155),s=n(218),c=n(156),u=n(157);e.exports=r},function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("h5",{staticClass:"charttitle"},[e._v("\n    "+e._s(e.dataset)+"\n  ")]),e._v(" "),n("div",{ref:"chart"})])},staticRenderFns:[]}},function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("h3",[e._v("Chart page demo")]),e._v(" "),n("LineChart",{attrs:{dataset:"sample-beer"}})],1)},staticRenderFns:[]}}]));